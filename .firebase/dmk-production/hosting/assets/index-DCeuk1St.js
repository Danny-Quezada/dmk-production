function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/c4Diagram-ae766693-Dwg8Q5GU.js","assets/svgDrawCommon-5e1cfd1d-B-Qt5XrZ.js","assets/flowDiagram-b222e15a-CxfHtri-.js","assets/flowDb-c1833063-DoKzdhsM.js","assets/graph-B9OKuFKd.js","assets/layout-CEcJhJsb.js","assets/styles-483fbfea-RbeQfdOh.js","assets/index-01f381cb-eZthhV1U.js","assets/clone-DT-fAV23.js","assets/edges-066a5561-CHSsYgDv.js","assets/createText-ca0c5216-BfI3MFYs.js","assets/line-BpAAgfw5.js","assets/array-BKyUJesY.js","assets/path-CbwjOpE9.js","assets/channel-BGhHwJ49.js","assets/flowDiagram-v2-13329dc7-C2IGavW3.js","assets/erDiagram-09d1c15f-QKKn_bPB.js","assets/ganttDiagram-b62c793e-tFkzFPIK.js","assets/linear-CIIUULno.js","assets/init-Gi6I4Gst.js","assets/pieDiagram-bb1d19e5-DwTBe4PB.js","assets/arc-vAwZbysO.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-c759a472-D4ZdawKt.js","assets/xychartDiagram-f11f50a6-C066SYNd.js","assets/requirementDiagram-87253d64-DOvPnxtl.js","assets/sequenceDiagram-6894f283-Ch3PCtC_.js","assets/classDiagram-fb54d2a0-B5q5duhY.js","assets/styles-b83b31c9-8QfIvpaT.js","assets/classDiagram-v2-a2b738ad-U1K8tetP.js","assets/stateDiagram-5dee940d-c7zfm5wz.js","assets/styles-0784dbeb-ByPyzMDc.js","assets/stateDiagram-v2-1992cada-D89uL6--.js","assets/journeyDiagram-6625b456-4vusJEsQ.js","assets/flowchart-elk-definition-ae0efee6-xN7Kk6MZ.js","assets/timeline-definition-bf702344-DO7vZPlw.js","assets/mindmap-definition-307c710a-UvsZZN3m.js","assets/sankeyDiagram-707fac0f-BbUVYT9e.js","assets/Tableau10-B-NsZVaP.js","assets/blockDiagram-9f4a6865-DYKo7kbD.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var N0=Object.defineProperty;var j0=(e,o,s)=>o in e?N0(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s;var Er=(e,o,s)=>(j0(e,typeof o!="symbol"?o+"":o,s),s);function _mergeNamespaces(e,o){for(var s=0;s<o.length;s++){const a=o[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const h=Object.getOwnPropertyDescriptor(a,c);h&&Object.defineProperty(e,c,h.get?h:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(e){return e===null||typeof e!="object"?null:(e=z$2&&e[z$2]||e["@@iterator"],typeof e=="function"?e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2(e,o,s){this.props=e,this.context=o,this.refs=D$3,this.updater=s||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(e,o){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,o,"setState")};E$2.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F$3(){}F$3.prototype=E$2.prototype;function G$2(e,o,s){this.props=e,this.context=o,this.refs=D$3,this.updater=s||B$2}var H$2=G$2.prototype=new F$3;H$2.constructor=G$2;C$3(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$3={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$2(e,o,s){var a,c={},h=null,g=null;if(o!=null)for(a in o.ref!==void 0&&(g=o.ref),o.key!==void 0&&(h=""+o.key),o)J$1.call(o,a)&&!L$1.hasOwnProperty(a)&&(c[a]=o[a]);var _=arguments.length-2;if(_===1)c.children=s;else if(1<_){for(var et=Array(_),rt=0;rt<_;rt++)et[rt]=arguments[rt+2];c.children=et}if(e&&e.defaultProps)for(a in _=e.defaultProps,_)c[a]===void 0&&(c[a]=_[a]);return{$$typeof:l$2,type:e,key:h,ref:g,props:c,_owner:K$3.current}}function N$2(e,o){return{$$typeof:l$2,type:e.type,key:o,ref:e.ref,props:e.props,_owner:e._owner}}function O$3(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$2}function escape$1(e){var o={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return o[s]})}var P$2=/\/+/g;function Q$3(e,o){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):o.toString(36)}function R$2(e,o,s,a,c){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(h){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case l$2:case n$1:g=!0}}if(g)return g=e,c=c(g),e=a===""?"."+Q$3(g,0):a,I$2(c)?(s="",e!=null&&(s=e.replace(P$2,"$&/")+"/"),R$2(c,o,s,"",function(rt){return rt})):c!=null&&(O$3(c)&&(c=N$2(c,s+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(P$2,"$&/")+"/")+e)),o.push(c)),1;if(g=0,a=a===""?".":a+":",I$2(e))for(var _=0;_<e.length;_++){h=e[_];var et=a+Q$3(h,_);g+=R$2(h,o,s,et,c)}else if(et=A$2(e),typeof et=="function")for(e=et.call(e),_=0;!(h=e.next()).done;)h=h.value,et=a+Q$3(h,_++),g+=R$2(h,o,s,et,c);else if(h==="object")throw o=String(e),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return g}function S$3(e,o,s){if(e==null)return e;var a=[],c=0;return R$2(e,a,"","",function(h){return o.call(s,h,c++)}),a}function T$2(e){if(e._status===-1){var o=e._result;o=o(),o.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=o)}if(e._status===1)return e._result.default;throw e._result}var U$3={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(e,o,s){S$3(e,function(){o.apply(this,arguments)},s)},count:function(e){var o=0;return S$3(e,function(){o++}),o},toArray:function(e){return S$3(e,function(o){return o})||[]},only:function(e){if(!O$3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(e,o,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=C$3({},e.props),c=e.key,h=e.ref,g=e._owner;if(o!=null){if(o.ref!==void 0&&(h=o.ref,g=K$3.current),o.key!==void 0&&(c=""+o.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(et in o)J$1.call(o,et)&&!L$1.hasOwnProperty(et)&&(a[et]=o[et]===void 0&&_!==void 0?_[et]:o[et])}var et=arguments.length-2;if(et===1)a.children=s;else if(1<et){_=Array(et);for(var rt=0;rt<et;rt++)_[rt]=arguments[rt+2];a.children=_}return{$$typeof:l$2,type:e.type,key:c,ref:h,props:a,_owner:g}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$2;react_production_min.createFactory=function(e){var o=M$2.bind(null,e);return o.type=e,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$3,render:e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(e){return{$$typeof:y$1,_payload:{_status:-1,_result:e},_init:T$2}};react_production_min.memo=function(e,o){return{$$typeof:x$1,type:e,compare:o===void 0?null:o}};react_production_min.startTransition=function(e){var o=V$2.transition;V$2.transition={};try{e()}finally{V$2.transition=o}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,o){return U$3.current.useCallback(e,o)};react_production_min.useContext=function(e){return U$3.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$3.current.useDeferredValue(e)};react_production_min.useEffect=function(e,o){return U$3.current.useEffect(e,o)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(e,o,s){return U$3.current.useImperativeHandle(e,o,s)};react_production_min.useInsertionEffect=function(e,o){return U$3.current.useInsertionEffect(e,o)};react_production_min.useLayoutEffect=function(e,o){return U$3.current.useLayoutEffect(e,o)};react_production_min.useMemo=function(e,o){return U$3.current.useMemo(e,o)};react_production_min.useReducer=function(e,o,s){return U$3.current.useReducer(e,o,s)};react_production_min.useRef=function(e){return U$3.current.useRef(e)};react_production_min.useState=function(e){return U$3.current.useState(e)};react_production_min.useSyncExternalStore=function(e,o,s){return U$3.current.useSyncExternalStore(e,o,s)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(e,o,s){var a,c={},h=null,g=null;s!==void 0&&(h=""+s),o.key!==void 0&&(h=""+o.key),o.ref!==void 0&&(g=o.ref);for(a in o)m$1.call(o,a)&&!p$2.hasOwnProperty(a)&&(c[a]=o[a]);if(e&&e.defaultProps)for(a in o=e.defaultProps,o)c[a]===void 0&&(c[a]=o[a]);return{$$typeof:k$1,type:e,key:h,ref:g,props:c,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function o(Lt,rr){var tr=Lt.length;Lt.push(rr);e:for(;0<tr;){var Kt=tr-1>>>1,Dt=Lt[Kt];if(0<c(Dt,rr))Lt[Kt]=rr,Lt[tr]=Dt,tr=Kt;else break e}}function s(Lt){return Lt.length===0?null:Lt[0]}function a(Lt){if(Lt.length===0)return null;var rr=Lt[0],tr=Lt.pop();if(tr!==rr){Lt[0]=tr;e:for(var Kt=0,Dt=Lt.length,hr=Dt>>>1;Kt<hr;){var ar=2*(Kt+1)-1,Tr=Lt[ar],yr=ar+1,Mt=Lt[yr];if(0>c(Tr,tr))yr<Dt&&0>c(Mt,Tr)?(Lt[Kt]=Mt,Lt[yr]=tr,Kt=yr):(Lt[Kt]=Tr,Lt[ar]=tr,Kt=ar);else if(yr<Dt&&0>c(Mt,tr))Lt[Kt]=Mt,Lt[yr]=tr,Kt=yr;else break e}}return rr}function c(Lt,rr){var tr=Lt.sortIndex-rr.sortIndex;return tr!==0?tr:Lt.id-rr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var g=Date,_=g.now();e.unstable_now=function(){return g.now()-_}}var et=[],rt=[],it=1,ot=null,st=3,ct=!1,dt=!1,Tt=!1,Et=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt(Lt){for(var rr=s(rt);rr!==null;){if(rr.callback===null)a(rt);else if(rr.startTime<=Lt)a(rt),rr.sortIndex=rr.expirationTime,o(et,rr);else break;rr=s(rt)}}function bt(Lt){if(Tt=!1,xt(Lt),!dt)if(s(et)!==null)dt=!0,Pt(It);else{var rr=s(rt);rr!==null&&ur(bt,rr.startTime-Lt)}}function It(Lt,rr){dt=!1,Tt&&(Tt=!1,mt(Bt),Bt=-1),ct=!0;var tr=st;try{for(xt(rr),ot=s(et);ot!==null&&(!(ot.expirationTime>rr)||Lt&&!pr());){var Kt=ot.callback;if(typeof Kt=="function"){ot.callback=null,st=ot.priorityLevel;var Dt=Kt(ot.expirationTime<=rr);rr=e.unstable_now(),typeof Dt=="function"?ot.callback=Dt:ot===s(et)&&a(et),xt(rr)}else a(et);ot=s(et)}if(ot!==null)var hr=!0;else{var ar=s(rt);ar!==null&&ur(bt,ar.startTime-rr),hr=!1}return hr}finally{ot=null,st=tr,ct=!1}}var Ut=!1,Ft=null,Bt=-1,cr=5,Ht=-1;function pr(){return!(e.unstable_now()-Ht<cr)}function Ar(){if(Ft!==null){var Lt=e.unstable_now();Ht=Lt;var rr=!0;try{rr=Ft(!0,Lt)}finally{rr?Rr():(Ut=!1,Ft=null)}}else Ut=!1}var Rr;if(typeof gt=="function")Rr=function(){gt(Ar)};else if(typeof MessageChannel<"u"){var dr=new MessageChannel,Yt=dr.port2;dr.port1.onmessage=Ar,Rr=function(){Yt.postMessage(null)}}else Rr=function(){Et(Ar,0)};function Pt(Lt){Ft=Lt,Ut||(Ut=!0,Rr())}function ur(Lt,rr){Bt=Et(function(){Lt(e.unstable_now())},rr)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Lt){Lt.callback=null},e.unstable_continueExecution=function(){dt||ct||(dt=!0,Pt(It))},e.unstable_forceFrameRate=function(Lt){0>Lt||125<Lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):cr=0<Lt?Math.floor(1e3/Lt):5},e.unstable_getCurrentPriorityLevel=function(){return st},e.unstable_getFirstCallbackNode=function(){return s(et)},e.unstable_next=function(Lt){switch(st){case 1:case 2:case 3:var rr=3;break;default:rr=st}var tr=st;st=rr;try{return Lt()}finally{st=tr}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Lt,rr){switch(Lt){case 1:case 2:case 3:case 4:case 5:break;default:Lt=3}var tr=st;st=Lt;try{return rr()}finally{st=tr}},e.unstable_scheduleCallback=function(Lt,rr,tr){var Kt=e.unstable_now();switch(typeof tr=="object"&&tr!==null?(tr=tr.delay,tr=typeof tr=="number"&&0<tr?Kt+tr:Kt):tr=Kt,Lt){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=tr+Dt,Lt={id:it++,callback:rr,priorityLevel:Lt,startTime:tr,expirationTime:Dt,sortIndex:-1},tr>Kt?(Lt.sortIndex=tr,o(rt,Lt),s(et)===null&&Lt===s(rt)&&(Tt?(mt(Bt),Bt=-1):Tt=!0,ur(bt,tr-Kt))):(Lt.sortIndex=Dt,o(et,Lt),dt||ct||(dt=!0,Pt(It))),Lt},e.unstable_shouldYield=pr,e.unstable_wrapCallback=function(Lt){var rr=st;return function(){var tr=st;st=rr;try{return Lt.apply(this,arguments)}finally{st=tr}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$1(e){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(e,o){ha$1(e,o),ha$1(e+"Capture",o)}function ha$1(e,o){for(ea$1[e]=o,e=0;e<o.length;e++)da$1.add(o[e])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma$1={};function oa$1(e){return ja.call(ma$1,e)?!0:ja.call(la,e)?!1:ka$1.test(e)?ma$1[e]=!0:(la[e]=!0,!1)}function pa$1(e,o,s,a){if(s!==null&&s.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa$1(e,o,s,a){if(o===null||typeof o>"u"||pa$1(e,o,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v$2(e,o,s,a,c,h,g){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=s,this.propertyName=e,this.type=o,this.sanitizeURL=h,this.removeEmptyString=g}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z$1[e]=new v$2(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var o=e[0];z$1[o]=new v$2(o,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z$1[e]=new v$2(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z$1[e]=new v$2(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z$1[e]=new v$2(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z$1[e]=new v$2(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z$1[e]=new v$2(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z$1[e]=new v$2(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z$1[e]=new v$2(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var o=e.replace(ra$1,sa$1);z$1[o]=new v$2(o,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var o=e.replace(ra$1,sa$1);z$1[o]=new v$2(o,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var o=e.replace(ra$1,sa$1);z$1[o]=new v$2(o,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z$1[e]=new v$2(e,1,!1,e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z$1[e]=new v$2(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta$1(e,o,s,a){var c=z$1.hasOwnProperty(o)?z$1[o]:null;(c!==null?c.type!==0:a||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa$1(o,s,c,a)&&(s=null),a||c===null?oa$1(o)&&(s===null?e.removeAttribute(o):e.setAttribute(o,""+s)):c.mustUseProperty?e[c.propertyName]=s===null?c.type===3?!1:"":s:(o=c.attributeName,a=c.attributeNamespace,s===null?e.removeAttribute(o):(c=c.type,s=c===3||c===4&&s===!0?"":""+s,a?e.setAttributeNS(a,o,s):e.setAttribute(o,s))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja$1&&e[Ja$1]||e["@@iterator"],typeof e=="function"?e:null)}var A$1=Object.assign,La;function Ma$1(e){if(La===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);La=o&&o[1]||""}return`
`+La+e}var Na$1=!1;function Oa$1(e,o){if(!e||Na$1)return"";Na$1=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(rt){var a=rt}Reflect.construct(e,[],o)}else{try{o.call()}catch(rt){a=rt}e.call(o.prototype)}else{try{throw Error()}catch(rt){a=rt}e()}}catch(rt){if(rt&&a&&typeof rt.stack=="string"){for(var c=rt.stack.split(`
`),h=a.stack.split(`
`),g=c.length-1,_=h.length-1;1<=g&&0<=_&&c[g]!==h[_];)_--;for(;1<=g&&0<=_;g--,_--)if(c[g]!==h[_]){if(g!==1||_!==1)do if(g--,_--,0>_||c[g]!==h[_]){var et=`
`+c[g].replace(" at new "," at ");return e.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",e.displayName)),et}while(1<=g&&0<=_);break}}}finally{Na$1=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Ma$1(e):""}function Pa$1(e){switch(e.tag){case 5:return Ma$1(e.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return e=Oa$1(e.type,!1),e;case 11:return e=Oa$1(e.type.render,!1),e;case 1:return e=Oa$1(e.type,!0),e;default:return""}}function Qa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca$1:return(e.displayName||"Context")+".Consumer";case Ba$1:return(e._context.displayName||"Context")+".Provider";case Da$1:var o=e.render;return e=e.displayName,e||(e=o.displayName||o.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga$1:return o=e.displayName||null,o!==null?o:Qa$1(e.type)||"Memo";case Ha$1:o=e._payload,e=e._init;try{return Qa$1(e(o))}catch{}}return null}function Ra$1(e){var o=e.type;switch(e.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=o.render,e=e.displayName||e.name||"",o.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(o);case 8:return o===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa$1(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta$1(e){var o=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua$1(e){var o=Ta$1(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,o),a=""+e[o];if(!e.hasOwnProperty(o)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,h=s.set;return Object.defineProperty(e,o,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(e,o,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[o]}}}}function Va$1(e){e._valueTracker||(e._valueTracker=Ua$1(e))}function Wa$1(e){if(!e)return!1;var o=e._valueTracker;if(!o)return!0;var s=o.getValue(),a="";return e&&(a=Ta$1(e)?e.checked?"true":"false":e.value),e=a,e!==s?(o.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya$1(e,o){var s=o.checked;return A$1({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Za$1(e,o){var s=o.defaultValue==null?"":o.defaultValue,a=o.checked!=null?o.checked:o.defaultChecked;s=Sa$1(o.value!=null?o.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab$1(e,o){o=o.checked,o!=null&&ta$1(e,"checked",o,!1)}function bb$1(e,o){ab$1(e,o);var s=Sa$1(o.value),a=o.type;if(s!=null)a==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}o.hasOwnProperty("value")?cb$1(e,o.type,s):o.hasOwnProperty("defaultValue")&&cb$1(e,o.type,Sa$1(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(e.defaultChecked=!!o.defaultChecked)}function db$2(e,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var a=o.type;if(!(a!=="submit"&&a!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+e._wrapperState.initialValue,s||o===e.value||(e.value=o),e.defaultValue=o}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function cb$1(e,o,s){(o!=="number"||Xa(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var eb$1=Array.isArray;function fb$1(e,o,s,a){if(e=e.options,o){o={};for(var c=0;c<s.length;c++)o["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=o.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&a&&(e[s].defaultSelected=!0)}else{for(s=""+Sa$1(s),o=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}o!==null||e[c].disabled||(o=e[c])}o!==null&&(o.selected=!0)}}function gb$1(e,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},o,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb$1(e,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(p$1(92));if(eb$1(s)){if(1<s.length)throw Error(p$1(93));s=s[0]}o=s}o==null&&(o=""),s=o}e._wrapperState={initialValue:Sa$1(s)}}function ib$1(e,o){var s=Sa$1(o.value),a=Sa$1(o.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),o.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),a!=null&&(e.defaultValue=""+a)}function jb$1(e){var o=e.textContent;o===e._wrapperState.initialValue&&o!==""&&o!==null&&(e.value=o)}function kb$1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(e,o){return e==null||e==="http://www.w3.org/1999/xhtml"?kb$1(o):e==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb$1,nb$1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,s,a,c){MSApp.execUnsafeLocalFunction(function(){return e(o,s,a,c)})}:e}(function(e,o){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=o;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb$1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;o.firstChild;)e.appendChild(o.firstChild)}});function ob$1(e,o){if(o){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=o;return}}e.textContent=o}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(e){qb$1.forEach(function(o){o=o+e.charAt(0).toUpperCase()+e.substring(1),pb$1[o]=pb$1[e]})});function rb$1(e,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||pb$1.hasOwnProperty(e)&&pb$1[e]?(""+o).trim():o+"px"}function sb$1(e,o){e=e.style;for(var s in o)if(o.hasOwnProperty(s)){var a=s.indexOf("--")===0,c=rb$1(s,o[s],a);s==="float"&&(s="cssFloat"),a?e.setProperty(s,c):e[s]=c}}var tb$1=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(e,o){if(o){if(tb$1[e]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb$1(e,o){if(e.indexOf("-")===-1)return typeof o.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(e){if(e=Cb$1(e)){if(typeof yb$1!="function")throw Error(p$1(280));var o=e.stateNode;o&&(o=Db(o),yb$1(e.stateNode,e.type,o))}}function Eb$1(e){zb$1?Ab$1?Ab$1.push(e):Ab$1=[e]:zb$1=e}function Fb$1(){if(zb$1){var e=zb$1,o=Ab$1;if(Ab$1=zb$1=null,Bb$1(e),o)for(e=0;e<o.length;e++)Bb$1(o[e])}}function Gb$1(e,o){return e(o)}function Hb$1(){}var Ib$1=!1;function Jb$1(e,o,s){if(Ib$1)return e(o,s);Ib$1=!0;try{return Gb$1(e,o,s)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(e,o){var s=e.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(p$1(231,o,typeof s));return s}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(e,o,s,a,c,h,g,_,et){var rt=Array.prototype.slice.call(arguments,3);try{o.apply(s,rt)}catch(it){this.onError(it)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(e){Ob$1=!0,Pb$1=e}};function Tb$1(e,o,s,a,c,h,g,_,et){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(e,o,s,a,c,h,g,_,et){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var rt=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$1(198));Qb$1||(Qb$1=!0,Rb$1=rt)}}function Vb$1(e){var o=e,s=e;if(e.alternate)for(;o.return;)o=o.return;else{e=o;do o=e,o.flags&4098&&(s=o.return),e=o.return;while(e)}return o.tag===3?s:null}function Wb$1(e){if(e.tag===13){var o=e.memoizedState;if(o===null&&(e=e.alternate,e!==null&&(o=e.memoizedState)),o!==null)return o.dehydrated}return null}function Xb$1(e){if(Vb$1(e)!==e)throw Error(p$1(188))}function Yb$1(e){var o=e.alternate;if(!o){if(o=Vb$1(e),o===null)throw Error(p$1(188));return o!==e?null:e}for(var s=e,a=o;;){var c=s.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){s=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===s)return Xb$1(c),e;if(h===a)return Xb$1(c),o;h=h.sibling}throw Error(p$1(188))}if(s.return!==a.return)s=c,a=h;else{for(var g=!1,_=c.child;_;){if(_===s){g=!0,s=c,a=h;break}if(_===a){g=!0,a=c,s=h;break}_=_.sibling}if(!g){for(_=h.child;_;){if(_===s){g=!0,s=h,a=c;break}if(_===a){g=!0,a=h,s=c;break}_=_.sibling}if(!g)throw Error(p$1(189))}}if(s.alternate!==a)throw Error(p$1(190))}if(s.tag!==3)throw Error(p$1(188));return s.stateNode.current===s?e:o}function Zb$1(e){return e=Yb$1(e),e!==null?$b$1(e):null}function $b$1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var o=$b$1(e);if(o!==null)return o;e=e.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(e){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,e,void 0,(e.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(e){return e>>>=0,e===0?32:31-(pc$1(e)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc$1(e,o){var s=e.pendingLanes;if(s===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,g=s&268435455;if(g!==0){var _=g&~c;_!==0?a=tc$1(_):(h&=g,h!==0&&(a=tc$1(h)))}else g=s&~c,g!==0?a=tc$1(g):h!==0&&(a=tc$1(h));if(a===0)return 0;if(o!==0&&o!==a&&!(o&c)&&(c=a&-a,h=o&-o,c>=h||c===16&&(h&4194240)!==0))return o;if(a&4&&(a|=s&16),o=e.entangledLanes,o!==0)for(e=e.entanglements,o&=a;0<o;)s=31-oc$1(o),c=1<<s,a|=e[s],o&=~c;return a}function vc$1(e,o){switch(e){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(e,o){for(var s=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-oc$1(h),_=1<<g,et=c[g];et===-1?(!(_&s)||_&a)&&(c[g]=vc$1(_,o)):et<=o&&(e.expiredLanes|=_),h&=~_}}function xc$1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc$1(){var e=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),e}function zc$1(e){for(var o=[],s=0;31>s;s++)o.push(e);return o}function Ac$1(e,o,s){e.pendingLanes|=o,o!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,o=31-oc$1(o),e[o]=s}function Bc$1(e,o){var s=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var c=31-oc$1(s),h=1<<c;o[c]=0,a[c]=-1,e[c]=-1,s&=~h}}function Cc$1(e,o){var s=e.entangledLanes|=o;for(e=e.entanglements;s;){var a=31-oc$1(s),c=1<<a;c&o|e[a]&o&&(e[a]|=o),s&=~c}}var C$2=0;function Dc$1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(e,o){switch(e){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(o.pointerId)}}function Tc$1(e,o,s,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:o,domEventName:s,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},o!==null&&(o=Cb$1(o),o!==null&&Fc$1(o)),e):(e.eventSystemFlags|=a,o=e.targetContainers,c!==null&&o.indexOf(c)===-1&&o.push(c),e)}function Uc$1(e,o,s,a,c){switch(o){case"focusin":return Lc$1=Tc$1(Lc$1,e,o,s,a,c),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,e,o,s,a,c),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,e,o,s,a,c),!0;case"pointerover":var h=c.pointerId;return Oc$1.set(h,Tc$1(Oc$1.get(h)||null,e,o,s,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Pc$1.set(h,Tc$1(Pc$1.get(h)||null,e,o,s,a,c)),!0}return!1}function Vc$1(e){var o=Wc$1(e.target);if(o!==null){var s=Vb$1(o);if(s!==null){if(o=s.tag,o===13){if(o=Wb$1(s),o!==null){e.blockedOn=o,Ic$1(e.priority,function(){Gc$1(s)});return}}else if(o===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc$1(e){if(e.blockedOn!==null)return!1;for(var o=e.targetContainers;0<o.length;){var s=Yc$1(e.domEventName,e.eventSystemFlags,o[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var a=new s.constructor(s.type,s);wb$1=a,s.target.dispatchEvent(a),wb$1=null}else return o=Cb$1(s),o!==null&&Fc$1(o),e.blockedOn=s,!1;o.shift()}return!0}function Zc$1(e,o,s){Xc$1(e)&&s.delete(o)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(e,o){e.blockedOn===o&&(e.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd$1(e){function o(c){return ad$1(c,e)}if(0<Kc$1.length){ad$1(Kc$1[0],e);for(var s=1;s<Kc$1.length;s++){var a=Kc$1[s];a.blockedOn===e&&(a.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,e),Mc$1!==null&&ad$1(Mc$1,e),Nc$1!==null&&ad$1(Nc$1,e),Oc$1.forEach(o),Pc$1.forEach(o),s=0;s<Qc$1.length;s++)a=Qc$1[s],a.blockedOn===e&&(a.blockedOn=null);for(;0<Qc$1.length&&(s=Qc$1[0],s.blockedOn===null);)Vc$1(s),s.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(e,o,s,a){var c=C$2,h=cd$1.transition;cd$1.transition=null;try{C$2=1,fd$1(e,o,s,a)}finally{C$2=c,cd$1.transition=h}}function gd$1(e,o,s,a){var c=C$2,h=cd$1.transition;cd$1.transition=null;try{C$2=4,fd$1(e,o,s,a)}finally{C$2=c,cd$1.transition=h}}function fd$1(e,o,s,a){if(dd$1){var c=Yc$1(e,o,s,a);if(c===null)hd$1(e,o,a,id$o,s),Sc$1(e,a);else if(Uc$1(c,e,o,s,a))a.stopPropagation();else if(Sc$1(e,a),o&4&&-1<Rc$1.indexOf(e)){for(;c!==null;){var h=Cb$1(c);if(h!==null&&Ec$1(h),h=Yc$1(e,o,s,a),h===null&&hd$1(e,o,a,id$o,s),h===c)break;c=h}c!==null&&a.stopPropagation()}else hd$1(e,o,a,null,s)}}var id$o=null;function Yc$1(e,o,s,a){if(id$o=null,e=xb$1(a),e=Wc$1(e),e!==null)if(o=Vb$1(e),o===null)e=null;else if(s=o.tag,s===13){if(e=Wb$1(o),e!==null)return e;e=null}else if(s===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;e=null}else o!==e&&(e=null);return id$o=e,null}function jd$1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var e,o=ld$1,s=o.length,a,c="value"in kd$1?kd$1.value:kd$1.textContent,h=c.length;for(e=0;e<s&&o[e]===c[e];e++);var g=s-e;for(a=1;a<=g&&o[s-a]===c[h-a];a++);return md$1=c.slice(e,1<a?1-a:void 0)}function od$1(e){var o=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&o===13&&(e=13)):e=o,e===10&&(e=13),32<=e||e===13?e:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(e){function o(s,a,c,h,g){this._reactName=s,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$1(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),o}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$1({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$1({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd$1&&(yd$1&&e.type==="mousemove"?(wd$1=e.screenX-yd$1.screenX,xd$1=e.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=e),wd$1)},movementY:function(e){return"movementY"in e?e.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$1({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$1({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$1({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$1({},sd$1,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$1({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(e){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(e):(e=Od$1[e])?!!o[e]:!1}function zd$1(){return Pd$1}var Qd$1=A$1({},ud$1,{key:function(e){if(e.key){var o=Md$1[e.key]||e.key;if(o!=="Unidentified")return o}return e.type==="keypress"?(e=od$1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd$1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(e){return e.type==="keypress"?od$1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od$1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$1({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$1({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$1({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$1({},Ad$1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$3=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce$2=ia$1&&"TextEvent"in window&&!be$1,de$1=ia$1&&(!ae$3||be$1&&8<be$1&&11>=be$1),ee=" ",fe$2=!1;function ge$1(e,o){switch(e){case"keyup":return $d$1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie$2=!1;function je$1(e,o){switch(e){case"compositionend":return he$1(o);case"keypress":return o.which!==32?null:(fe$2=!0,ee);case"textInput":return e=o.data,e===ee&&fe$2?null:e;default:return null}}function ke$1(e,o){if(ie$2)return e==="compositionend"||!ae$3&&ge$1(e,o)?(e=nd$1(),md$1=ld$1=kd$1=null,ie$2=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de$1&&o.locale!=="ko"?null:o.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o==="input"?!!le$1[e.type]:o==="textarea"}function ne$1(e,o,s,a){Eb$1(a),o=oe$1(o,"onChange"),0<o.length&&(s=new td$1("onChange","change",null,s,a),e.push({event:s,listeners:o}))}var pe$1=null,qe=null;function re$1(e){se$2(e,0)}function te$2(e){var o=ue$2(e);if(Wa$1(o))return e}function ve(e,o){if(e==="change")return o}var we$1=!1;if(ia$1){var xe;if(ia$1){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe=ye}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe=pe$1=null)}function Be$1(e){if(e.propertyName==="value"&&te$2(qe)){var o=[];ne$1(o,qe,e,xb$1(e)),Jb$1(re$1,o)}}function Ce$1(e,o,s){e==="focusin"?(Ae(),pe$1=o,qe=s,pe$1.attachEvent("onpropertychange",Be$1)):e==="focusout"&&Ae()}function De$1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$2(qe)}function Ee(e,o){if(e==="click")return te$2(o)}function Fe$1(e,o){if(e==="input"||e==="change")return te$2(o)}function Ge(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$2(e,o){if(He$1(e,o))return!0;if(typeof e!="object"||e===null||typeof o!="object"||o===null)return!1;var s=Object.keys(e),a=Object.keys(o);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var c=s[a];if(!ja.call(o,c)||!He$1(e[c],o[c]))return!1}return!0}function Je$1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke(e,o){var s=Je$1(e);e=0;for(var a;s;){if(s.nodeType===3){if(a=e+s.textContent.length,e<=o&&a>=o)return{node:s,offset:o-e};e=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je$1(s)}}function Le$1(e,o){return e&&o?e===o?!0:e&&e.nodeType===3?!1:o&&o.nodeType===3?Le$1(e,o.parentNode):"contains"in e?e.contains(o):e.compareDocumentPosition?!!(e.compareDocumentPosition(o)&16):!1:!1}function Me$1(){for(var e=window,o=Xa();o instanceof e.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(s)e=o.contentWindow;else break;o=Xa(e.document)}return o}function Ne$1(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o&&(o==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||o==="textarea"||e.contentEditable==="true")}function Oe$1(e){var o=Me$1(),s=e.focusedElem,a=e.selectionRange;if(o!==s&&s&&s.ownerDocument&&Le$1(s.ownerDocument.documentElement,s)){if(a!==null&&Ne$1(s)){if(o=a.start,e=a.end,e===void 0&&(e=o),"selectionStart"in s)s.selectionStart=o,s.selectionEnd=Math.min(e,s.value.length);else if(e=(o=s.ownerDocument||document)&&o.defaultView||window,e.getSelection){e=e.getSelection();var c=s.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=Ke(s,h);var g=Ke(s,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(o=o.createRange(),o.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(o),e.extend(g.node,g.offset)):(o.setEnd(g.node,g.offset),e.addRange(o)))}}for(o=[],e=s;e=e.parentNode;)e.nodeType===1&&o.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<o.length;s++)e=o[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe$2=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(e,o,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa(a)||(a=Qe$1,"selectionStart"in a&&Ne$1(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se$1&&Ie$2(Se$1,a)||(Se$1=a,a=oe$1(Re$1,"onSelect"),0<a.length&&(o=new td$1("onSelect","select",null,o,s),e.push({event:o,listeners:a}),o.target=Qe$1)))}function Ve$1(e,o){var s={};return s[e.toLowerCase()]=o.toLowerCase(),s["Webkit"+e]="webkit"+o,s["Moz"+e]="moz"+o,s}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia$1&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(e){if(Xe[e])return Xe[e];if(!We$1[e])return e;var o=We$1[e],s;for(s in o)if(o.hasOwnProperty(s)&&s in Ye$1)return Xe[e]=o[s];return e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,o){df.set(e,o),fa$1(o,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,o,s){var a=e.type||"unknown-event";e.currentTarget=s,Ub$1(a,o,void 0,e),e.currentTarget=null}function se$2(e,o){o=(o&4)!==0;for(var s=0;s<e.length;s++){var a=e[s],c=a.event;a=a.listeners;e:{var h=void 0;if(o)for(var g=a.length-1;0<=g;g--){var _=a[g],et=_.instance,rt=_.currentTarget;if(_=_.listener,et!==h&&c.isPropagationStopped())break e;nf(c,_,rt),h=et}else for(g=0;g<a.length;g++){if(_=a[g],et=_.instance,rt=_.currentTarget,_=_.listener,et!==h&&c.isPropagationStopped())break e;nf(c,_,rt),h=et}}}if(Qb$1)throw e=Rb$1,Qb$1=!1,Rb$1=null,e}function D$2(e,o){var s=o[of];s===void 0&&(s=o[of]=new Set);var a=e+"__bubble";s.has(a)||(pf(o,e,2,!1),s.add(a))}function qf(e,o,s){var a=0;o&&(a|=4),pf(s,e,a,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da$1.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,e),qf(s,!0,e))});var o=e.nodeType===9?e:e.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(e,o,s,a){switch(jd$1(o)){case 1:var c=ed$1;break;case 4:c=gd$1;break;default:c=fd$1}s=c.bind(null,o,s,e),c=void 0,!Lb$1||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(o,s,{capture:!0,passive:c}):e.addEventListener(o,s,!0):c!==void 0?e.addEventListener(o,s,{passive:c}):e.addEventListener(o,s,!1)}function hd$1(e,o,s,a,c){var h=a;if(!(o&1)&&!(o&2)&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var _=a.stateNode.containerInfo;if(_===c||_.nodeType===8&&_.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var et=g.tag;if((et===3||et===4)&&(et=g.stateNode.containerInfo,et===c||et.nodeType===8&&et.parentNode===c))return;g=g.return}for(;_!==null;){if(g=Wc$1(_),g===null)return;if(et=g.tag,et===5||et===6){a=h=g;continue e}_=_.parentNode}}a=a.return}Jb$1(function(){var rt=h,it=xb$1(s),ot=[];e:{var st=df.get(e);if(st!==void 0){var ct=td$1,dt=e;switch(e){case"keypress":if(od$1(s)===0)break e;case"keydown":case"keyup":ct=Rd$1;break;case"focusin":dt="focus",ct=Fd$1;break;case"focusout":dt="blur",ct=Fd$1;break;case"beforeblur":case"afterblur":ct=Fd$1;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Vd$1;break;case $e$1:case af:case bf:ct=Hd$1;break;case cf:ct=Xd$1;break;case"scroll":ct=vd$1;break;case"wheel":ct=Zd$1;break;case"copy":case"cut":case"paste":ct=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Td$1}var Tt=(o&4)!==0,Et=!Tt&&e==="scroll",mt=Tt?st!==null?st+"Capture":null:st;Tt=[];for(var gt=rt,xt;gt!==null;){xt=gt;var bt=xt.stateNode;if(xt.tag===5&&bt!==null&&(xt=bt,mt!==null&&(bt=Kb$1(gt,mt),bt!=null&&Tt.push(tf(gt,bt,xt)))),Et)break;gt=gt.return}0<Tt.length&&(st=new ct(st,dt,null,s,it),ot.push({event:st,listeners:Tt}))}}if(!(o&7)){e:{if(st=e==="mouseover"||e==="pointerover",ct=e==="mouseout"||e==="pointerout",st&&s!==wb$1&&(dt=s.relatedTarget||s.fromElement)&&(Wc$1(dt)||dt[uf]))break e;if((ct||st)&&(st=it.window===it?it:(st=it.ownerDocument)?st.defaultView||st.parentWindow:window,ct?(dt=s.relatedTarget||s.toElement,ct=rt,dt=dt?Wc$1(dt):null,dt!==null&&(Et=Vb$1(dt),dt!==Et||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(ct=null,dt=rt),ct!==dt)){if(Tt=Bd$1,bt="onMouseLeave",mt="onMouseEnter",gt="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Td$1,bt="onPointerLeave",mt="onPointerEnter",gt="pointer"),Et=ct==null?st:ue$2(ct),xt=dt==null?st:ue$2(dt),st=new Tt(bt,gt+"leave",ct,s,it),st.target=Et,st.relatedTarget=xt,bt=null,Wc$1(it)===rt&&(Tt=new Tt(mt,gt+"enter",dt,s,it),Tt.target=xt,Tt.relatedTarget=Et,bt=Tt),Et=bt,ct&&dt)t:{for(Tt=ct,mt=dt,gt=0,xt=Tt;xt;xt=vf(xt))gt++;for(xt=0,bt=mt;bt;bt=vf(bt))xt++;for(;0<gt-xt;)Tt=vf(Tt),gt--;for(;0<xt-gt;)mt=vf(mt),xt--;for(;gt--;){if(Tt===mt||mt!==null&&Tt===mt.alternate)break t;Tt=vf(Tt),mt=vf(mt)}Tt=null}else Tt=null;ct!==null&&wf(ot,st,ct,Tt,!1),dt!==null&&Et!==null&&wf(ot,Et,dt,Tt,!0)}}e:{if(st=rt?ue$2(rt):window,ct=st.nodeName&&st.nodeName.toLowerCase(),ct==="select"||ct==="input"&&st.type==="file")var It=ve;else if(me$2(st))if(we$1)It=Fe$1;else{It=De$1;var Ut=Ce$1}else(ct=st.nodeName)&&ct.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(It=Ee);if(It&&(It=It(e,rt))){ne$1(ot,It,s,it);break e}Ut&&Ut(e,st,rt),e==="focusout"&&(Ut=st._wrapperState)&&Ut.controlled&&st.type==="number"&&cb$1(st,"number",st.value)}switch(Ut=rt?ue$2(rt):window,e){case"focusin":(me$2(Ut)||Ut.contentEditable==="true")&&(Qe$1=Ut,Re$1=rt,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(ot,s,it);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$1(ot,s,it)}var Ft;if(ae$3)e:{switch(e){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else ie$2?ge$1(e,s)&&(Bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(de$1&&s.locale!=="ko"&&(ie$2||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&ie$2&&(Ft=nd$1()):(kd$1=it,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$2=!0)),Ut=oe$1(rt,Bt),0<Ut.length&&(Bt=new Ld$1(Bt,e,null,s,it),ot.push({event:Bt,listeners:Ut}),Ft?Bt.data=Ft:(Ft=he$1(s),Ft!==null&&(Bt.data=Ft)))),(Ft=ce$2?je$1(e,s):ke$1(e,s))&&(rt=oe$1(rt,"onBeforeInput"),0<rt.length&&(it=new Ld$1("onBeforeInput","beforeinput",null,s,it),ot.push({event:it,listeners:rt}),it.data=Ft))}se$2(ot,o)})}function tf(e,o,s){return{instance:e,listener:o,currentTarget:s}}function oe$1(e,o){for(var s=o+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Kb$1(e,s),h!=null&&a.unshift(tf(e,h,c)),h=Kb$1(e,o),h!=null&&a.push(tf(e,h,c))),e=e.return}return a}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,o,s,a,c){for(var h=o._reactName,g=[];s!==null&&s!==a;){var _=s,et=_.alternate,rt=_.stateNode;if(et!==null&&et===a)break;_.tag===5&&rt!==null&&(_=rt,c?(et=Kb$1(s,h),et!=null&&g.unshift(tf(s,et,_))):c||(et=Kb$1(s,h),et!=null&&g.push(tf(s,et,_)))),s=s.return}g.length!==0&&e.push({event:o,listeners:g})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,o,s){if(o=zf(o),zf(e)!==o&&s)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,o){return e==="textarea"||e==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,o){var s=o,a=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"){if(a===0){e.removeChild(c),bd$1(o);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=c}while(s);bd$1(o)}function Lf(e){for(;e!=null;e=e.nextSibling){var o=e.nodeType;if(o===1||o===3)break;if(o===8){if(o=e.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var o=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return e;o--}else s==="/$"&&o++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(e){var o=e[Of];if(o)return o;for(var s=e.parentNode;s;){if(o=s[uf]||s[Of]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(e=Mf(e);e!==null;){if(s=e[Of])return s;e=Mf(e)}return o}e=s,s=e.parentNode}return null}function Cb$1(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$2(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E$1(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(e,o){Tf++,Sf[Tf]=e.current,e.current=o}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,o){var s=e.type.contextTypes;if(!s)return Vf;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===o)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in s)c[h]=o[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=c),c}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(e,o,s){if(H$1.current!==Vf)throw Error(p$1(168));G$1(H$1,o),G$1(Wf,s)}function bg(e,o,s){var a=e.stateNode;if(o=o.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var c in a)if(!(c in o))throw Error(p$1(108,Ra$1(e)||"Unknown",c));return A$1({},s,a)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,e),G$1(Wf,Wf.current),!0}function dg(e,o,s){var a=e.stateNode;if(!a)throw Error(p$1(169));s?(e=bg(e,o,Xf),a.__reactInternalMemoizedMergedChildContext=e,E$1(Wf),E$1(H$1),G$1(H$1,e)):E$1(Wf),G$1(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,o=C$2;try{var s=eg;for(C$2=1;e<s.length;e++){var a=s[e];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(c){throw eg!==null&&(eg=eg.slice(e+1)),ac$1(fc$1,jg),c}finally{C$2=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,o){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=o}function ug(e,o,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var a=rg;e=sg;var c=32-oc$1(a)-1;a&=~(1<<c),s+=1;var h=32-oc$1(o)+c;if(30<h){var g=c-c%5;h=(a&(1<<g)-1).toString(32),a>>=g,c-=g,rg=1<<32-oc$1(o)+c|s<<c|a,sg=h+e}else rg=1<<h|s<<c|a,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(e,o){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=o,s.return=e,o=e.deletions,o===null?(e.deletions=[s],e.flags|=16):o.push(s)}function Cg(e,o){switch(e.tag){case 5:var s=e.type;return o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(e.stateNode=o,xg=e,yg=Lf(o.firstChild),!0):!1;case 6:return o=e.pendingProps===""||o.nodeType!==3?null:o,o!==null?(e.stateNode=o,xg=e,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(s=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:o,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=o,s.return=e,e.child=s,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I$1){var o=yg;if(o){var s=o;if(!Cg(e,o)){if(Dg(e))throw Error(p$1(418));o=Lf(s.nextSibling);var a=xg;o&&Cg(e,o)?Ag(a,s):(e.flags=e.flags&-4097|2,I$1=!1,xg=e)}}else{if(Dg(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I$1=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I$1)return Fg(e),I$1=!0,!1;var o;if((o=e.tag!==3)&&!(o=e.tag!==5)&&(o=e.type,o=o!=="head"&&o!=="body"&&!Ef(e.type,e.memoizedProps)),o&&(o=yg)){if(Dg(e))throw Hg(),Error(p$1(418));for(;o;)Ag(e,o),o=Lf(o.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,o=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(o===0){yg=Lf(e.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(e,o){if(e&&e.defaultProps){o=A$1({},o),e=e.defaultProps;for(var s in e)o[s]===void 0&&(o[s]=e[s]);return o}return o}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(e){var o=Mg.current;E$1(Mg),e._currentValue=o}function Sg(e,o,s){for(;e!==null;){var a=e.alternate;if((e.childLanes&o)!==o?(e.childLanes|=o,a!==null&&(a.childLanes|=o)):a!==null&&(a.childLanes&o)!==o&&(a.childLanes|=o),e===s)break;e=e.return}}function Tg(e,o){Ng=e,Pg=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&o&&(Ug=!0),e.firstContext=null)}function Vg(e){var o=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:o,next:null},Og===null){if(Ng===null)throw Error(p$1(308));Og=e,Ng.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return o}var Wg=null;function Xg(e){Wg===null?Wg=[e]:Wg.push(e)}function Yg(e,o,s,a){var c=o.interleaved;return c===null?(s.next=s,Xg(o)):(s.next=c.next,c.next=s),o.interleaved=s,Zg(e,a)}function Zg(e,o){e.lanes|=o;var s=e.alternate;for(s!==null&&(s.lanes|=o),s=e,e=e.return;e!==null;)e.childLanes|=o,s=e.alternate,s!==null&&(s.childLanes|=o),s=e,e=e.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(e,o){e=e.updateQueue,o.updateQueue===e&&(o.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ch(e,o){return{eventTime:e,lane:o,tag:0,payload:null,callback:null,next:null}}function dh(e,o,s){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,K$2&2){var c=a.pending;return c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o,Zg(e,s)}return c=a.interleaved,c===null?(o.next=o,Xg(a)):(o.next=c.next,c.next=o),a.interleaved=o,Zg(e,s)}function eh(e,o,s){if(o=o.updateQueue,o!==null&&(o=o.shared,(s&4194240)!==0)){var a=o.lanes;a&=e.pendingLanes,s|=a,o.lanes=s,Cc$1(e,s)}}function fh(e,o){var s=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var c=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};h===null?c=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?c=h=o:h=h.next=o}else c=h=o;s={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=o:e.next=o,s.lastBaseUpdate=o}function gh(e,o,s,a){var c=e.updateQueue;$g=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var et=_,rt=et.next;et.next=null,g===null?h=rt:g.next=rt,g=et;var it=e.alternate;it!==null&&(it=it.updateQueue,_=it.lastBaseUpdate,_!==g&&(_===null?it.firstBaseUpdate=rt:_.next=rt,it.lastBaseUpdate=et))}if(h!==null){var ot=c.baseState;g=0,it=rt=et=null,_=h;do{var st=_.lane,ct=_.eventTime;if((a&st)===st){it!==null&&(it=it.next={eventTime:ct,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var dt=e,Tt=_;switch(st=o,ct=s,Tt.tag){case 1:if(dt=Tt.payload,typeof dt=="function"){ot=dt.call(ct,ot,st);break e}ot=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Tt.payload,st=typeof dt=="function"?dt.call(ct,ot,st):dt,st==null)break e;ot=A$1({},ot,st);break e;case 2:$g=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,st=c.effects,st===null?c.effects=[_]:st.push(_))}else ct={eventTime:ct,lane:st,tag:_.tag,payload:_.payload,callback:_.callback,next:null},it===null?(rt=it=ct,et=ot):it=it.next=ct,g|=st;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;st=_,_=st.next,st.next=null,c.lastBaseUpdate=st,c.shared.pending=null}}while(!0);if(it===null&&(et=ot),c.baseState=et,c.firstBaseUpdate=rt,c.lastBaseUpdate=it,o=c.shared.interleaved,o!==null){c=o;do g|=c.lane,c=c.next;while(c!==o)}else h===null&&(c.shared.lanes=0);hh|=g,e.lanes=g,e.memoizedState=ot}}function ih(e,o,s){if(e=o.effects,o.effects=null,e!==null)for(o=0;o<e.length;o++){var a=e[o],c=a.callback;if(c!==null){if(a.callback=null,a=s,typeof c!="function")throw Error(p$1(191,c));c.call(a)}}}var jh=new aa$1.Component().refs;function kh(e,o,s,a){o=e.memoizedState,s=s(a,o),s=s==null?o:A$1({},o,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nh={isMounted:function(e){return(e=e._reactInternals)?Vb$1(e)===e:!1},enqueueSetState:function(e,o,s){e=e._reactInternals;var a=L(),c=lh(e),h=ch(a,c);h.payload=o,s!=null&&(h.callback=s),o=dh(e,h,c),o!==null&&(mh(o,e,c,a),eh(o,e,c))},enqueueReplaceState:function(e,o,s){e=e._reactInternals;var a=L(),c=lh(e),h=ch(a,c);h.tag=1,h.payload=o,s!=null&&(h.callback=s),o=dh(e,h,c),o!==null&&(mh(o,e,c,a),eh(o,e,c))},enqueueForceUpdate:function(e,o){e=e._reactInternals;var s=L(),a=lh(e),c=ch(s,a);c.tag=2,o!=null&&(c.callback=o),o=dh(e,c,a),o!==null&&(mh(o,e,a,s),eh(o,e,a))}};function oh(e,o,s,a,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,g):o.prototype&&o.prototype.isPureReactComponent?!Ie$2(s,a)||!Ie$2(c,h):!0}function ph(e,o,s){var a=!1,c=Vf,h=o.contextType;return typeof h=="object"&&h!==null?h=Vg(h):(c=Zf(o)?Xf:H$1.current,a=o.contextTypes,h=(a=a!=null)?Yf(e,c):Vf),o=new o(s,h),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,e.stateNode=o,o._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),o}function qh(e,o,s,a){e=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,a),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,a),o.state!==e&&nh.enqueueReplaceState(o,o.state,null)}function rh(e,o,s,a){var c=e.stateNode;c.props=s,c.state=e.memoizedState,c.refs=jh,ah(e);var h=o.contextType;typeof h=="object"&&h!==null?c.context=Vg(h):(h=Zf(o)?Xf:H$1.current,c.context=Yf(e,h)),c.state=e.memoizedState,h=o.getDerivedStateFromProps,typeof h=="function"&&(kh(e,o,h,s),c.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(o=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),o!==c.state&&nh.enqueueReplaceState(c,c.state,null),gh(e,s,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function sh(e,o,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$1(309));var a=s.stateNode}if(!a)throw Error(p$1(147,e));var c=a,h=""+e;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===h?o.ref:(o=function(g){var _=c.refs;_===jh&&(_=c.refs={}),g===null?delete _[h]:_[h]=g},o._stringRef=h,o)}if(typeof e!="string")throw Error(p$1(284));if(!s._owner)throw Error(p$1(290,e))}return e}function th(e,o){throw e=Object.prototype.toString.call(o),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}function uh(e){var o=e._init;return o(e._payload)}function vh(e){function o(mt,gt){if(e){var xt=mt.deletions;xt===null?(mt.deletions=[gt],mt.flags|=16):xt.push(gt)}}function s(mt,gt){if(!e)return null;for(;gt!==null;)o(mt,gt),gt=gt.sibling;return null}function a(mt,gt){for(mt=new Map;gt!==null;)gt.key!==null?mt.set(gt.key,gt):mt.set(gt.index,gt),gt=gt.sibling;return mt}function c(mt,gt){return mt=wh(mt,gt),mt.index=0,mt.sibling=null,mt}function h(mt,gt,xt){return mt.index=xt,e?(xt=mt.alternate,xt!==null?(xt=xt.index,xt<gt?(mt.flags|=2,gt):xt):(mt.flags|=2,gt)):(mt.flags|=1048576,gt)}function g(mt){return e&&mt.alternate===null&&(mt.flags|=2),mt}function _(mt,gt,xt,bt){return gt===null||gt.tag!==6?(gt=xh(xt,mt.mode,bt),gt.return=mt,gt):(gt=c(gt,xt),gt.return=mt,gt)}function et(mt,gt,xt,bt){var It=xt.type;return It===ya$1?it(mt,gt,xt.props.children,bt,xt.key):gt!==null&&(gt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha$1&&uh(It)===gt.type)?(bt=c(gt,xt.props),bt.ref=sh(mt,gt,xt),bt.return=mt,bt):(bt=yh(xt.type,xt.key,xt.props,null,mt.mode,bt),bt.ref=sh(mt,gt,xt),bt.return=mt,bt)}function rt(mt,gt,xt,bt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==xt.containerInfo||gt.stateNode.implementation!==xt.implementation?(gt=zh(xt,mt.mode,bt),gt.return=mt,gt):(gt=c(gt,xt.children||[]),gt.return=mt,gt)}function it(mt,gt,xt,bt,It){return gt===null||gt.tag!==7?(gt=Ah(xt,mt.mode,bt,It),gt.return=mt,gt):(gt=c(gt,xt),gt.return=mt,gt)}function ot(mt,gt,xt){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return gt=xh(""+gt,mt.mode,xt),gt.return=mt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va$1:return xt=yh(gt.type,gt.key,gt.props,null,mt.mode,xt),xt.ref=sh(mt,null,gt),xt.return=mt,xt;case wa$1:return gt=zh(gt,mt.mode,xt),gt.return=mt,gt;case Ha$1:var bt=gt._init;return ot(mt,bt(gt._payload),xt)}if(eb$1(gt)||Ka(gt))return gt=Ah(gt,mt.mode,xt,null),gt.return=mt,gt;th(mt,gt)}return null}function st(mt,gt,xt,bt){var It=gt!==null?gt.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return It!==null?null:_(mt,gt,""+xt,bt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va$1:return xt.key===It?et(mt,gt,xt,bt):null;case wa$1:return xt.key===It?rt(mt,gt,xt,bt):null;case Ha$1:return It=xt._init,st(mt,gt,It(xt._payload),bt)}if(eb$1(xt)||Ka(xt))return It!==null?null:it(mt,gt,xt,bt,null);th(mt,xt)}return null}function ct(mt,gt,xt,bt,It){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return mt=mt.get(xt)||null,_(gt,mt,""+bt,It);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va$1:return mt=mt.get(bt.key===null?xt:bt.key)||null,et(gt,mt,bt,It);case wa$1:return mt=mt.get(bt.key===null?xt:bt.key)||null,rt(gt,mt,bt,It);case Ha$1:var Ut=bt._init;return ct(mt,gt,xt,Ut(bt._payload),It)}if(eb$1(bt)||Ka(bt))return mt=mt.get(xt)||null,it(gt,mt,bt,It,null);th(gt,bt)}return null}function dt(mt,gt,xt,bt){for(var It=null,Ut=null,Ft=gt,Bt=gt=0,cr=null;Ft!==null&&Bt<xt.length;Bt++){Ft.index>Bt?(cr=Ft,Ft=null):cr=Ft.sibling;var Ht=st(mt,Ft,xt[Bt],bt);if(Ht===null){Ft===null&&(Ft=cr);break}e&&Ft&&Ht.alternate===null&&o(mt,Ft),gt=h(Ht,gt,Bt),Ut===null?It=Ht:Ut.sibling=Ht,Ut=Ht,Ft=cr}if(Bt===xt.length)return s(mt,Ft),I$1&&tg(mt,Bt),It;if(Ft===null){for(;Bt<xt.length;Bt++)Ft=ot(mt,xt[Bt],bt),Ft!==null&&(gt=h(Ft,gt,Bt),Ut===null?It=Ft:Ut.sibling=Ft,Ut=Ft);return I$1&&tg(mt,Bt),It}for(Ft=a(mt,Ft);Bt<xt.length;Bt++)cr=ct(Ft,mt,Bt,xt[Bt],bt),cr!==null&&(e&&cr.alternate!==null&&Ft.delete(cr.key===null?Bt:cr.key),gt=h(cr,gt,Bt),Ut===null?It=cr:Ut.sibling=cr,Ut=cr);return e&&Ft.forEach(function(pr){return o(mt,pr)}),I$1&&tg(mt,Bt),It}function Tt(mt,gt,xt,bt){var It=Ka(xt);if(typeof It!="function")throw Error(p$1(150));if(xt=It.call(xt),xt==null)throw Error(p$1(151));for(var Ut=It=null,Ft=gt,Bt=gt=0,cr=null,Ht=xt.next();Ft!==null&&!Ht.done;Bt++,Ht=xt.next()){Ft.index>Bt?(cr=Ft,Ft=null):cr=Ft.sibling;var pr=st(mt,Ft,Ht.value,bt);if(pr===null){Ft===null&&(Ft=cr);break}e&&Ft&&pr.alternate===null&&o(mt,Ft),gt=h(pr,gt,Bt),Ut===null?It=pr:Ut.sibling=pr,Ut=pr,Ft=cr}if(Ht.done)return s(mt,Ft),I$1&&tg(mt,Bt),It;if(Ft===null){for(;!Ht.done;Bt++,Ht=xt.next())Ht=ot(mt,Ht.value,bt),Ht!==null&&(gt=h(Ht,gt,Bt),Ut===null?It=Ht:Ut.sibling=Ht,Ut=Ht);return I$1&&tg(mt,Bt),It}for(Ft=a(mt,Ft);!Ht.done;Bt++,Ht=xt.next())Ht=ct(Ft,mt,Bt,Ht.value,bt),Ht!==null&&(e&&Ht.alternate!==null&&Ft.delete(Ht.key===null?Bt:Ht.key),gt=h(Ht,gt,Bt),Ut===null?It=Ht:Ut.sibling=Ht,Ut=Ht);return e&&Ft.forEach(function(Ar){return o(mt,Ar)}),I$1&&tg(mt,Bt),It}function Et(mt,gt,xt,bt){if(typeof xt=="object"&&xt!==null&&xt.type===ya$1&&xt.key===null&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va$1:e:{for(var It=xt.key,Ut=gt;Ut!==null;){if(Ut.key===It){if(It=xt.type,It===ya$1){if(Ut.tag===7){s(mt,Ut.sibling),gt=c(Ut,xt.props.children),gt.return=mt,mt=gt;break e}}else if(Ut.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha$1&&uh(It)===Ut.type){s(mt,Ut.sibling),gt=c(Ut,xt.props),gt.ref=sh(mt,Ut,xt),gt.return=mt,mt=gt;break e}s(mt,Ut);break}else o(mt,Ut);Ut=Ut.sibling}xt.type===ya$1?(gt=Ah(xt.props.children,mt.mode,bt,xt.key),gt.return=mt,mt=gt):(bt=yh(xt.type,xt.key,xt.props,null,mt.mode,bt),bt.ref=sh(mt,gt,xt),bt.return=mt,mt=bt)}return g(mt);case wa$1:e:{for(Ut=xt.key;gt!==null;){if(gt.key===Ut)if(gt.tag===4&&gt.stateNode.containerInfo===xt.containerInfo&&gt.stateNode.implementation===xt.implementation){s(mt,gt.sibling),gt=c(gt,xt.children||[]),gt.return=mt,mt=gt;break e}else{s(mt,gt);break}else o(mt,gt);gt=gt.sibling}gt=zh(xt,mt.mode,bt),gt.return=mt,mt=gt}return g(mt);case Ha$1:return Ut=xt._init,Et(mt,gt,Ut(xt._payload),bt)}if(eb$1(xt))return dt(mt,gt,xt,bt);if(Ka(xt))return Tt(mt,gt,xt,bt);th(mt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?(xt=""+xt,gt!==null&&gt.tag===6?(s(mt,gt.sibling),gt=c(gt,xt),gt.return=mt,mt=gt):(s(mt,gt),gt=xh(xt,mt.mode,bt),gt.return=mt,mt=gt),g(mt)):s(mt,gt)}return Et}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(e){if(e===Dh)throw Error(p$1(174));return e}function Ih(e,o){switch(G$1(Gh,o),G$1(Fh,e),G$1(Eh,Dh),e=o.nodeType,e){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb$1(null,"");break;default:e=e===8?o.parentNode:o,o=e.namespaceURI||null,e=e.tagName,o=lb$1(o,e)}E$1(Eh),G$1(Eh,o)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(e){Hh(Gh.current);var o=Hh(Eh.current),s=lb$1(o,e.type);o!==s&&(G$1(Fh,e),G$1(Eh,s))}function Lh(e){Fh.current===e&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(e){for(var o=e;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nh=[];function Oh(){for(var e=0;e<Nh.length;e++)Nh[e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N$1=null,O$2=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$1(321))}function Wh(e,o){if(o===null)return!1;for(var s=0;s<o.length&&s<e.length;s++)if(!He$1(e[s],o[s]))return!1;return!0}function Xh(e,o,s,a,c,h){if(Rh=h,N$1=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ph.current=e===null||e.memoizedState===null?Yh:Zh,e=s(a,c),Th){h=0;do{if(Th=!1,Uh=0,25<=h)throw Error(p$1(301));h+=1,P$1=O$2=null,o.updateQueue=null,Ph.current=$h,e=s(a,c)}while(Th)}if(Ph.current=ai,o=O$2!==null&&O$2.next!==null,Rh=0,P$1=O$2=N$1=null,Sh=!1,o)throw Error(p$1(300));return e}function bi(){var e=Uh!==0;return Uh=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=e:P$1=P$1.next=e,P$1}function di(){if(O$2===null){var e=N$1.alternate;e=e!==null?e.memoizedState:null}else e=O$2.next;var o=P$1===null?N$1.memoizedState:P$1.next;if(o!==null)P$1=o,O$2=e;else{if(e===null)throw Error(p$1(310));O$2=e,e={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$1===null?N$1.memoizedState=P$1=e:P$1=P$1.next=e}return P$1}function ei(e,o){return typeof o=="function"?o(e):o}function fi(e){var o=di(),s=o.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=e;var a=O$2,c=a.baseQueue,h=s.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}a.baseQueue=c=h,s.pending=null}if(c!==null){h=c.next,a=a.baseState;var _=g=null,et=null,rt=h;do{var it=rt.lane;if((Rh&it)===it)et!==null&&(et=et.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),a=rt.hasEagerState?rt.eagerState:e(a,rt.action);else{var ot={lane:it,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};et===null?(_=et=ot,g=a):et=et.next=ot,N$1.lanes|=it,hh|=it}rt=rt.next}while(rt!==null&&rt!==h);et===null?g=a:et.next=_,He$1(a,o.memoizedState)||(Ug=!0),o.memoizedState=a,o.baseState=g,o.baseQueue=et,s.lastRenderedState=a}if(e=s.interleaved,e!==null){c=e;do h=c.lane,N$1.lanes|=h,hh|=h,c=c.next;while(c!==e)}else c===null&&(s.lanes=0);return[o.memoizedState,s.dispatch]}function gi(e){var o=di(),s=o.queue;if(s===null)throw Error(p$1(311));s.lastRenderedReducer=e;var a=s.dispatch,c=s.pending,h=o.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);He$1(h,o.memoizedState)||(Ug=!0),o.memoizedState=h,o.baseQueue===null&&(o.baseState=h),s.lastRenderedState=h}return[h,a]}function hi(){}function ii(e,o){var s=N$1,a=di(),c=o(),h=!He$1(a.memoizedState,c);if(h&&(a.memoizedState=c,Ug=!0),a=a.queue,ji(ki.bind(null,s,a,e),[e]),a.getSnapshot!==o||h||P$1!==null&&P$1.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,a,c,o),void 0,null),R$1===null)throw Error(p$1(349));Rh&30||ni(s,o,c)}return c}function ni(e,o,s){e.flags|=16384,e={getSnapshot:o,value:s},o=N$1.updateQueue,o===null?(o={lastEffect:null,stores:null},N$1.updateQueue=o,o.stores=[e]):(s=o.stores,s===null?o.stores=[e]:s.push(e))}function mi(e,o,s,a){o.value=s,o.getSnapshot=a,oi(o)&&pi$1(e)}function ki(e,o,s){return s(function(){oi(o)&&pi$1(e)})}function oi(e){var o=e.getSnapshot;e=e.value;try{var s=o();return!He$1(e,s)}catch{return!0}}function pi$1(e){var o=Zg(e,1);o!==null&&mh(o,e,1,-1)}function qi(e){var o=ci();return typeof e=="function"&&(e=e()),o.memoizedState=o.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},o.queue=e,e=e.dispatch=ri.bind(null,N$1,e),[o.memoizedState,e]}function li(e,o,s,a){return e={tag:e,create:o,destroy:s,deps:a,next:null},o=N$1.updateQueue,o===null?(o={lastEffect:null,stores:null},N$1.updateQueue=o,o.lastEffect=e.next=e):(s=o.lastEffect,s===null?o.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,o.lastEffect=e)),e}function si(){return di().memoizedState}function ti(e,o,s,a){var c=ci();N$1.flags|=e,c.memoizedState=li(1|o,s,void 0,a===void 0?null:a)}function ui(e,o,s,a){var c=di();a=a===void 0?null:a;var h=void 0;if(O$2!==null){var g=O$2.memoizedState;if(h=g.destroy,a!==null&&Wh(a,g.deps)){c.memoizedState=li(o,s,h,a);return}}N$1.flags|=e,c.memoizedState=li(1|o,s,h,a)}function vi(e,o){return ti(8390656,8,e,o)}function ji(e,o){return ui(2048,8,e,o)}function wi(e,o){return ui(4,2,e,o)}function xi(e,o){return ui(4,4,e,o)}function yi(e,o){if(typeof o=="function")return e=e(),o(e),function(){o(null)};if(o!=null)return e=e(),o.current=e,function(){o.current=null}}function zi(e,o,s){return s=s!=null?s.concat([e]):null,ui(4,4,yi.bind(null,o,e),s)}function Ai(){}function Bi(e,o){var s=di();o=o===void 0?null:o;var a=s.memoizedState;return a!==null&&o!==null&&Wh(o,a[1])?a[0]:(s.memoizedState=[e,o],e)}function Ci(e,o){var s=di();o=o===void 0?null:o;var a=s.memoizedState;return a!==null&&o!==null&&Wh(o,a[1])?a[0]:(e=e(),s.memoizedState=[e,o],e)}function Di(e,o,s){return Rh&21?(He$1(s,o)||(s=yc$1(),N$1.lanes|=s,hh|=s,e.baseState=!0),o):(e.baseState&&(e.baseState=!1,Ug=!0),e.memoizedState=s)}function Ei(e,o){var s=C$2;C$2=s!==0&&4>s?s:4,e(!0);var a=Qh.transition;Qh.transition={};try{e(!1),o()}finally{C$2=s,Qh.transition=a}}function Fi(){return di().memoizedState}function Gi(e,o,s){var a=lh(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(e))Ii(o,s);else if(s=Yg(e,o,s,a),s!==null){var c=L();mh(s,e,a,c),Ji(s,o,a)}}function ri(e,o,s){var a=lh(e),c={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(e))Ii(o,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=o.lastRenderedReducer,h!==null))try{var g=o.lastRenderedState,_=h(g,s);if(c.hasEagerState=!0,c.eagerState=_,He$1(_,g)){var et=o.interleaved;et===null?(c.next=c,Xg(o)):(c.next=et.next,et.next=c),o.interleaved=c;return}}catch{}finally{}s=Yg(e,o,c,a),s!==null&&(c=L(),mh(s,e,a,c),Ji(s,o,a))}}function Hi(e){var o=e.alternate;return e===N$1||o!==null&&o===N$1}function Ii(e,o){Th=Sh=!0;var s=e.pending;s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o}function Ji(e,o,s){if(s&4194240){var a=o.lanes;a&=e.pendingLanes,s|=a,o.lanes=s,Cc$1(e,s)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(e,o){return ci().memoizedState=[e,o===void 0?null:o],e},useContext:Vg,useEffect:vi,useImperativeHandle:function(e,o,s){return s=s!=null?s.concat([e]):null,ti(4194308,4,yi.bind(null,o,e),s)},useLayoutEffect:function(e,o){return ti(4194308,4,e,o)},useInsertionEffect:function(e,o){return ti(4,2,e,o)},useMemo:function(e,o){var s=ci();return o=o===void 0?null:o,e=e(),s.memoizedState=[e,o],e},useReducer:function(e,o,s){var a=ci();return o=s!==void 0?s(o):o,a.memoizedState=a.baseState=o,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=Gi.bind(null,N$1,e),[a.memoizedState,e]},useRef:function(e){var o=ci();return e={current:e},o.memoizedState=e},useState:qi,useDebugValue:Ai,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=qi(!1),o=e[0];return e=Ei.bind(null,e[1]),ci().memoizedState=e,[o,e]},useMutableSource:function(){},useSyncExternalStore:function(e,o,s){var a=N$1,c=ci();if(I$1){if(s===void 0)throw Error(p$1(407));s=s()}else{if(s=o(),R$1===null)throw Error(p$1(349));Rh&30||ni(a,o,s)}c.memoizedState=s;var h={value:s,getSnapshot:o};return c.queue=h,vi(ki.bind(null,a,h,e),[e]),a.flags|=2048,li(9,mi.bind(null,a,h,s,o),void 0,null),s},useId:function(){var e=ci(),o=R$1.identifierPrefix;if(I$1){var s=sg,a=rg;s=(a&~(1<<32-oc$1(a)-1)).toString(32)+s,o=":"+o+"R"+s,s=Uh++,0<s&&(o+="H"+s.toString(32)),o+=":"}else s=Vh++,o=":"+o+"r"+s.toString(32)+":";return e.memoizedState=o},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var o=di();return Di(o,O$2.memoizedState,e)},useTransition:function(){var e=fi(ei)[0],o=di().memoizedState;return[e,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(e){var o=di();return O$2===null?o.memoizedState=e:Di(o,O$2.memoizedState,e)},useTransition:function(){var e=gi(ei)[0],o=di().memoizedState;return[e,o]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(e,o){try{var s="",a=o;do s+=Pa$1(a),a=a.return;while(a);var c=s}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:o,stack:c,digest:null}}function Li(e,o,s){return{value:e,source:null,stack:s??null,digest:o??null}}function Mi(e,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(e,o,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var a=o.value;return s.callback=function(){Pi||(Pi=!0,Qi=a),Mi(e,o)},s}function Ri(e,o,s){s=ch(-1,s),s.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=o.value;s.payload=function(){return a(c)},s.callback=function(){Mi(e,o)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(s.callback=function(){Mi(e,o),typeof a!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var g=o.stack;this.componentDidCatch(o.value,{componentStack:g!==null?g:""})}),s}function Ti(e,o,s){var a=e.pingCache;if(a===null){a=e.pingCache=new Ni;var c=new Set;a.set(o,c)}else c=a.get(o),c===void 0&&(c=new Set,a.set(o,c));c.has(s)||(c.add(s),e=Ui.bind(null,e,o,s),o.then(e,e))}function Vi(e){do{var o;if((o=e.tag===13)&&(o=e.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return e;e=e.return}while(e!==null);return null}function Wi(e,o,s,a,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===o?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(o=ch(-1,1),o.tag=2,dh(s,o,1))),s.lanes|=1),e)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(e,o,s,a){o.child=e===null?Ch(o,null,s,a):Bh(o,e.child,s,a)}function Zi(e,o,s,a,c){s=s.render;var h=o.ref;return Tg(o,c),a=Xh(e,o,s,a,h,c),s=bi(),e!==null&&!Ug?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~c,$i(e,o,c)):(I$1&&s&&vg(o),o.flags|=1,Yi(e,o,a,c),o.child)}function aj(e,o,s,a,c){if(e===null){var h=s.type;return typeof h=="function"&&!bj(h)&&h.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(o.tag=15,o.type=h,cj(e,o,h,a,c)):(e=yh(s.type,null,a,o,o.mode,c),e.ref=o.ref,e.return=o,o.child=e)}if(h=e.child,!(e.lanes&c)){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:Ie$2,s(g,a)&&e.ref===o.ref)return $i(e,o,c)}return o.flags|=1,e=wh(h,a),e.ref=o.ref,e.return=o,o.child=e}function cj(e,o,s,a,c){if(e!==null){var h=e.memoizedProps;if(Ie$2(h,a)&&e.ref===o.ref)if(Ug=!1,o.pendingProps=a=h,(e.lanes&c)!==0)e.flags&131072&&(Ug=!0);else return o.lanes=e.lanes,$i(e,o,c)}return dj(e,o,s,a,c)}function ej(e,o,s){var a=o.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=s;else{if(!(s&1073741824))return e=h!==null?h.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:e,cachePool:null,transitions:null},o.updateQueue=null,G$1(fj,gj),gj|=e,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:s,G$1(fj,gj),gj|=a}else h!==null?(a=h.baseLanes|s,o.memoizedState=null):a=s,G$1(fj,gj),gj|=a;return Yi(e,o,c,s),o.child}function hj(e,o){var s=o.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(o.flags|=512,o.flags|=2097152)}function dj(e,o,s,a,c){var h=Zf(s)?Xf:H$1.current;return h=Yf(o,h),Tg(o,c),s=Xh(e,o,s,a,h,c),a=bi(),e!==null&&!Ug?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~c,$i(e,o,c)):(I$1&&a&&vg(o),o.flags|=1,Yi(e,o,s,c),o.child)}function ij(e,o,s,a,c){if(Zf(s)){var h=!0;cg(o)}else h=!1;if(Tg(o,c),o.stateNode===null)jj(e,o),ph(o,s,a),rh(o,s,a,c),a=!0;else if(e===null){var g=o.stateNode,_=o.memoizedProps;g.props=_;var et=g.context,rt=s.contextType;typeof rt=="object"&&rt!==null?rt=Vg(rt):(rt=Zf(s)?Xf:H$1.current,rt=Yf(o,rt));var it=s.getDerivedStateFromProps,ot=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function";ot||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==a||et!==rt)&&qh(o,g,a,rt),$g=!1;var st=o.memoizedState;g.state=st,gh(o,a,g,c),et=o.memoizedState,_!==a||st!==et||Wf.current||$g?(typeof it=="function"&&(kh(o,s,it,a),et=o.memoizedState),(_=$g||oh(o,s,_,a,st,et,rt))?(ot||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=a,o.memoizedState=et),g.props=a,g.state=et,g.context=rt,a=_):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),a=!1)}else{g=o.stateNode,bh(e,o),_=o.memoizedProps,rt=o.type===o.elementType?_:Lg(o.type,_),g.props=rt,ot=o.pendingProps,st=g.context,et=s.contextType,typeof et=="object"&&et!==null?et=Vg(et):(et=Zf(s)?Xf:H$1.current,et=Yf(o,et));var ct=s.getDerivedStateFromProps;(it=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==ot||st!==et)&&qh(o,g,a,et),$g=!1,st=o.memoizedState,g.state=st,gh(o,a,g,c);var dt=o.memoizedState;_!==ot||st!==dt||Wf.current||$g?(typeof ct=="function"&&(kh(o,s,ct,a),dt=o.memoizedState),(rt=$g||oh(o,s,rt,a,st,dt,et)||!1)?(it||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,dt,et),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,dt,et)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=1024),o.memoizedProps=a,o.memoizedState=dt),g.props=a,g.state=dt,g.context=et,a=rt):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=1024),a=!1)}return kj(e,o,s,a,h,c)}function kj(e,o,s,a,c,h){hj(e,o);var g=(o.flags&128)!==0;if(!a&&!g)return c&&dg(o,s,!1),$i(e,o,h);a=o.stateNode,Xi.current=o;var _=g&&typeof s.getDerivedStateFromError!="function"?null:a.render();return o.flags|=1,e!==null&&g?(o.child=Bh(o,e.child,null,h),o.child=Bh(o,null,_,h)):Yi(e,o,_,h),o.memoizedState=a.state,c&&dg(o,s,!0),o.child}function lj(e){var o=e.stateNode;o.pendingContext?ag(e,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(e,o.context,!1),Ih(e,o.containerInfo)}function mj(e,o,s,a,c){return Ig(),Jg(c),o.flags|=256,Yi(e,o,s,a),o.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(e){return{baseLanes:e,cachePool:null,transitions:null}}function pj(e,o,s){var a=o.pendingProps,c=M$1.current,h=!1,g=(o.flags&128)!==0,_;if((_=g)||(_=e!==null&&e.memoizedState===null?!1:(c&2)!==0),_?(h=!0,o.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),G$1(M$1,c&1),e===null)return Eg(o),e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(o.mode&1?e.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(g=a.children,e=a.fallback,h?(a=o.mode,h=o.child,g={mode:"hidden",children:g},!(a&1)&&h!==null?(h.childLanes=0,h.pendingProps=g):h=qj(g,a,0,null),e=Ah(e,a,s,null),h.return=o,e.return=o,h.sibling=e,o.child=h,o.child.memoizedState=oj(s),o.memoizedState=nj,e):rj(o,g));if(c=e.memoizedState,c!==null&&(_=c.dehydrated,_!==null))return sj(e,o,g,a,_,c,s);if(h){h=a.fallback,g=o.mode,c=e.child,_=c.sibling;var et={mode:"hidden",children:a.children};return!(g&1)&&o.child!==c?(a=o.child,a.childLanes=0,a.pendingProps=et,o.deletions=null):(a=wh(c,et),a.subtreeFlags=c.subtreeFlags&14680064),_!==null?h=wh(_,h):(h=Ah(h,g,s,null),h.flags|=2),h.return=o,a.return=o,a.sibling=h,o.child=a,a=h,h=o.child,g=e.child.memoizedState,g=g===null?oj(s):{baseLanes:g.baseLanes|s,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~s,o.memoizedState=nj,a}return h=e.child,e=h.sibling,a=wh(h,{mode:"visible",children:a.children}),!(o.mode&1)&&(a.lanes=s),a.return=o,a.sibling=null,e!==null&&(s=o.deletions,s===null?(o.deletions=[e],o.flags|=16):s.push(e)),o.child=a,o.memoizedState=null,a}function rj(e,o){return o=qj({mode:"visible",children:o},e.mode,0,null),o.return=e,e.child=o}function tj(e,o,s,a){return a!==null&&Jg(a),Bh(o,e.child,null,s),e=rj(o,o.pendingProps.children),e.flags|=2,o.memoizedState=null,e}function sj(e,o,s,a,c,h,g){if(s)return o.flags&256?(o.flags&=-257,a=Li(Error(p$1(422))),tj(e,o,g,a)):o.memoizedState!==null?(o.child=e.child,o.flags|=128,null):(h=a.fallback,c=o.mode,a=qj({mode:"visible",children:a.children},c,0,null),h=Ah(h,c,g,null),h.flags|=2,a.return=o,h.return=o,a.sibling=h,o.child=a,o.mode&1&&Bh(o,e.child,null,g),o.child.memoizedState=oj(g),o.memoizedState=nj,h);if(!(o.mode&1))return tj(e,o,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var _=a.dgst;return a=_,h=Error(p$1(419)),a=Li(h,a,void 0),tj(e,o,g,a)}if(_=(g&e.childLanes)!==0,Ug||_){if(a=R$1,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(a.suspendedLanes|g)?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Zg(e,c),mh(a,e,c,-1))}return uj(),a=Li(Error(p$1(421))),tj(e,o,g,a)}return c.data==="$?"?(o.flags|=128,o.child=e.child,o=vj.bind(null,e),c._reactRetry=o,null):(e=h.treeContext,yg=Lf(c.nextSibling),xg=o,I$1=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=o),o=rj(o,a.children),o.flags|=4096,o)}function wj(e,o,s){e.lanes|=o;var a=e.alternate;a!==null&&(a.lanes|=o),Sg(e.return,o,s)}function xj(e,o,s,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:c}:(h.isBackwards=o,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=s,h.tailMode=c)}function yj(e,o,s){var a=o.pendingProps,c=a.revealOrder,h=a.tail;if(Yi(e,o,a.children,s),a=M$1.current,a&2)a=a&1|2,o.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=o.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wj(e,s,o);else if(e.tag===19)wj(e,s,o);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break e;for(;e.sibling===null;){if(e.return===null||e.return===o)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(G$1(M$1,a),!(o.mode&1))o.memoizedState=null;else switch(c){case"forwards":for(s=o.child,c=null;s!==null;)e=s.alternate,e!==null&&Mh(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=o.child,o.child=null):(c=s.sibling,s.sibling=null),xj(o,!1,c,s,h);break;case"backwards":for(s=null,c=o.child,o.child=null;c!==null;){if(e=c.alternate,e!==null&&Mh(e)===null){o.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}xj(o,!0,s,null,h);break;case"together":xj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jj(e,o){!(o.mode&1)&&e!==null&&(e.alternate=null,o.alternate=null,o.flags|=2)}function $i(e,o,s){if(e!==null&&(o.dependencies=e.dependencies),hh|=o.lanes,!(s&o.childLanes))return null;if(e!==null&&o.child!==e.child)throw Error(p$1(153));if(o.child!==null){for(e=o.child,s=wh(e,e.pendingProps),o.child=s,s.return=o;e.sibling!==null;)e=e.sibling,s=s.sibling=wh(e,e.pendingProps),s.return=o;s.sibling=null}return o.child}function zj(e,o,s){switch(o.tag){case 3:lj(o),Ig();break;case 5:Kh(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:Ih(o,o.stateNode.containerInfo);break;case 10:var a=o.type._context,c=o.memoizedProps.value;G$1(Mg,a._currentValue),a._currentValue=c;break;case 13:if(a=o.memoizedState,a!==null)return a.dehydrated!==null?(G$1(M$1,M$1.current&1),o.flags|=128,null):s&o.child.childLanes?pj(e,o,s):(G$1(M$1,M$1.current&1),e=$i(e,o,s),e!==null?e.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(a=(s&o.childLanes)!==0,e.flags&128){if(a)return yj(e,o,s);o.flags|=128}if(c=o.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G$1(M$1,M$1.current),a)break;return null;case 22:case 23:return o.lanes=0,ej(e,o,s)}return $i(e,o,s)}var Aj,Bj,Cj,Dj;Aj=function(e,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(e,o,s,a){var c=e.memoizedProps;if(c!==a){e=o.stateNode,Hh(Eh.current);var h=null;switch(s){case"input":c=Ya$1(e,c),a=Ya$1(e,a),h=[];break;case"select":c=A$1({},c,{value:void 0}),a=A$1({},a,{value:void 0}),h=[];break;case"textarea":c=gb$1(e,c),a=gb$1(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Bf)}ub$1(s,a);var g;s=null;for(rt in c)if(!a.hasOwnProperty(rt)&&c.hasOwnProperty(rt)&&c[rt]!=null)if(rt==="style"){var _=c[rt];for(g in _)_.hasOwnProperty(g)&&(s||(s={}),s[g]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea$1.hasOwnProperty(rt)?h||(h=[]):(h=h||[]).push(rt,null));for(rt in a){var et=a[rt];if(_=c!=null?c[rt]:void 0,a.hasOwnProperty(rt)&&et!==_&&(et!=null||_!=null))if(rt==="style")if(_){for(g in _)!_.hasOwnProperty(g)||et&&et.hasOwnProperty(g)||(s||(s={}),s[g]="");for(g in et)et.hasOwnProperty(g)&&_[g]!==et[g]&&(s||(s={}),s[g]=et[g])}else s||(h||(h=[]),h.push(rt,s)),s=et;else rt==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,_=_?_.__html:void 0,et!=null&&_!==et&&(h=h||[]).push(rt,et)):rt==="children"?typeof et!="string"&&typeof et!="number"||(h=h||[]).push(rt,""+et):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(rt)?(et!=null&&rt==="onScroll"&&D$2("scroll",e),h||_===et||(h=[])):(h=h||[]).push(rt,et))}s&&(h=h||[]).push("style",s);var rt=h;(o.updateQueue=rt)&&(o.flags|=4)}};Dj=function(e,o,s,a){s!==a&&(o.flags|=4)};function Ej(e,o){if(!I$1)switch(e.tailMode){case"hidden":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?o||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function S$2(e){var o=e.alternate!==null&&e.alternate.child===e.child,s=0,a=0;if(o)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=s,o}function Fj(e,o,s){var a=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(o),null;case 1:return Zf(o.type)&&$f(),S$2(o),null;case 3:return a=o.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Gg(o)?o.flags|=4:e===null||e.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(e,o),S$2(o),null;case 5:Lh(o);var c=Hh(Gh.current);if(s=o.type,e!==null&&o.stateNode!=null)Cj(e,o,s,a,c),e.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!a){if(o.stateNode===null)throw Error(p$1(166));return S$2(o),null}if(e=Hh(Eh.current),Gg(o)){a=o.stateNode,s=o.type;var h=o.memoizedProps;switch(a[Of]=o,a[Pf]=h,e=(o.mode&1)!==0,s){case"dialog":D$2("cancel",a),D$2("close",a);break;case"iframe":case"object":case"embed":D$2("load",a);break;case"video":case"audio":for(c=0;c<lf.length;c++)D$2(lf[c],a);break;case"source":D$2("error",a);break;case"img":case"image":case"link":D$2("error",a),D$2("load",a);break;case"details":D$2("toggle",a);break;case"input":Za$1(a,h),D$2("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},D$2("invalid",a);break;case"textarea":hb$1(a,h),D$2("invalid",a)}ub$1(s,h),c=null;for(var g in h)if(h.hasOwnProperty(g)){var _=h[g];g==="children"?typeof _=="string"?a.textContent!==_&&(h.suppressHydrationWarning!==!0&&Af(a.textContent,_,e),c=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(h.suppressHydrationWarning!==!0&&Af(a.textContent,_,e),c=["children",""+_]):ea$1.hasOwnProperty(g)&&_!=null&&g==="onScroll"&&D$2("scroll",a)}switch(s){case"input":Va$1(a),db$2(a,h,!0);break;case"textarea":Va$1(a),jb$1(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Bf)}a=c,o.updateQueue=a,a!==null&&(o.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb$1(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(s,{is:a.is}):(e=g.createElement(s),s==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,s),e[Of]=o,e[Pf]=a,Aj(e,o,!1,!1),o.stateNode=e;e:{switch(g=vb$1(s,a),s){case"dialog":D$2("cancel",e),D$2("close",e),c=a;break;case"iframe":case"object":case"embed":D$2("load",e),c=a;break;case"video":case"audio":for(c=0;c<lf.length;c++)D$2(lf[c],e);c=a;break;case"source":D$2("error",e),c=a;break;case"img":case"image":case"link":D$2("error",e),D$2("load",e),c=a;break;case"details":D$2("toggle",e),c=a;break;case"input":Za$1(e,a),c=Ya$1(e,a),D$2("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=A$1({},a,{value:void 0}),D$2("invalid",e);break;case"textarea":hb$1(e,a),c=gb$1(e,a),D$2("invalid",e);break;default:c=a}ub$1(s,c),_=c;for(h in _)if(_.hasOwnProperty(h)){var et=_[h];h==="style"?sb$1(e,et):h==="dangerouslySetInnerHTML"?(et=et?et.__html:void 0,et!=null&&nb$1(e,et)):h==="children"?typeof et=="string"?(s!=="textarea"||et!=="")&&ob$1(e,et):typeof et=="number"&&ob$1(e,""+et):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ea$1.hasOwnProperty(h)?et!=null&&h==="onScroll"&&D$2("scroll",e):et!=null&&ta$1(e,h,et,g))}switch(s){case"input":Va$1(e),db$2(e,a,!1);break;case"textarea":Va$1(e),jb$1(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Sa$1(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?fb$1(e,!!a.multiple,h,!1):a.defaultValue!=null&&fb$1(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S$2(o),null;case 6:if(e&&o.stateNode!=null)Dj(e,o,e.memoizedProps,a);else{if(typeof a!="string"&&o.stateNode===null)throw Error(p$1(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(o)){if(a=o.stateNode,s=o.memoizedProps,a[Of]=o,(h=a.nodeValue!==s)&&(e=xg,e!==null))switch(e.tag){case 3:Af(a.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(e.mode&1)!==0)}h&&(o.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=o,o.stateNode=a}return S$2(o),null;case 13:if(E$1(M$1),a=o.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,h=!1;else if(h=Gg(o),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(p$1(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(p$1(317));h[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S$2(o),h=!1}else zg!==null&&(Gj(zg),zg=null),h=!0;if(!h)return o.flags&65536?o:null}return o.flags&128?(o.lanes=s,o):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(o.child.flags|=8192,o.mode&1&&(e===null||M$1.current&1?T$1===0&&(T$1=3):uj())),o.updateQueue!==null&&(o.flags|=4),S$2(o),null);case 4:return Jh(),Bj(e,o),e===null&&sf(o.stateNode.containerInfo),S$2(o),null;case 10:return Rg(o.type._context),S$2(o),null;case 17:return Zf(o.type)&&$f(),S$2(o),null;case 19:if(E$1(M$1),h=o.memoizedState,h===null)return S$2(o),null;if(a=(o.flags&128)!==0,g=h.rendering,g===null)if(a)Ej(h,!1);else{if(T$1!==0||e!==null&&e.flags&128)for(e=o.child;e!==null;){if(g=Mh(e),g!==null){for(o.flags|=128,Ej(h,!1),a=g.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),o.subtreeFlags=0,a=s,s=o.child;s!==null;)h=s,e=a,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return G$1(M$1,M$1.current&1|2),o.child}e=e.sibling}h.tail!==null&&B$1()>Hj&&(o.flags|=128,a=!0,Ej(h,!1),o.lanes=4194304)}else{if(!a)if(e=Mh(g),e!==null){if(o.flags|=128,a=!0,s=e.updateQueue,s!==null&&(o.updateQueue=s,o.flags|=4),Ej(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!I$1)return S$2(o),null}else 2*B$1()-h.renderingStartTime>Hj&&s!==1073741824&&(o.flags|=128,a=!0,Ej(h,!1),o.lanes=4194304);h.isBackwards?(g.sibling=o.child,o.child=g):(s=h.last,s!==null?s.sibling=g:o.child=g,h.last=g)}return h.tail!==null?(o=h.tail,h.rendering=o,h.tail=o.sibling,h.renderingStartTime=B$1(),o.sibling=null,s=M$1.current,G$1(M$1,a?s&1|2:s&1),o):(S$2(o),null);case 22:case 23:return Ij(),a=o.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(o.flags|=8192),a&&o.mode&1?gj&1073741824&&(S$2(o),o.subtreeFlags&6&&(o.flags|=8192)):S$2(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Jj(e,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),e=o.flags,e&65536&&!(e&128)?(o.flags=e&-65537|128,o):null;case 5:return Lh(o),null;case 13:if(E$1(M$1),e=o.memoizedState,e!==null&&e.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(o.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(e,o){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W$1(e,o,a)}else s.current=null}function Nj(e,o,s){try{s()}catch(a){W$1(e,o,a)}}var Oj=!1;function Pj(e,o){if(Cf=dd$1,e=Me$1(),Ne$1(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var g=0,_=-1,et=-1,rt=0,it=0,ot=e,st=null;t:for(;;){for(var ct;ot!==s||c!==0&&ot.nodeType!==3||(_=g+c),ot!==h||a!==0&&ot.nodeType!==3||(et=g+a),ot.nodeType===3&&(g+=ot.nodeValue.length),(ct=ot.firstChild)!==null;)st=ot,ot=ct;for(;;){if(ot===e)break t;if(st===s&&++rt===c&&(_=g),st===h&&++it===a&&(et=g),(ct=ot.nextSibling)!==null)break;ot=st,st=ot.parentNode}ot=ct}s=_===-1||et===-1?null:{start:_,end:et}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:e,selectionRange:s},dd$1=!1,V$1=o;V$1!==null;)if(o=V$1,e=o.child,(o.subtreeFlags&1028)!==0&&e!==null)e.return=o,V$1=e;else for(;V$1!==null;){o=V$1;try{var dt=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var Tt=dt.memoizedProps,Et=dt.memoizedState,mt=o.stateNode,gt=mt.getSnapshotBeforeUpdate(o.elementType===o.type?Tt:Lg(o.type,Tt),Et);mt.__reactInternalSnapshotBeforeUpdate=gt}break;case 3:var xt=o.stateNode.containerInfo;xt.nodeType===1?xt.textContent="":xt.nodeType===9&&xt.documentElement&&xt.removeChild(xt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(bt){W$1(o,o.return,bt)}if(e=o.sibling,e!==null){e.return=o.return,V$1=e;break}V$1=o.return}return dt=Oj,Oj=!1,dt}function Qj(e,o,s){var a=o.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Nj(o,s,h)}c=c.next}while(c!==a)}}function Rj(e,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==o)}}function Sj(e){var o=e.ref;if(o!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof o=="function"?o(e):o.current=e}}function Tj(e){var o=e.alternate;o!==null&&(e.alternate=null,Tj(o)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(o=e.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uj(e){return e.tag===5||e.tag===3||e.tag===4}function Vj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wj(e,o,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,o?s.nodeType===8?s.parentNode.insertBefore(e,o):s.insertBefore(e,o):(s.nodeType===8?(o=s.parentNode,o.insertBefore(e,s)):(o=s,o.appendChild(e)),s=s._reactRootContainer,s!=null||o.onclick!==null||(o.onclick=Bf));else if(a!==4&&(e=e.child,e!==null))for(Wj(e,o,s),e=e.sibling;e!==null;)Wj(e,o,s),e=e.sibling}function Xj(e,o,s){var a=e.tag;if(a===5||a===6)e=e.stateNode,o?s.insertBefore(e,o):s.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Xj(e,o,s),e=e.sibling;e!==null;)Xj(e,o,s),e=e.sibling}var X$2=null,Yj=!1;function Zj(e,o,s){for(s=s.child;s!==null;)ak(e,o,s),s=s.sibling}function ak(e,o,s){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,s)}catch{}switch(s.tag){case 5:U$2||Mj(s,o);case 6:var a=X$2,c=Yj;X$2=null,Zj(e,o,s),X$2=a,Yj=c,X$2!==null&&(Yj?(e=X$2,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):X$2.removeChild(s.stateNode));break;case 18:X$2!==null&&(Yj?(e=X$2,s=s.stateNode,e.nodeType===8?Kf(e.parentNode,s):e.nodeType===1&&Kf(e,s),bd$1(e)):Kf(X$2,s.stateNode));break;case 4:a=X$2,c=Yj,X$2=s.stateNode.containerInfo,Yj=!0,Zj(e,o,s),X$2=a,Yj=c;break;case 0:case 11:case 14:case 15:if(!U$2&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,g=h.destroy;h=h.tag,g!==void 0&&(h&2||h&4)&&Nj(s,o,g),c=c.next}while(c!==a)}Zj(e,o,s);break;case 1:if(!U$2&&(Mj(s,o),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(_){W$1(s,o,_)}Zj(e,o,s);break;case 21:Zj(e,o,s);break;case 22:s.mode&1?(U$2=(a=U$2)||s.memoizedState!==null,Zj(e,o,s),U$2=a):Zj(e,o,s);break;default:Zj(e,o,s)}}function bk(e){var o=e.updateQueue;if(o!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Lj),o.forEach(function(a){var c=ck.bind(null,e,a);s.has(a)||(s.add(a),a.then(c,c))})}}function dk(e,o){var s=o.deletions;if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];try{var h=e,g=o,_=g;e:for(;_!==null;){switch(_.tag){case 5:X$2=_.stateNode,Yj=!1;break e;case 3:X$2=_.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=_.stateNode.containerInfo,Yj=!0;break e}_=_.return}if(X$2===null)throw Error(p$1(160));ak(h,g,c),X$2=null,Yj=!1;var et=c.alternate;et!==null&&(et.return=null),c.return=null}catch(rt){W$1(c,o,rt)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ek(o,e),o=o.sibling}function ek(e,o){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dk(o,e),fk(e),a&4){try{Qj(3,e,e.return),Rj(3,e)}catch(Tt){W$1(e,e.return,Tt)}try{Qj(5,e,e.return)}catch(Tt){W$1(e,e.return,Tt)}}break;case 1:dk(o,e),fk(e),a&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(o,e),fk(e),a&512&&s!==null&&Mj(s,s.return),e.flags&32){var c=e.stateNode;try{ob$1(c,"")}catch(Tt){W$1(e,e.return,Tt)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,g=s!==null?s.memoizedProps:h,_=e.type,et=e.updateQueue;if(e.updateQueue=null,et!==null)try{_==="input"&&h.type==="radio"&&h.name!=null&&ab$1(c,h),vb$1(_,g);var rt=vb$1(_,h);for(g=0;g<et.length;g+=2){var it=et[g],ot=et[g+1];it==="style"?sb$1(c,ot):it==="dangerouslySetInnerHTML"?nb$1(c,ot):it==="children"?ob$1(c,ot):ta$1(c,it,ot,rt)}switch(_){case"input":bb$1(c,h);break;case"textarea":ib$1(c,h);break;case"select":var st=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var ct=h.value;ct!=null?fb$1(c,!!h.multiple,ct,!1):st!==!!h.multiple&&(h.defaultValue!=null?fb$1(c,!!h.multiple,h.defaultValue,!0):fb$1(c,!!h.multiple,h.multiple?[]:"",!1))}c[Pf]=h}catch(Tt){W$1(e,e.return,Tt)}}break;case 6:if(dk(o,e),fk(e),a&4){if(e.stateNode===null)throw Error(p$1(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(Tt){W$1(e,e.return,Tt)}}break;case 3:if(dk(o,e),fk(e),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd$1(o.containerInfo)}catch(Tt){W$1(e,e.return,Tt)}break;case 4:dk(o,e),fk(e);break;case 13:dk(o,e),fk(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(gk=B$1())),a&4&&bk(e);break;case 22:if(it=s!==null&&s.memoizedState!==null,e.mode&1?(U$2=(rt=U$2)||it,dk(o,e),U$2=rt):dk(o,e),fk(e),a&8192){if(rt=e.memoizedState!==null,(e.stateNode.isHidden=rt)&&!it&&e.mode&1)for(V$1=e,it=e.child;it!==null;){for(ot=V$1=it;V$1!==null;){switch(st=V$1,ct=st.child,st.tag){case 0:case 11:case 14:case 15:Qj(4,st,st.return);break;case 1:Mj(st,st.return);var dt=st.stateNode;if(typeof dt.componentWillUnmount=="function"){a=st,s=st.return;try{o=a,dt.props=o.memoizedProps,dt.state=o.memoizedState,dt.componentWillUnmount()}catch(Tt){W$1(a,s,Tt)}}break;case 5:Mj(st,st.return);break;case 22:if(st.memoizedState!==null){hk(ot);continue}}ct!==null?(ct.return=st,V$1=ct):hk(ot)}it=it.sibling}e:for(it=null,ot=e;;){if(ot.tag===5){if(it===null){it=ot;try{c=ot.stateNode,rt?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(_=ot.stateNode,et=ot.memoizedProps.style,g=et!=null&&et.hasOwnProperty("display")?et.display:null,_.style.display=rb$1("display",g))}catch(Tt){W$1(e,e.return,Tt)}}}else if(ot.tag===6){if(it===null)try{ot.stateNode.nodeValue=rt?"":ot.memoizedProps}catch(Tt){W$1(e,e.return,Tt)}}else if((ot.tag!==22&&ot.tag!==23||ot.memoizedState===null||ot===e)&&ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===e)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===e)break e;it===ot&&(it=null),ot=ot.return}it===ot&&(it=null),ot.sibling.return=ot.return,ot=ot.sibling}}break;case 19:dk(o,e),fk(e),a&4&&bk(e);break;case 21:break;default:dk(o,e),fk(e)}}function fk(e){var o=e.flags;if(o&2){try{e:{for(var s=e.return;s!==null;){if(Uj(s)){var a=s;break e}s=s.return}throw Error(p$1(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ob$1(c,""),a.flags&=-33);var h=Vj(e);Xj(e,h,c);break;case 3:case 4:var g=a.stateNode.containerInfo,_=Vj(e);Wj(e,_,g);break;default:throw Error(p$1(161))}}catch(et){W$1(e,e.return,et)}e.flags&=-3}o&4096&&(e.flags&=-4097)}function ik(e,o,s){V$1=e,jk(e)}function jk(e,o,s){for(var a=(e.mode&1)!==0;V$1!==null;){var c=V$1,h=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Kj;if(!g){var _=c.alternate,et=_!==null&&_.memoizedState!==null||U$2;_=Kj;var rt=U$2;if(Kj=g,(U$2=et)&&!rt)for(V$1=c;V$1!==null;)g=V$1,et=g.child,g.tag===22&&g.memoizedState!==null?kk(c):et!==null?(et.return=g,V$1=et):kk(c);for(;h!==null;)V$1=h,jk(h),h=h.sibling;V$1=c,Kj=_,U$2=rt}lk(e)}else c.subtreeFlags&8772&&h!==null?(h.return=c,V$1=h):lk(e)}}function lk(e){for(;V$1!==null;){var o=V$1;if(o.flags&8772){var s=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U$2||Rj(5,o);break;case 1:var a=o.stateNode;if(o.flags&4&&!U$2)if(s===null)a.componentDidMount();else{var c=o.elementType===o.type?s.memoizedProps:Lg(o.type,s.memoizedProps);a.componentDidUpdate(c,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=o.updateQueue;h!==null&&ih(o,h,a);break;case 3:var g=o.updateQueue;if(g!==null){if(s=null,o.child!==null)switch(o.child.tag){case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}ih(o,g,s)}break;case 5:var _=o.stateNode;if(s===null&&o.flags&4){s=_;var et=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":et.autoFocus&&s.focus();break;case"img":et.src&&(s.src=et.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var rt=o.alternate;if(rt!==null){var it=rt.memoizedState;if(it!==null){var ot=it.dehydrated;ot!==null&&bd$1(ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$2||o.flags&512&&Sj(o)}catch(st){W$1(o,o.return,st)}}if(o===e){V$1=null;break}if(s=o.sibling,s!==null){s.return=o.return,V$1=s;break}V$1=o.return}}function hk(e){for(;V$1!==null;){var o=V$1;if(o===e){V$1=null;break}var s=o.sibling;if(s!==null){s.return=o.return,V$1=s;break}V$1=o.return}}function kk(e){for(;V$1!==null;){var o=V$1;try{switch(o.tag){case 0:case 11:case 15:var s=o.return;try{Rj(4,o)}catch(et){W$1(o,s,et)}break;case 1:var a=o.stateNode;if(typeof a.componentDidMount=="function"){var c=o.return;try{a.componentDidMount()}catch(et){W$1(o,c,et)}}var h=o.return;try{Sj(o)}catch(et){W$1(o,h,et)}break;case 5:var g=o.return;try{Sj(o)}catch(et){W$1(o,g,et)}}}catch(et){W$1(o,o.return,et)}if(o===e){V$1=null;break}var _=o.sibling;if(_!==null){_.return=o.return,V$1=_;break}V$1=o.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K$2=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K$2&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(e){return e.mode&1?K$2&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(e=C$2,e!==0||(e=window.event,e=e===void 0?16:jd$1(e.type)),e):1}function mh(e,o,s,a){if(50<zk)throw zk=0,Ak=null,Error(p$1(185));Ac$1(e,s,a),(!(K$2&2)||e!==R$1)&&(e===R$1&&(!(K$2&2)&&(rk|=s),T$1===4&&Dk(e,Z$1)),Ek(e,a),s===1&&K$2===0&&!(o.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(e,o){var s=e.callbackNode;wc$1(e,o);var a=uc$1(e,e===R$1?Z$1:0);if(a===0)s!==null&&bc$1(s),e.callbackNode=null,e.callbackPriority=0;else if(o=a&-a,e.callbackPriority!==o){if(s!=null&&bc$1(s),o===1)e.tag===0?ig(Fk.bind(null,e)):hg(Fk.bind(null,e)),Jf(function(){!(K$2&6)&&jg()}),s=null;else{switch(Dc$1(a)){case 1:s=fc$1;break;case 4:s=gc$1;break;case 16:s=hc$1;break;case 536870912:s=jc$1;break;default:s=hc$1}s=Gk(s,Hk.bind(null,e))}e.callbackPriority=o,e.callbackNode=s}}function Hk(e,o){if(Bk=-1,Ck=0,K$2&6)throw Error(p$1(327));var s=e.callbackNode;if(Ik()&&e.callbackNode!==s)return null;var a=uc$1(e,e===R$1?Z$1:0);if(a===0)return null;if(a&30||a&e.expiredLanes||o)o=Jk(e,a);else{o=a;var c=K$2;K$2|=2;var h=Kk();(R$1!==e||Z$1!==o)&&(vk=null,Hj=B$1()+500,Lk(e,o));do try{Mk();break}catch(_){Nk(e,_)}while(!0);Qg(),nk.current=h,K$2=c,Y$1!==null?o=0:(R$1=null,Z$1=0,o=T$1)}if(o!==0){if(o===2&&(c=xc$1(e),c!==0&&(a=c,o=Ok(e,c))),o===1)throw s=qk,Lk(e,0),Dk(e,a),Ek(e,B$1()),s;if(o===6)Dk(e,a);else{if(c=e.current.alternate,!(a&30)&&!Pk(c)&&(o=Jk(e,a),o===2&&(h=xc$1(e),h!==0&&(a=h,o=Ok(e,h))),o===1))throw s=qk,Lk(e,0),Dk(e,a),Ek(e,B$1()),s;switch(e.finishedWork=c,e.finishedLanes=a,o){case 0:case 1:throw Error(p$1(345));case 2:Qk(e,uk,vk);break;case 3:if(Dk(e,a),(a&130023424)===a&&(o=gk+500-B$1(),10<o)){if(uc$1(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){L(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),o);break}Qk(e,uk,vk);break;case 4:if(Dk(e,a),(a&4194240)===a)break;for(o=e.eventTimes,c=-1;0<a;){var g=31-oc$1(a);h=1<<g,g=o[g],g>c&&(c=g),a&=~h}if(a=c,a=B$1()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mk(a/1960))-a,10<a){e.timeoutHandle=Ff(Qk.bind(null,e,uk,vk),a);break}Qk(e,uk,vk);break;case 5:Qk(e,uk,vk);break;default:throw Error(p$1(329))}}}return Ek(e,B$1()),e.callbackNode===s?Hk.bind(null,e):null}function Ok(e,o){var s=tk;return e.current.memoizedState.isDehydrated&&(Lk(e,o).flags|=256),e=Jk(e,o),e!==2&&(o=uk,uk=s,o!==null&&Gj(o)),e}function Gj(e){uk===null?uk=e:uk.push.apply(uk,e)}function Pk(e){for(var o=e;;){if(o.flags&16384){var s=o.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var c=s[a],h=c.getSnapshot;c=c.value;try{if(!He$1(h(),c))return!1}catch{return!1}}}if(s=o.child,o.subtreeFlags&16384&&s!==null)s.return=o,o=s;else{if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Dk(e,o){for(o&=~sk,o&=~rk,e.suspendedLanes|=o,e.pingedLanes&=~o,e=e.expirationTimes;0<o;){var s=31-oc$1(o),a=1<<s;e[s]=-1,o&=~a}}function Fk(e){if(K$2&6)throw Error(p$1(327));Ik();var o=uc$1(e,0);if(!(o&1))return Ek(e,B$1()),null;var s=Jk(e,o);if(e.tag!==0&&s===2){var a=xc$1(e);a!==0&&(o=a,s=Ok(e,a))}if(s===1)throw s=qk,Lk(e,0),Dk(e,o),Ek(e,B$1()),s;if(s===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=o,Qk(e,uk,vk),Ek(e,B$1()),null}function Rk(e,o){var s=K$2;K$2|=1;try{return e(o)}finally{K$2=s,K$2===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(e){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var o=K$2;K$2|=1;var s=pk.transition,a=C$2;try{if(pk.transition=null,C$2=1,e)return e()}finally{C$2=a,pk.transition=s,K$2=o,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(e,o){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Gf(s)),Y$1!==null)for(s=Y$1.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(a);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(a.type._context);break;case 22:case 23:Ij()}s=s.return}if(R$1=e,Y$1=e=wh(e.current,null),Z$1=gj=o,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(o=0;o<Wg.length;o++)if(s=Wg[o],a=s.interleaved,a!==null){s.interleaved=null;var c=a.next,h=s.pending;if(h!==null){var g=h.next;h.next=c,a.next=g}s.pending=a}Wg=null}return e}function Nk(e,o){do{var s=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var a=N$1.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Sh=!1}if(Rh=0,P$1=O$2=N$1=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T$1=1,qk=o,Y$1=null;break}e:{var h=e,g=s.return,_=s,et=o;if(o=Z$1,_.flags|=32768,et!==null&&typeof et=="object"&&typeof et.then=="function"){var rt=et,it=_,ot=it.tag;if(!(it.mode&1)&&(ot===0||ot===11||ot===15)){var st=it.alternate;st?(it.updateQueue=st.updateQueue,it.memoizedState=st.memoizedState,it.lanes=st.lanes):(it.updateQueue=null,it.memoizedState=null)}var ct=Vi(g);if(ct!==null){ct.flags&=-257,Wi(ct,g,_,h,o),ct.mode&1&&Ti(h,rt,o),o=ct,et=rt;var dt=o.updateQueue;if(dt===null){var Tt=new Set;Tt.add(et),o.updateQueue=Tt}else dt.add(et);break e}else{if(!(o&1)){Ti(h,rt,o),uj();break e}et=Error(p$1(426))}}else if(I$1&&_.mode&1){var Et=Vi(g);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Wi(Et,g,_,h,o),Jg(Ki(et,_));break e}}h=et=Ki(et,_),T$1!==4&&(T$1=2),tk===null?tk=[h]:tk.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,o&=-o,h.lanes|=o;var mt=Oi(h,et,o);fh(h,mt);break e;case 1:_=et;var gt=h.type,xt=h.stateNode;if(!(h.flags&128)&&(typeof gt.getDerivedStateFromError=="function"||xt!==null&&typeof xt.componentDidCatch=="function"&&(Si===null||!Si.has(xt)))){h.flags|=65536,o&=-o,h.lanes|=o;var bt=Ri(h,_,o);fh(h,bt);break e}}h=h.return}while(h!==null)}Tk(s)}catch(It){o=It,Y$1===s&&s!==null&&(Y$1=s=s.return);continue}break}while(!0)}function Kk(){var e=nk.current;return nk.current=ai,e===null?ai:e}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(e,o){var s=K$2;K$2|=2;var a=Kk();(R$1!==e||Z$1!==o)&&(vk=null,Lk(e,o));do try{Uk();break}catch(c){Nk(e,c)}while(!0);if(Qg(),K$2=s,nk.current=a,Y$1!==null)throw Error(p$1(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc$1();)Vk(Y$1)}function Vk(e){var o=Wk(e.alternate,e,gj);e.memoizedProps=e.pendingProps,o===null?Tk(e):Y$1=o,ok.current=null}function Tk(e){var o=e;do{var s=o.alternate;if(e=o.return,o.flags&32768){if(s=Jj(s,o),s!==null){s.flags&=32767,Y$1=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T$1=6,Y$1=null;return}}else if(s=Fj(s,o,gj),s!==null){Y$1=s;return}if(o=o.sibling,o!==null){Y$1=o;return}Y$1=o=e}while(o!==null);T$1===0&&(T$1=5)}function Qk(e,o,s){var a=C$2,c=pk.transition;try{pk.transition=null,C$2=1,Xk(e,o,s,a)}finally{pk.transition=c,C$2=a}return null}function Xk(e,o,s,a){do Ik();while(xk!==null);if(K$2&6)throw Error(p$1(327));s=e.finishedWork;var c=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var h=s.lanes|s.childLanes;if(Bc$1(e,h),e===R$1&&(Y$1=R$1=null,Z$1=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),h=(s.flags&15990)!==0,s.subtreeFlags&15990||h){h=pk.transition,pk.transition=null;var g=C$2;C$2=1;var _=K$2;K$2|=4,ok.current=null,Pj(e,s),ek(s,e),Oe$1(Df),dd$1=!!Cf,Df=Cf=null,e.current=s,ik(s),dc$1(),K$2=_,C$2=g,pk.transition=h}else e.current=s;if(wk&&(wk=!1,xk=e,yk=c),h=e.pendingLanes,h===0&&(Si=null),mc$1(s.stateNode),Ek(e,B$1()),o!==null)for(a=e.onRecoverableError,s=0;s<o.length;s++)c=o[s],a(c.value,{componentStack:c.stack,digest:c.digest});if(Pi)throw Pi=!1,e=Qi,Qi=null,e;return yk&1&&e.tag!==0&&Ik(),h=e.pendingLanes,h&1?e===Ak?zk++:(zk=0,Ak=e):zk=0,jg(),null}function Ik(){if(xk!==null){var e=Dc$1(yk),o=pk.transition,s=C$2;try{if(pk.transition=null,C$2=16>e?16:e,xk===null)var a=!1;else{if(e=xk,xk=null,yk=0,K$2&6)throw Error(p$1(331));var c=K$2;for(K$2|=4,V$1=e.current;V$1!==null;){var h=V$1,g=h.child;if(V$1.flags&16){var _=h.deletions;if(_!==null){for(var et=0;et<_.length;et++){var rt=_[et];for(V$1=rt;V$1!==null;){var it=V$1;switch(it.tag){case 0:case 11:case 15:Qj(8,it,h)}var ot=it.child;if(ot!==null)ot.return=it,V$1=ot;else for(;V$1!==null;){it=V$1;var st=it.sibling,ct=it.return;if(Tj(it),it===rt){V$1=null;break}if(st!==null){st.return=ct,V$1=st;break}V$1=ct}}}var dt=h.alternate;if(dt!==null){var Tt=dt.child;if(Tt!==null){dt.child=null;do{var Et=Tt.sibling;Tt.sibling=null,Tt=Et}while(Tt!==null)}}V$1=h}}if(h.subtreeFlags&2064&&g!==null)g.return=h,V$1=g;else e:for(;V$1!==null;){if(h=V$1,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Qj(9,h,h.return)}var mt=h.sibling;if(mt!==null){mt.return=h.return,V$1=mt;break e}V$1=h.return}}var gt=e.current;for(V$1=gt;V$1!==null;){g=V$1;var xt=g.child;if(g.subtreeFlags&2064&&xt!==null)xt.return=g,V$1=xt;else e:for(g=gt;V$1!==null;){if(_=V$1,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Rj(9,_)}}catch(It){W$1(_,_.return,It)}if(_===g){V$1=null;break e}var bt=_.sibling;if(bt!==null){bt.return=_.return,V$1=bt;break e}V$1=_.return}}if(K$2=c,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,e)}catch{}a=!0}return a}finally{C$2=s,pk.transition=o}}return!1}function Yk(e,o,s){o=Ki(s,o),o=Oi(e,o,1),e=dh(e,o,1),o=L(),e!==null&&(Ac$1(e,1,o),Ek(e,o))}function W$1(e,o,s){if(e.tag===3)Yk(e,e,s);else for(;o!==null;){if(o.tag===3){Yk(o,e,s);break}else if(o.tag===1){var a=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))){e=Ki(s,e),e=Ri(o,e,1),o=dh(o,e,1),e=L(),o!==null&&(Ac$1(o,1,e),Ek(o,e));break}}o=o.return}}function Ui(e,o,s){var a=e.pingCache;a!==null&&a.delete(o),o=L(),e.pingedLanes|=e.suspendedLanes&s,R$1===e&&(Z$1&s)===s&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(e,0):sk|=s),Ek(e,o)}function Zk(e,o){o===0&&(e.mode&1?(o=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):o=1);var s=L();e=Zg(e,o),e!==null&&(Ac$1(e,o,s),Ek(e,s))}function vj(e){var o=e.memoizedState,s=0;o!==null&&(s=o.retryLane),Zk(e,s)}function ck(e,o){var s=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(p$1(314))}a!==null&&a.delete(o),Zk(e,s)}var Wk;Wk=function(e,o,s){if(e!==null)if(e.memoizedProps!==o.pendingProps||Wf.current)Ug=!0;else{if(!(e.lanes&s)&&!(o.flags&128))return Ug=!1,zj(e,o,s);Ug=!!(e.flags&131072)}else Ug=!1,I$1&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var a=o.type;jj(e,o),e=o.pendingProps;var c=Yf(o,H$1.current);Tg(o,s),c=Xh(null,o,a,e,c,s);var h=bi();return o.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(a)?(h=!0,cg(o)):h=!1,o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,ah(o),c.updater=nh,o.stateNode=c,c._reactInternals=o,rh(o,a,e,s),o=kj(null,o,a,!0,h,s)):(o.tag=0,I$1&&h&&vg(o),Yi(null,o,c,s),o=o.child),o;case 16:a=o.elementType;e:{switch(jj(e,o),e=o.pendingProps,c=a._init,a=c(a._payload),o.type=a,c=o.tag=$k(a),e=Lg(a,e),c){case 0:o=dj(null,o,a,e,s);break e;case 1:o=ij(null,o,a,e,s);break e;case 11:o=Zi(null,o,a,e,s);break e;case 14:o=aj(null,o,a,Lg(a.type,e),s);break e}throw Error(p$1(306,a,""))}return o;case 0:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),dj(e,o,a,c,s);case 1:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),ij(e,o,a,c,s);case 3:e:{if(lj(o),e===null)throw Error(p$1(387));a=o.pendingProps,h=o.memoizedState,c=h.element,bh(e,o),gh(o,a,null,s);var g=o.memoizedState;if(a=g.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},o.updateQueue.baseState=h,o.memoizedState=h,o.flags&256){c=Ki(Error(p$1(423)),o),o=mj(e,o,a,s,c);break e}else if(a!==c){c=Ki(Error(p$1(424)),o),o=mj(e,o,a,s,c);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I$1=!0,zg=null,s=Ch(o,null,a,s),o.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===c){o=$i(e,o,s);break e}Yi(e,o,a,s)}o=o.child}return o;case 5:return Kh(o),e===null&&Eg(o),a=o.type,c=o.pendingProps,h=e!==null?e.memoizedProps:null,g=c.children,Ef(a,c)?g=null:h!==null&&Ef(a,h)&&(o.flags|=32),hj(e,o),Yi(e,o,g,s),o.child;case 6:return e===null&&Eg(o),null;case 13:return pj(e,o,s);case 4:return Ih(o,o.stateNode.containerInfo),a=o.pendingProps,e===null?o.child=Bh(o,null,a,s):Yi(e,o,a,s),o.child;case 11:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),Zi(e,o,a,c,s);case 7:return Yi(e,o,o.pendingProps,s),o.child;case 8:return Yi(e,o,o.pendingProps.children,s),o.child;case 12:return Yi(e,o,o.pendingProps.children,s),o.child;case 10:e:{if(a=o.type._context,c=o.pendingProps,h=o.memoizedProps,g=c.value,G$1(Mg,a._currentValue),a._currentValue=g,h!==null)if(He$1(h.value,g)){if(h.children===c.children&&!Wf.current){o=$i(e,o,s);break e}}else for(h=o.child,h!==null&&(h.return=o);h!==null;){var _=h.dependencies;if(_!==null){g=h.child;for(var et=_.firstContext;et!==null;){if(et.context===a){if(h.tag===1){et=ch(-1,s&-s),et.tag=2;var rt=h.updateQueue;if(rt!==null){rt=rt.shared;var it=rt.pending;it===null?et.next=et:(et.next=it.next,it.next=et),rt.pending=et}}h.lanes|=s,et=h.alternate,et!==null&&(et.lanes|=s),Sg(h.return,s,o),_.lanes|=s;break}et=et.next}}else if(h.tag===10)g=h.type===o.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(p$1(341));g.lanes|=s,_=g.alternate,_!==null&&(_.lanes|=s),Sg(g,s,o),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===o){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}Yi(e,o,c.children,s),o=o.child}return o;case 9:return c=o.type,a=o.pendingProps.children,Tg(o,s),c=Vg(c),a=a(c),o.flags|=1,Yi(e,o,a,s),o.child;case 14:return a=o.type,c=Lg(a,o.pendingProps),c=Lg(a.type,c),aj(e,o,a,c,s);case 15:return cj(e,o,o.type,o.pendingProps,s);case 17:return a=o.type,c=o.pendingProps,c=o.elementType===a?c:Lg(a,c),jj(e,o),o.tag=1,Zf(a)?(e=!0,cg(o)):e=!1,Tg(o,s),ph(o,a,c),rh(o,a,c,s),kj(null,o,a,!0,e,s);case 19:return yj(e,o,s);case 22:return ej(e,o,s)}throw Error(p$1(156,o.tag))};function Gk(e,o){return ac$1(e,o)}function al(e,o,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,o,s,a){return new al(e,o,s,a)}function bj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $k(e){if(typeof e=="function")return bj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da$1)return 11;if(e===Ga$1)return 14}return 2}function wh(e,o){var s=e.alternate;return s===null?(s=Bg(e.tag,o,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=o,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,o=e.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function yh(e,o,s,a,c,h){var g=2;if(a=e,typeof e=="function")bj(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ya$1:return Ah(s.children,c,h,o);case za$1:g=8,c|=8;break;case Aa$1:return e=Bg(12,s,o,c|2),e.elementType=Aa$1,e.lanes=h,e;case Ea$1:return e=Bg(13,s,o,c),e.elementType=Ea$1,e.lanes=h,e;case Fa$1:return e=Bg(19,s,o,c),e.elementType=Fa$1,e.lanes=h,e;case Ia$1:return qj(s,c,h,o);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba$1:g=10;break e;case Ca$1:g=9;break e;case Da$1:g=11;break e;case Ga$1:g=14;break e;case Ha$1:g=16,a=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return o=Bg(g,s,o,c),o.elementType=e,o.type=a,o.lanes=h,o}function Ah(e,o,s,a){return e=Bg(7,e,a,o),e.lanes=s,e}function qj(e,o,s,a){return e=Bg(22,e,a,o),e.elementType=Ia$1,e.lanes=s,e.stateNode={isHidden:!1},e}function xh(e,o,s){return e=Bg(6,e,null,o),e.lanes=s,e}function zh(e,o,s){return o=Bg(4,e.children!==null?e.children:[],e.key,o),o.lanes=s,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function bl(e,o,s,a,c){this.tag=o,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function cl(e,o,s,a,c,h,g,_,et){return e=new bl(e,o,s,_,et),o===1?(o=1,h===!0&&(o|=8)):o=0,h=Bg(3,null,null,o),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(h),e}function dl(e,o,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:a==null?null:""+a,children:e,containerInfo:o,implementation:s}}function el(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb$1(e)!==e||e.tag!==1)throw Error(p$1(170));var o=e;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(e.tag===1){var s=e.type;if(Zf(s))return bg(e,s,o)}return o}function fl(e,o,s,a,c,h,g,_,et){return e=cl(s,a,!0,e,c,h,g,_,et),e.context=el(null),s=e.current,a=L(),c=lh(s),h=ch(a,c),h.callback=o??null,dh(s,h,c),e.current.lanes=c,Ac$1(e,c,a),Ek(e,a),e}function gl(e,o,s,a){var c=o.current,h=L(),g=lh(c);return s=el(s),o.context===null?o.context=s:o.pendingContext=s,o=ch(h,g),o.payload={element:e},a=a===void 0?null:a,a!==null&&(o.callback=a),e=dh(c,o,g),e!==null&&(mh(e,c,g,h),eh(e,c,g)),g}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function il(e,o){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<o?s:o}}function jl(e,o){il(e,o),(e=e.alternate)&&il(e,o)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(e){console.error(e)};function ml(e){this._internalRoot=e}nl.prototype.render=ml.prototype.render=function(e){var o=this._internalRoot;if(o===null)throw Error(p$1(409));gl(e,o,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var o=e.containerInfo;Sk(function(){gl(null,e,null,null)}),o[uf]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var o=Hc$1();e={blockedOn:null,target:e,priority:o};for(var s=0;s<Qc$1.length&&o!==0&&o<Qc$1[s].priority;s++);Qc$1.splice(s,0,e),s===0&&Vc$1(e)}};function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(e,o,s,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var rt=hl(g);h.call(rt)}}var g=fl(o,a,e,0,null,!1,!1,"",ql);return e._reactRootContainer=g,e[uf]=g.current,sf(e.nodeType===8?e.parentNode:e),Sk(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var _=a;a=function(){var rt=hl(et);_.call(rt)}}var et=cl(e,0,!1,null,null,!1,!1,"",ql);return e._reactRootContainer=et,e[uf]=et.current,sf(e.nodeType===8?e.parentNode:e),Sk(function(){gl(o,et,s,a)}),et}function sl(e,o,s,a,c){var h=s._reactRootContainer;if(h){var g=h;if(typeof c=="function"){var _=c;c=function(){var et=hl(g);_.call(et)}}gl(o,g,e,c)}else g=rl(s,o,e,c,a);return hl(g)}Ec$1=function(e){switch(e.tag){case 3:var o=e.stateNode;if(o.current.memoizedState.isDehydrated){var s=tc$1(o.pendingLanes);s!==0&&(Cc$1(o,s|1),Ek(o,B$1()),!(K$2&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var a=Zg(e,1);if(a!==null){var c=L();mh(a,e,1,c)}}),jl(e,1)}};Fc$1=function(e){if(e.tag===13){var o=Zg(e,134217728);if(o!==null){var s=L();mh(o,e,134217728,s)}jl(e,134217728)}};Gc$1=function(e){if(e.tag===13){var o=lh(e),s=Zg(e,o);if(s!==null){var a=L();mh(s,e,o,a)}jl(e,o)}};Hc$1=function(){return C$2};Ic$1=function(e,o){var s=C$2;try{return C$2=e,o()}finally{C$2=s}};yb$1=function(e,o,s){switch(o){case"input":if(bb$1(e,s),o=s.name,s.type==="radio"&&o!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var a=s[o];if(a!==e&&a.form===e.form){var c=Db(a);if(!c)throw Error(p$1(90));Wa$1(a),bb$1(a,c)}}}break;case"textarea":ib$1(e,s);break;case"select":o=s.value,o!=null&&fb$1(e,!!s.multiple,o,!1)}};Gb$1=Rk;Hb$1=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$1,ue$2,Db,Eb$1,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb$1(e),e===null?null:e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(e,o){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(o))throw Error(p$1(200));return dl(e,o,null,s)};reactDom_production_min.createRoot=function(e,o){if(!ol(e))throw Error(p$1(299));var s=!1,a="",c=ll;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(a=o.identifierPrefix),o.onRecoverableError!==void 0&&(c=o.onRecoverableError)),o=cl(e,1,!1,null,null,s,!1,a,c),e[uf]=o.current,sf(e.nodeType===8?e.parentNode:e),new ml(o)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var o=e._reactInternals;if(o===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Zb$1(o),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Sk(e)};reactDom_production_min.hydrate=function(e,o,s){if(!pl(o))throw Error(p$1(200));return sl(null,e,o,!0,s)};reactDom_production_min.hydrateRoot=function(e,o,s){if(!ol(e))throw Error(p$1(405));var a=s!=null&&s.hydratedSources||null,c=!1,h="",g=ll;if(s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),o=fl(o,null,e,1,s??null,c,!1,h,g),e[uf]=o.current,sf(e),a)for(e=0;e<a.length;e++)s=a[e],c=s._getVersion,c=c(s._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[s,c]:o.mutableSourceEagerHydrationData.push(s,c);return new nl(o)};reactDom_production_min.render=function(e,o,s){if(!pl(o))throw Error(p$1(200));return sl(null,e,o,!1,s)};reactDom_production_min.unmountComponentAtNode=function(e){if(!pl(e))throw Error(p$1(40));return e._reactRootContainer?(Sk(function(){sl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,o,s,a){if(!pl(s))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return sl(e,o,s,!1,a)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const _n=getDefaultExportFromCjs(reactDomExports);var createRoot,m=reactDomExports;createRoot=m.createRoot,m.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$6.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(e){e===void 0&&(e={});function o(a,c){let{pathname:h,search:g,hash:_}=a.location;return createLocation("",{pathname:h,search:g,hash:_},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(o,s,null,e)}function invariant(e,o){if(e===!1||e===null||typeof e>"u")throw new Error(o)}function warning(e,o){if(!e){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,o){return{usr:e.state,key:e.key,idx:o}}function createLocation(e,o,s,a){return s===void 0&&(s=null),_extends$6({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:s,key:o&&o.key||a||createKey()})}function createPath(e){let{pathname:o="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(o+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(o+=a.charAt(0)==="#"?a:"#"+a),o}function parsePath(e){let o={};if(e){let s=e.indexOf("#");s>=0&&(o.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(o.search=e.substr(a),e=e.substr(0,a)),e&&(o.pathname=e)}return o}function getUrlBasedHistory(e,o,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:h=!1}=a,g=c.history,_=Action.Pop,et=null,rt=it();rt==null&&(rt=0,g.replaceState(_extends$6({},g.state,{idx:rt}),""));function it(){return(g.state||{idx:null}).idx}function ot(){_=Action.Pop;let Et=it(),mt=Et==null?null:Et-rt;rt=Et,et&&et({action:_,location:Tt.location,delta:mt})}function st(Et,mt){_=Action.Push;let gt=createLocation(Tt.location,Et,mt);s&&s(gt,Et),rt=it()+1;let xt=getHistoryState(gt,rt),bt=Tt.createHref(gt);try{g.pushState(xt,"",bt)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;c.location.assign(bt)}h&&et&&et({action:_,location:Tt.location,delta:1})}function ct(Et,mt){_=Action.Replace;let gt=createLocation(Tt.location,Et,mt);s&&s(gt,Et),rt=it();let xt=getHistoryState(gt,rt),bt=Tt.createHref(gt);g.replaceState(xt,"",bt),h&&et&&et({action:_,location:Tt.location,delta:0})}function dt(Et){let mt=c.location.origin!=="null"?c.location.origin:c.location.href,gt=typeof Et=="string"?Et:createPath(Et);return gt=gt.replace(/ $/,"%20"),invariant(mt,"No window.location.(origin|href) available to create URL for href: "+gt),new URL(gt,mt)}let Tt={get action(){return _},get location(){return e(c,g)},listen(Et){if(et)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,ot),et=Et,()=>{c.removeEventListener(PopStateEventType,ot),et=null}},createHref(Et){return o(c,Et)},createURL:dt,encodeLocation(Et){let mt=dt(Et);return{pathname:mt.pathname,search:mt.search,hash:mt.hash}},push:st,replace:ct,go(Et){return g.go(Et)}};return Tt}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,o,s){s===void 0&&(s="/");let a=typeof o=="string"?parsePath(o):o,c=stripBasename(a.pathname||"/",s);if(c==null)return null;let h=flattenRoutes(e);rankRouteBranches(h);let g=null;for(let _=0;g==null&&_<h.length;++_){let et=decodePath(c);g=matchRouteBranch(h[_],et)}return g}function flattenRoutes(e,o,s,a){o===void 0&&(o=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(h,g,_)=>{let et={relativePath:_===void 0?h.path||"":_,caseSensitive:h.caseSensitive===!0,childrenIndex:g,route:h};et.relativePath.startsWith("/")&&(invariant(et.relativePath.startsWith(a),'Absolute route path "'+et.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),et.relativePath=et.relativePath.slice(a.length));let rt=joinPaths([a,et.relativePath]),it=s.concat(et);h.children&&h.children.length>0&&(invariant(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+rt+'".')),flattenRoutes(h.children,o,it,rt)),!(h.path==null&&!h.index)&&o.push({path:rt,score:computeScore(rt,h.index),routesMeta:it})};return e.forEach((h,g)=>{var _;if(h.path===""||!((_=h.path)!=null&&_.includes("?")))c(h,g);else for(let et of explodeOptionalSegments(h.path))c(h,g,et)}),o}function explodeOptionalSegments(e){let o=e.split("/");if(o.length===0)return[];let[s,...a]=o,c=s.endsWith("?"),h=s.replace(/\?$/,"");if(a.length===0)return c?[h,""]:[h];let g=explodeOptionalSegments(a.join("/")),_=[];return _.push(...g.map(et=>et===""?h:[h,et].join("/"))),c&&_.push(...g),_.map(et=>e.startsWith("/")&&et===""?"/":et)}function rankRouteBranches(e){e.sort((o,s)=>o.score!==s.score?s.score-o.score:compareIndexes(o.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,o){let s=e.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),o&&(a+=indexRouteValue),s.filter(c=>!isSplat(c)).reduce((c,h)=>c+(paramRe.test(h)?dynamicSegmentValue:h===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(e,o){return e.length===o.length&&e.slice(0,-1).every((a,c)=>a===o[c])?e[e.length-1]-o[o.length-1]:0}function matchRouteBranch(e,o){let{routesMeta:s}=e,a={},c="/",h=[];for(let g=0;g<s.length;++g){let _=s[g],et=g===s.length-1,rt=c==="/"?o:o.slice(c.length)||"/",it=matchPath({path:_.relativePath,caseSensitive:_.caseSensitive,end:et},rt);if(!it)return null;Object.assign(a,it.params);let ot=_.route;h.push({params:a,pathname:joinPaths([c,it.pathname]),pathnameBase:normalizePathname(joinPaths([c,it.pathnameBase])),route:ot}),it.pathnameBase!=="/"&&(c=joinPaths([c,it.pathnameBase]))}return h}function matchPath(e,o){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=compilePath(e.path,e.caseSensitive,e.end),c=o.match(s);if(!c)return null;let h=c[0],g=h.replace(/(.)\/+$/,"$1"),_=c.slice(1);return{params:a.reduce((rt,it,ot)=>{let{paramName:st,isOptional:ct}=it;if(st==="*"){let Tt=_[ot]||"";g=h.slice(0,h.length-Tt.length).replace(/(.)\/+$/,"$1")}const dt=_[ot];return ct&&!dt?rt[st]=void 0:rt[st]=(dt||"").replace(/%2F/g,"/"),rt},{}),pathname:h,pathnameBase:g,pattern:e}}function compilePath(e,o,s){o===void 0&&(o=!1),s===void 0&&(s=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,_,et)=>(a.push({paramName:_,isOptional:et!=null}),et?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,o?void 0:"i"),a]}function decodePath(e){try{return e.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),e}}function stripBasename(e,o){if(o==="/")return e;if(!e.toLowerCase().startsWith(o.toLowerCase()))return null;let s=o.endsWith("/")?o.length-1:o.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function resolvePath(e,o){o===void 0&&(o="/");let{pathname:s,search:a="",hash:c=""}=typeof e=="string"?parsePath(e):e;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,o):o,search:normalizeSearch(a),hash:normalizeHash(c)}}function resolvePathname(e,o){let s=o.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(e,o,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((o,s)=>s===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(e,o){let s=getPathContributingMatches(e);return o?s.map((a,c)=>c===e.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function resolveTo(e,o,s,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=parsePath(e):(c=_extends$6({},e),invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let h=e===""||c.pathname==="",g=h?"/":c.pathname,_;if(g==null)_=s;else{let ot=o.length-1;if(!a&&g.startsWith("..")){let st=g.split("/");for(;st[0]==="..";)st.shift(),ot-=1;c.pathname=st.join("/")}_=ot>=0?o[ot]:"/"}let et=resolvePath(c,_),rt=g&&g!=="/"&&g.endsWith("/"),it=(h||g===".")&&s.endsWith("/");return!et.pathname.endsWith("/")&&(rt||it)&&(et.pathname+="/"),et}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$5.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,o){let{relative:s}=o===void 0?{}:o;useInRouterContext()||invariant(!1);let{basename:a,navigator:c}=reactExports.useContext(NavigationContext),{hash:h,pathname:g,search:_}=useResolvedPath(e,{relative:s}),et=g;return a!=="/"&&(et=g==="/"?a:joinPaths([a,g])),c.createHref({pathname:et,search:_,hash:h})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let e=reactExports.useContext(DataRouterContext),{basename:o,future:s,navigator:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),g=JSON.stringify(getResolveToMatches(c,s.v7_relativeSplatPath)),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_.current=!0}),reactExports.useCallback(function(rt,it){if(it===void 0&&(it={}),!_.current)return;if(typeof rt=="number"){a.go(rt);return}let ot=resolveTo(rt,JSON.parse(g),h,it.relative==="path");e==null&&o!=="/"&&(ot.pathname=ot.pathname==="/"?o:joinPaths([o,ot.pathname])),(it.replace?a.replace:a.push)(ot,it.state,it)},[o,a,g,h,e])}const OutletContext=reactExports.createContext(null);function useOutlet(e){let o=reactExports.useContext(RouteContext).outlet;return o&&reactExports.createElement(OutletContext.Provider,{value:e},o)}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),o=e[e.length-1];return o?o.params:{}}function useResolvedPath(e,o){let{relative:s}=o===void 0?{}:o,{future:a}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),g=JSON.stringify(getResolveToMatches(c,a.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(g),h,s==="path"),[e,g,h,s])}function useRoutes(e,o){return useRoutesImpl(e,o)}function useRoutesImpl(e,o,s,a){useInRouterContext()||invariant(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:h}=reactExports.useContext(RouteContext),g=h[h.length-1],_=g?g.params:{};g&&g.pathname;let et=g?g.pathnameBase:"/";g&&g.route;let rt=useLocation(),it;if(o){var ot;let Et=typeof o=="string"?parsePath(o):o;et==="/"||(ot=Et.pathname)!=null&&ot.startsWith(et)||invariant(!1),it=Et}else it=rt;let st=it.pathname||"/",ct=st;if(et!=="/"){let Et=et.replace(/^\//,"").split("/");ct="/"+st.replace(/^\//,"").split("/").slice(Et.length).join("/")}let dt=matchRoutes(e,{pathname:ct}),Tt=_renderMatches(dt&&dt.map(Et=>Object.assign({},Et,{params:Object.assign({},_,Et.params),pathname:joinPaths([et,c.encodeLocation?c.encodeLocation(Et.pathname).pathname:Et.pathname]),pathnameBase:Et.pathnameBase==="/"?et:joinPaths([et,c.encodeLocation?c.encodeLocation(Et.pathnameBase).pathname:Et.pathnameBase])})),h,s,a);return o&&Tt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$5({pathname:"/",search:"",hash:"",state:null,key:"default"},it),navigationType:Action.Pop}},Tt):Tt}function DefaultErrorComponent(){let e=useRouteError(),o=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),s?reactExports.createElement("pre",{style:c},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,s){return s.location!==o.location||s.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:s.error,location:s.location,revalidation:o.revalidation||s.revalidation}}componentDidCatch(o,s){console.error("React Router caught the following error during render",o,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:o,match:s,children:a}=e,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:o},a)}function _renderMatches(e,o,s,a){var c;if(o===void 0&&(o=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var h;if((h=s)!=null&&h.errors)e=s.matches;else return null}let g=e,_=(c=s)==null?void 0:c.errors;if(_!=null){let it=g.findIndex(ot=>ot.route.id&&(_==null?void 0:_[ot.route.id]));it>=0||invariant(!1),g=g.slice(0,Math.min(g.length,it+1))}let et=!1,rt=-1;if(s&&a&&a.v7_partialHydration)for(let it=0;it<g.length;it++){let ot=g[it];if((ot.route.HydrateFallback||ot.route.hydrateFallbackElement)&&(rt=it),ot.route.id){let{loaderData:st,errors:ct}=s,dt=ot.route.loader&&st[ot.route.id]===void 0&&(!ct||ct[ot.route.id]===void 0);if(ot.route.lazy||dt){et=!0,rt>=0?g=g.slice(0,rt+1):g=[g[0]];break}}}return g.reduceRight((it,ot,st)=>{let ct,dt=!1,Tt=null,Et=null;s&&(ct=_&&ot.route.id?_[ot.route.id]:void 0,Tt=ot.route.errorElement||defaultErrorElement,et&&(rt<0&&st===0?(warningOnce("route-fallback",!1),dt=!0,Et=null):rt===st&&(dt=!0,Et=ot.route.hydrateFallbackElement||null)));let mt=o.concat(g.slice(0,st+1)),gt=()=>{let xt;return ct?xt=Tt:dt?xt=Et:ot.route.Component?xt=reactExports.createElement(ot.route.Component,null):ot.route.element?xt=ot.route.element:xt=it,reactExports.createElement(RenderedRoute,{match:ot,routeContext:{outlet:it,matches:mt,isDataRoute:s!=null},children:xt})};return s&&(ot.route.ErrorBoundary||ot.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:Tt,error:ct,children:gt(),routeContext:{outlet:null,matches:mt,isDataRoute:!0}}):gt()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext$1(e){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useDataRouterState(e){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext(e){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId(e){let o=useRouteContext(),s=o.matches[o.matches.length-1];return s.route.id||invariant(!1),s.route.id}function useRouteError(){var e;let o=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return o!==void 0?o:(e=s.errors)==null?void 0:e[a]}function useNavigateStable(){let{router:e}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(c,h){h===void 0&&(h={}),s.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,_extends$5({fromRouteId:o},h)))},[e,o])}const alreadyWarned={};function warningOnce(e,o,s){!o&&!alreadyWarned[e]&&(alreadyWarned[e]=!0)}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant(!1)}function Router(e){let{basename:o="/",children:s=null,location:a,navigationType:c=Action.Pop,navigator:h,static:g=!1,future:_}=e;useInRouterContext()&&invariant(!1);let et=o.replace(/^\/*/,"/"),rt=reactExports.useMemo(()=>({basename:et,navigator:h,static:g,future:_extends$5({v7_relativeSplatPath:!1},_)}),[et,_,h,g]);typeof a=="string"&&(a=parsePath(a));let{pathname:it="/",search:ot="",hash:st="",state:ct=null,key:dt="default"}=a,Tt=reactExports.useMemo(()=>{let Et=stripBasename(it,et);return Et==null?null:{location:{pathname:Et,search:ot,hash:st,state:ct,key:dt},navigationType:c}},[et,it,ot,st,ct,dt,c]);return Tt==null?null:reactExports.createElement(NavigationContext.Provider,{value:rt},reactExports.createElement(LocationContext.Provider,{children:s,value:Tt}))}function Routes(e){let{children:o,location:s}=e;return useRoutes(createRoutesFromChildren(o),s)}new Promise(()=>{});function createRoutesFromChildren(e,o){o===void 0&&(o=[]);let s=[];return reactExports.Children.forEach(e,(a,c)=>{if(!reactExports.isValidElement(a))return;let h=[...o,c];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,h));return}a.type!==Route&&invariant(!1),!a.props.index||!a.props.children||invariant(!1);let g={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(g.children=createRoutesFromChildren(a.props.children,h)),s.push(g)}),s}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$4.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(e,o){if(e==null)return{};var s={},a=Object.keys(e),c,h;for(h=0;h<a.length;h++)c=a[h],!(o.indexOf(c)>=0)&&(s[c]=e[c]);return s}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,o){return e.button===0&&(!o||o==="_self")&&!isModifiedEvent(e)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_excluded2=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(e){let{basename:o,children:s,future:a,window:c}=e,h=reactExports.useRef();h.current==null&&(h.current=createBrowserHistory({window:c,v5Compat:!0}));let g=h.current,[_,et]=reactExports.useState({action:g.action,location:g.location}),{v7_startTransition:rt}=a||{},it=reactExports.useCallback(ot=>{rt&&startTransitionImpl?startTransitionImpl(()=>et(ot)):et(ot)},[et,rt]);return reactExports.useLayoutEffect(()=>g.listen(it),[g,it]),reactExports.createElement(Router,{basename:o,children:s,location:_.location,navigationType:_.action,navigator:g,future:a})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(o,s){let{onClick:a,relative:c,reloadDocument:h,replace:g,state:_,target:et,to:rt,preventScrollReset:it,unstable_viewTransition:ot}=o,st=_objectWithoutPropertiesLoose$1(o,_excluded$1),{basename:ct}=reactExports.useContext(NavigationContext),dt,Tt=!1;if(typeof rt=="string"&&ABSOLUTE_URL_REGEX.test(rt)&&(dt=rt,isBrowser$1))try{let xt=new URL(window.location.href),bt=rt.startsWith("//")?new URL(xt.protocol+rt):new URL(rt),It=stripBasename(bt.pathname,ct);bt.origin===xt.origin&&It!=null?rt=It+bt.search+bt.hash:Tt=!0}catch{}let Et=useHref(rt,{relative:c}),mt=useLinkClickHandler(rt,{replace:g,state:_,target:et,preventScrollReset:it,relative:c,unstable_viewTransition:ot});function gt(xt){a&&a(xt),xt.defaultPrevented||mt(xt)}return reactExports.createElement("a",_extends$4({},st,{href:dt||Et,onClick:Tt||h?a:gt,ref:s,target:et}))}),NavLink=reactExports.forwardRef(function(o,s){let{"aria-current":a="page",caseSensitive:c=!1,className:h="",end:g=!1,style:_,to:et,unstable_viewTransition:rt,children:it}=o,ot=_objectWithoutPropertiesLoose$1(o,_excluded2),st=useResolvedPath(et,{relative:ot.relative}),ct=useLocation(),dt=reactExports.useContext(DataRouterStateContext),{navigator:Tt,basename:Et}=reactExports.useContext(NavigationContext),mt=dt!=null&&useViewTransitionState(st)&&rt===!0,gt=Tt.encodeLocation?Tt.encodeLocation(st).pathname:st.pathname,xt=ct.pathname,bt=dt&&dt.navigation&&dt.navigation.location?dt.navigation.location.pathname:null;c||(xt=xt.toLowerCase(),bt=bt?bt.toLowerCase():null,gt=gt.toLowerCase()),bt&&Et&&(bt=stripBasename(bt,Et)||bt);const It=gt!=="/"&&gt.endsWith("/")?gt.length-1:gt.length;let Ut=xt===gt||!g&&xt.startsWith(gt)&&xt.charAt(It)==="/",Ft=bt!=null&&(bt===gt||!g&&bt.startsWith(gt)&&bt.charAt(gt.length)==="/"),Bt={isActive:Ut,isPending:Ft,isTransitioning:mt},cr=Ut?a:void 0,Ht;typeof h=="function"?Ht=h(Bt):Ht=[h,Ut?"active":null,Ft?"pending":null,mt?"transitioning":null].filter(Boolean).join(" ");let pr=typeof _=="function"?_(Bt):_;return reactExports.createElement(Link,_extends$4({},ot,{"aria-current":cr,className:Ht,ref:s,style:pr,to:et,unstable_viewTransition:rt}),typeof it=="function"?it(Bt):it)});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(e){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useLinkClickHandler(e,o){let{target:s,replace:a,state:c,preventScrollReset:h,relative:g,unstable_viewTransition:_}=o===void 0?{}:o,et=useNavigate(),rt=useLocation(),it=useResolvedPath(e,{relative:g});return reactExports.useCallback(ot=>{if(shouldProcessLinkClick(ot,s)){ot.preventDefault();let st=a!==void 0?a:createPath(rt)===createPath(it);et(e,{replace:st,state:c,preventScrollReset:h,relative:g,unstable_viewTransition:_})}},[rt,et,it,a,c,s,e,h,g,_])}function useViewTransitionState(e,o){o===void 0&&(o={});let s=reactExports.useContext(ViewTransitionContext);s==null&&invariant(!1);let{basename:a}=useDataRouterContext(DataRouterHook.useViewTransitionState),c=useResolvedPath(e,{relative:o.relative});if(!s.isTransitioning)return!1;let h=stripBasename(s.currentLocation.pathname,a)||s.currentLocation.pathname,g=stripBasename(s.nextLocation.pathname,a)||s.nextLocation.pathname;return matchPath(c.pathname,g)!=null||matchPath(c.pathname,h)!=null}const navLink="_navLink_vuosl_1",active="_active_vuosl_49",MIB={navLink,active};function MenuItemBar(e){return jsxRuntimeExports.jsx(NavLink,{"aria-label":"Show"+e.link,style:{backgroundColor:e.active?"#BFCFE750":"",borderRightWidth:e.active?1:0,borderRightStyle:"solid",borderRightColor:"#525ceb"},className:MIB.navLink,title:e.link,to:e.link,onClick:e.click,children:jsxRuntimeExports.jsx("div",{className:e.active?MIB.active:"",children:e.icon})})}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties$2(e,o){if(e==null)return{};var s=_objectWithoutPropertiesLoose(e,o),a,c;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(e);for(c=0;c<h.length;c++)a=h[c],!(o.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function _objectWithoutPropertiesLoose(e,o){if(e==null)return{};var s={},a=Object.keys(e),c,h;for(h=0;h<a.length;h++)c=a[h],!(o.indexOf(c)>=0)&&(s[c]=e[c]);return s}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends$3.apply(this,arguments)}function ownKeys(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);o&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),s.push.apply(s,a)}return s}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(s),!0).forEach(function(a){_defineProperty(e,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(s,a))})}return e}function _defineProperty(e,o,s){return o=_toPropertyKey(o),o in e?Object.defineProperty(e,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[o]=s,e}function _toPropertyKey(e){var o=_toPrimitive(e,"string");return typeof o=="symbol"?o:String(o)}function _toPrimitive(e,o){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var a=s.call(e,o||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function Tree2Element(e){return e&&e.map((o,s)=>React.createElement(o.tag,_objectSpread({key:s},o.attr),Tree2Element(o.child)))}function GenIcon(e){return o=>React.createElement(IconBase,_extends$3({attr:_objectSpread({},e.attr)},o),Tree2Element(e.child))}function IconBase(e){var o=s=>{var{attr:a,size:c,title:h}=e,g=_objectWithoutProperties$2(e,_excluded),_=c||s.size||"1em",et;return s.className&&(et=s.className),e.className&&(et=(et?et+" ":"")+e.className),React.createElement("svg",_extends$3({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,g,{className:et,style:_objectSpread(_objectSpread({color:e.color||s.color},s.style),e.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),h&&React.createElement("title",null,h),e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,s=>o(s)):o(DefaultContext)}function MdDelete(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function MdCheckBox(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(e)}function MdOutlineInventory2(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2zm-1 18H5V9h14v11zm1-13H4V4h16v3z"},child:[]},{tag:"path",attr:{d:"M9 12h6v2H9z"},child:[]}]})(e)}function MdOutlineCheckBoxOutlineBlank(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"},child:[]}]})(e)}function CgCalculator(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M17 5H7V7H17V5Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M7 9H9V11H7V9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M9 13H7V15H9V13Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M7 17H9V19H7V17Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M13 9H11V11H13V9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M11 13H13V15H11V13Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M13 17H11V19H13V17Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M15 9H17V11H15V9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M17 13H15V19H17V13Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3C3 1.89543 3.89543 1 5 1H19C20.1046 1 21 1.89543 21 3V21C21 22.1046 20.1046 23 19 23H5C3.89543 23 3 22.1046 3 21V3ZM5 3H19V21H5V3Z",fill:"currentColor"},child:[]}]})(e)}function CgMathMinus(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M4 12C4 11.4477 4.44772 11 5 11H19C19.5523 11 20 11.4477 20 12C20 12.5523 19.5523 13 19 13H5C4.44772 13 4 12.5523 4 12Z",fill:"currentColor"},child:[]}]})(e)}function CgTapDouble(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9236 18V14C14.9236 12.3431 13.5804 11 11.9236 11C10.2667 11 8.92355 12.3431 8.92355 14V18C8.92355 19.6569 10.2667 21 11.9236 21C13.5804 21 14.9236 19.6569 14.9236 18ZM11.9236 9C9.16213 9 6.92355 11.2386 6.92355 14V18C6.92355 20.7614 9.16213 23 11.9236 23C14.685 23 16.9236 20.7614 16.9236 18V14C16.9236 11.2386 14.685 9 11.9236 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M10.9236 14C10.9236 13.4477 11.3713 13 11.9236 13C12.4758 13 12.9236 13.4477 12.9236 14V17H10.9236V14Z",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M11.9235 1C14.7023 1 17.2164 2.13339 19.0286 3.96311L17.6144 5.37735C16.1641 3.90955 14.15 3 11.9235 3C9.77436 3 7.82311 3.84749 6.38577 5.22651L4.97131 3.81205C6.7708 2.07122 9.22207 1 11.9235 1Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9233 5C13.5809 5 15.1038 5.5761 16.3029 6.53898L14.8768 7.9651C14.0493 7.35833 13.0281 7 11.9233 7C10.848 7 9.85204 7.33943 9.03662 7.91699L7.60779 6.48816C8.79686 5.55586 10.2952 5 11.9233 5Z",fill:"currentColor"},child:[]}]})(e)}const aside="_aside_1tlgm_1",SideBarCSS={aside};function IoAdd(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(e)}function IoArrowBack(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M244 400 100 256l144-144M120 256h292"},child:[]}]})(e)}function IoCloseSharp(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(e)}function FaArrowLeft(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function FaPercentage(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}const SideBar=({active:e})=>{const[o,s]=reactExports.useState(null);return useLocation(),reactExports.useEffect(()=>{o==null&&window.location.pathname!="/"&&(console.log(window.location.pathname.toLocaleUpperCase()),s(window.location.pathname.toLocaleLowerCase()))},[]),jsxRuntimeExports.jsx("aside",{id:SideBarCSS.aside,style:{left:e?"0px":"-60px"},children:jsxRuntimeExports.jsxs("nav",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx(MenuItemBar,{click:()=>s("/production/inventory"),icon:jsxRuntimeExports.jsx(MdOutlineInventory2,{}),active:o==="/production/inventory",link:"/production/inventory"}),jsxRuntimeExports.jsx(MenuItemBar,{click:()=>s("/production/equation"),icon:jsxRuntimeExports.jsx(CgCalculator,{}),active:o==="/production/equation",link:"/production/equation"})]})})};function AiOutlineMenu(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(e)}const InventoryLayout=()=>{const[e,o]=reactExports.useState(!0);return jsxRuntimeExports.jsxs("main",{style:{display:"flex",flexDirection:"row"},children:[jsxRuntimeExports.jsx(Outlet,{}),jsxRuntimeExports.jsx(SideBar,{active:e}),jsxRuntimeExports.jsx("button",{id:"button",title:"ShowMenu","aria-label":"Show menu",style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",position:"fixed",right:"20px",width:"50px",height:"50px",bottom:"20px",borderRadius:"50%",borderColor:e?"red":"blue",borderWidth:"2px",borderStyle:"solid",color:e?"red":"blue",background:"transparent",transition:"all 0.3s"},onClick:()=>o(!e),children:e?jsxRuntimeExports.jsx(IoCloseSharp,{}):jsxRuntimeExports.jsx(AiOutlineMenu,{})})]})},ImageContainer$1="_ImageContainer_2b3j9_1",main$1="_main_2b3j9_17",section="_section_2b3j9_35",ProductInformation="_ProductInformation_2b3j9_51",table$2="_table_2b3j9_61",contentForm$1="_contentForm_2b3j9_117",containerCenter="_containerCenter_2b3j9_133",componentStyles={ImageContainer:ImageContainer$1,main:main$1,section,ProductInformation,table:table$2,contentForm:contentForm$1,containerCenter};class ProductComponents{constructor(o,s,a){Er(this,"IdProductComponents");Er(this,"IdComponents");Er(this,"IdProduct");this.IdProductComponents=o,this.IdComponents=s,this.IdProduct=a}}const InventoryContext=reactExports.createContext(null);var reactLoading={exports:{}};(function(e,o){(function(a,c){e.exports=c()})(typeof self<"u"?self:commonjsGlobal$1,function(){return function(s){var a={};function c(h){if(a[h])return a[h].exports;var g=a[h]={i:h,l:!1,exports:{}};return s[h].call(g.exports,g,g.exports,c),g.l=!0,g.exports}return c.m=s,c.c=a,c.d=function(h,g,_){c.o(h,g)||Object.defineProperty(h,g,{configurable:!1,enumerable:!0,get:_})},c.n=function(h){var g=h&&h.__esModule?function(){return h.default}:function(){return h};return c.d(g,"a",g),g},c.o=function(h,g){return Object.prototype.hasOwnProperty.call(h,g)},c.p="/",c(c.s=7)}([function(s,a,c){function h(g,_,et,rt,it,ot,st,ct){if(!g){var dt;if(_===void 0)dt=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var Tt=[et,rt,it,ot,st,ct],Et=0;dt=new Error(_.replace(/%s/g,function(){return Tt[Et++]})),dt.name="Invariant Violation"}throw dt.framesToPop=1,dt}}s.exports=h},function(s,a,c){function h(_){return function(){return _}}var g=function(){};g.thatReturns=h,g.thatReturnsFalse=h(!1),g.thatReturnsTrue=h(!0),g.thatReturnsNull=h(null),g.thatReturnsThis=function(){return this},g.thatReturnsArgument=function(_){return _},s.exports=g},function(s,a,c){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;function et(it){if(it==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(it)}function rt(){try{if(!Object.assign)return!1;var it=new String("abc");if(it[5]="de",Object.getOwnPropertyNames(it)[0]==="5")return!1;for(var ot={},st=0;st<10;st++)ot["_"+String.fromCharCode(st)]=st;var ct=Object.getOwnPropertyNames(ot).map(function(Tt){return ot[Tt]});if(ct.join("")!=="0123456789")return!1;var dt={};return"abcdefghijklmnopqrst".split("").forEach(function(Tt){dt[Tt]=Tt}),Object.keys(Object.assign({},dt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}s.exports=rt()?Object.assign:function(it,ot){for(var st,ct=et(it),dt,Tt=1;Tt<arguments.length;Tt++){st=Object(arguments[Tt]);for(var Et in st)g.call(st,Et)&&(ct[Et]=st[Et]);if(h){dt=h(st);for(var mt=0;mt<dt.length;mt++)_.call(st,dt[mt])&&(ct[dt[mt]]=st[dt[mt]])}}return ct}},function(s,a,c){var h=c(1),g=h;s.exports=g},function(s,a,c){var h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";s.exports=h},function(s,a,c){var h={};s.exports=h},function(s,a,c){function h(g,_,et,rt,it){}s.exports=h},function(s,a,c){Object.defineProperty(a,"__esModule",{value:!0});var h=Object.assign||function(bt){for(var It=1;It<arguments.length;It++){var Ut=arguments[It];for(var Ft in Ut)Object.prototype.hasOwnProperty.call(Ut,Ft)&&(bt[Ft]=Ut[Ft])}return bt},g=function(){function bt(It,Ut){for(var Ft=0;Ft<Ut.length;Ft++){var Bt=Ut[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(It,Bt.key,Bt)}}return function(It,Ut,Ft){return Ut&&bt(It.prototype,Ut),Ft&&bt(It,Ft),It}}(),_=c(8),et=dt(_),rt=c(11),it=dt(rt),ot=c(14),st=ct(ot);function ct(bt){if(bt&&bt.__esModule)return bt;var It={};if(bt!=null)for(var Ut in bt)Object.prototype.hasOwnProperty.call(bt,Ut)&&(It[Ut]=bt[Ut]);return It.default=bt,It}function dt(bt){return bt&&bt.__esModule?bt:{default:bt}}function Tt(bt,It){var Ut={};for(var Ft in bt)It.indexOf(Ft)>=0||Object.prototype.hasOwnProperty.call(bt,Ft)&&(Ut[Ft]=bt[Ft]);return Ut}function Et(bt,It){if(!(bt instanceof It))throw new TypeError("Cannot call a class as a function")}function mt(bt,It){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return It&&(typeof It=="object"||typeof It=="function")?It:bt}function gt(bt,It){if(typeof It!="function"&&It!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof It);bt.prototype=Object.create(It&&It.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),It&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,It):bt.__proto__=It)}var xt=function(bt){gt(It,bt);function It(){var Ut,Ft,Bt,cr;Et(this,It);for(var Ht=arguments.length,pr=Array(Ht),Ar=0;Ar<Ht;Ar++)pr[Ar]=arguments[Ar];return cr=(Ft=(Bt=mt(this,(Ut=It.__proto__||Object.getPrototypeOf(It)).call.apply(Ut,[this].concat(pr))),Bt),Bt.state={delayed:Bt.props.delay>0},Ft),mt(Bt,cr)}return g(It,[{key:"componentDidMount",value:function(){var Ft=this,Bt=this.props.delay,cr=this.state.delayed;cr&&(this.timeout=setTimeout(function(){Ft.setState({delayed:!1})},Bt))}},{key:"componentWillUnmount",value:function(){var Ft=this.timeout;Ft&&clearTimeout(Ft)}},{key:"render",value:function(){var Ft=this.props,Bt=Ft.color;Ft.delay;var cr=Ft.type,Ht=Ft.height,pr=Ft.width,Ar=Tt(Ft,["color","delay","type","height","width"]),Rr=this.state.delayed?"blank":cr,dr=st[Rr],Yt={fill:Bt,height:Ht,width:pr};return et.default.createElement("div",h({style:Yt,dangerouslySetInnerHTML:{__html:dr}},Ar))}}]),It}(_.Component);xt.propTypes={color:it.default.string,delay:it.default.number,type:it.default.string,height:it.default.oneOfType([it.default.string,it.default.number]),width:it.default.oneOfType([it.default.string,it.default.number])},xt.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},a.default=xt},function(s,a,c){s.exports=c(9)},function(s,a,c){/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=c(2),g=c(0),_=c(5),et=c(1),rt=typeof Symbol=="function"&&Symbol.for,it=rt?Symbol.for("react.element"):60103,ot=rt?Symbol.for("react.portal"):60106,st=rt?Symbol.for("react.fragment"):60107,ct=rt?Symbol.for("react.strict_mode"):60108,dt=rt?Symbol.for("react.provider"):60109,Tt=rt?Symbol.for("react.context"):60110,Et=rt?Symbol.for("react.async_mode"):60111,mt=rt?Symbol.for("react.forward_ref"):60112,gt=typeof Symbol=="function"&&Symbol.iterator;function xt(Mt){for(var sr=arguments.length-1,xr="http://reactjs.org/docs/error-decoder.html?invariant="+Mt,ir=0;ir<sr;ir++)xr+="&args[]="+encodeURIComponent(arguments[ir+1]);g(!1,"Minified React error #"+Mt+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",xr)}var bt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function It(Mt,sr,xr){this.props=Mt,this.context=sr,this.refs=_,this.updater=xr||bt}It.prototype.isReactComponent={},It.prototype.setState=function(Mt,sr){typeof Mt!="object"&&typeof Mt!="function"&&Mt!=null&&xt("85"),this.updater.enqueueSetState(this,Mt,sr,"setState")},It.prototype.forceUpdate=function(Mt){this.updater.enqueueForceUpdate(this,Mt,"forceUpdate")};function Ut(){}Ut.prototype=It.prototype;function Ft(Mt,sr,xr){this.props=Mt,this.context=sr,this.refs=_,this.updater=xr||bt}var Bt=Ft.prototype=new Ut;Bt.constructor=Ft,h(Bt,It.prototype),Bt.isPureReactComponent=!0;var cr={current:null},Ht=Object.prototype.hasOwnProperty,pr={key:!0,ref:!0,__self:!0,__source:!0};function Ar(Mt,sr,xr){var ir=void 0,nr={},lr=null,Cr=null;if(sr!=null)for(ir in sr.ref!==void 0&&(Cr=sr.ref),sr.key!==void 0&&(lr=""+sr.key),sr)Ht.call(sr,ir)&&!pr.hasOwnProperty(ir)&&(nr[ir]=sr[ir]);var Pr=arguments.length-2;if(Pr===1)nr.children=xr;else if(1<Pr){for(var $r=Array(Pr),Mr=0;Mr<Pr;Mr++)$r[Mr]=arguments[Mr+2];nr.children=$r}if(Mt&&Mt.defaultProps)for(ir in Pr=Mt.defaultProps,Pr)nr[ir]===void 0&&(nr[ir]=Pr[ir]);return{$$typeof:it,type:Mt,key:lr,ref:Cr,props:nr,_owner:cr.current}}function Rr(Mt){return typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===it}function dr(Mt){var sr={"=":"=0",":":"=2"};return"$"+(""+Mt).replace(/[=:]/g,function(xr){return sr[xr]})}var Yt=/\/+/g,Pt=[];function ur(Mt,sr,xr,ir){if(Pt.length){var nr=Pt.pop();return nr.result=Mt,nr.keyPrefix=sr,nr.func=xr,nr.context=ir,nr.count=0,nr}return{result:Mt,keyPrefix:sr,func:xr,context:ir,count:0}}function Lt(Mt){Mt.result=null,Mt.keyPrefix=null,Mt.func=null,Mt.context=null,Mt.count=0,10>Pt.length&&Pt.push(Mt)}function rr(Mt,sr,xr,ir){var nr=typeof Mt;(nr==="undefined"||nr==="boolean")&&(Mt=null);var lr=!1;if(Mt===null)lr=!0;else switch(nr){case"string":case"number":lr=!0;break;case"object":switch(Mt.$$typeof){case it:case ot:lr=!0}}if(lr)return xr(ir,Mt,sr===""?"."+tr(Mt,0):sr),1;if(lr=0,sr=sr===""?".":sr+":",Array.isArray(Mt))for(var Cr=0;Cr<Mt.length;Cr++){nr=Mt[Cr];var Pr=sr+tr(nr,Cr);lr+=rr(nr,Pr,xr,ir)}else if(Mt===null||typeof Mt>"u"?Pr=null:(Pr=gt&&Mt[gt]||Mt["@@iterator"],Pr=typeof Pr=="function"?Pr:null),typeof Pr=="function")for(Mt=Pr.call(Mt),Cr=0;!(nr=Mt.next()).done;)nr=nr.value,Pr=sr+tr(nr,Cr++),lr+=rr(nr,Pr,xr,ir);else nr==="object"&&(xr=""+Mt,xt("31",xr==="[object Object]"?"object with keys {"+Object.keys(Mt).join(", ")+"}":xr,""));return lr}function tr(Mt,sr){return typeof Mt=="object"&&Mt!==null&&Mt.key!=null?dr(Mt.key):sr.toString(36)}function Kt(Mt,sr){Mt.func.call(Mt.context,sr,Mt.count++)}function Dt(Mt,sr,xr){var ir=Mt.result,nr=Mt.keyPrefix;Mt=Mt.func.call(Mt.context,sr,Mt.count++),Array.isArray(Mt)?hr(Mt,ir,xr,et.thatReturnsArgument):Mt!=null&&(Rr(Mt)&&(sr=nr+(!Mt.key||sr&&sr.key===Mt.key?"":(""+Mt.key).replace(Yt,"$&/")+"/")+xr,Mt={$$typeof:it,type:Mt.type,key:sr,ref:Mt.ref,props:Mt.props,_owner:Mt._owner}),ir.push(Mt))}function hr(Mt,sr,xr,ir,nr){var lr="";xr!=null&&(lr=(""+xr).replace(Yt,"$&/")+"/"),sr=ur(sr,lr,ir,nr),Mt==null||rr(Mt,"",Dt,sr),Lt(sr)}var ar={Children:{map:function(Mt,sr,xr){if(Mt==null)return Mt;var ir=[];return hr(Mt,ir,null,sr,xr),ir},forEach:function(Mt,sr,xr){if(Mt==null)return Mt;sr=ur(null,null,sr,xr),Mt==null||rr(Mt,"",Kt,sr),Lt(sr)},count:function(Mt){return Mt==null?0:rr(Mt,"",et.thatReturnsNull,null)},toArray:function(Mt){var sr=[];return hr(Mt,sr,null,et.thatReturnsArgument),sr},only:function(Mt){return Rr(Mt)||xt("143"),Mt}},createRef:function(){return{current:null}},Component:It,PureComponent:Ft,createContext:function(Mt,sr){return sr===void 0&&(sr=null),Mt={$$typeof:Tt,_calculateChangedBits:sr,_defaultValue:Mt,_currentValue:Mt,_changedBits:0,Provider:null,Consumer:null},Mt.Provider={$$typeof:dt,_context:Mt},Mt.Consumer=Mt},forwardRef:function(Mt){return{$$typeof:mt,render:Mt}},Fragment:st,StrictMode:ct,unstable_AsyncMode:Et,createElement:Ar,cloneElement:function(Mt,sr,xr){Mt==null&&xt("267",Mt);var ir=void 0,nr=h({},Mt.props),lr=Mt.key,Cr=Mt.ref,Pr=Mt._owner;if(sr!=null){sr.ref!==void 0&&(Cr=sr.ref,Pr=cr.current),sr.key!==void 0&&(lr=""+sr.key);var $r=void 0;Mt.type&&Mt.type.defaultProps&&($r=Mt.type.defaultProps);for(ir in sr)Ht.call(sr,ir)&&!pr.hasOwnProperty(ir)&&(nr[ir]=sr[ir]===void 0&&$r!==void 0?$r[ir]:sr[ir])}if(ir=arguments.length-2,ir===1)nr.children=xr;else if(1<ir){$r=Array(ir);for(var Mr=0;Mr<ir;Mr++)$r[Mr]=arguments[Mr+2];nr.children=$r}return{$$typeof:it,type:Mt.type,key:lr,ref:Cr,props:nr,_owner:Pr}},createFactory:function(Mt){var sr=Ar.bind(null,Mt);return sr.type=Mt,sr},isValidElement:Rr,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:cr,assign:h}},Tr=Object.freeze({default:ar}),yr=Tr&&ar||Tr;s.exports=yr.default?yr.default:yr},function(s,a,c){},function(s,a,c){s.exports=c(13)()},function(s,a,c){var h=c(1),g=c(0),_=c(3),et=c(2),rt=c(4),it=c(6);s.exports=function(ot,st){var ct=typeof Symbol=="function"&&Symbol.iterator,dt="@@iterator";function Tt(Dt){var hr=Dt&&(ct&&Dt[ct]||Dt[dt]);if(typeof hr=="function")return hr}var Et="<<anonymous>>",mt={array:It("array"),bool:It("boolean"),func:It("function"),number:It("number"),object:It("object"),string:It("string"),symbol:It("symbol"),any:Ut(),arrayOf:Ft,element:Bt(),instanceOf:cr,node:Rr(),objectOf:pr,oneOf:Ht,oneOfType:Ar,shape:dr,exact:Yt};function gt(Dt,hr){return Dt===hr?Dt!==0||1/Dt===1/hr:Dt!==Dt&&hr!==hr}function xt(Dt){this.message=Dt,this.stack=""}xt.prototype=Error.prototype;function bt(Dt){function hr(Tr,yr,Mt,sr,xr,ir,nr){return sr=sr||Et,ir=ir||Mt,nr!==rt&&st&&g(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),yr[Mt]==null?Tr?yr[Mt]===null?new xt("The "+xr+" `"+ir+"` is marked as required "+("in `"+sr+"`, but its value is `null`.")):new xt("The "+xr+" `"+ir+"` is marked as required in "+("`"+sr+"`, but its value is `undefined`.")):null:Dt(yr,Mt,sr,xr,ir)}var ar=hr.bind(null,!1);return ar.isRequired=hr.bind(null,!0),ar}function It(Dt){function hr(ar,Tr,yr,Mt,sr,xr){var ir=ar[Tr],nr=Lt(ir);if(nr!==Dt){var lr=rr(ir);return new xt("Invalid "+Mt+" `"+sr+"` of type "+("`"+lr+"` supplied to `"+yr+"`, expected ")+("`"+Dt+"`."))}return null}return bt(hr)}function Ut(){return bt(h.thatReturnsNull)}function Ft(Dt){function hr(ar,Tr,yr,Mt,sr){if(typeof Dt!="function")return new xt("Property `"+sr+"` of component `"+yr+"` has invalid PropType notation inside arrayOf.");var xr=ar[Tr];if(!Array.isArray(xr)){var ir=Lt(xr);return new xt("Invalid "+Mt+" `"+sr+"` of type "+("`"+ir+"` supplied to `"+yr+"`, expected an array."))}for(var nr=0;nr<xr.length;nr++){var lr=Dt(xr,nr,yr,Mt,sr+"["+nr+"]",rt);if(lr instanceof Error)return lr}return null}return bt(hr)}function Bt(){function Dt(hr,ar,Tr,yr,Mt){var sr=hr[ar];if(!ot(sr)){var xr=Lt(sr);return new xt("Invalid "+yr+" `"+Mt+"` of type "+("`"+xr+"` supplied to `"+Tr+"`, expected a single ReactElement."))}return null}return bt(Dt)}function cr(Dt){function hr(ar,Tr,yr,Mt,sr){if(!(ar[Tr]instanceof Dt)){var xr=Dt.name||Et,ir=Kt(ar[Tr]);return new xt("Invalid "+Mt+" `"+sr+"` of type "+("`"+ir+"` supplied to `"+yr+"`, expected ")+("instance of `"+xr+"`."))}return null}return bt(hr)}function Ht(Dt){if(!Array.isArray(Dt))return h.thatReturnsNull;function hr(ar,Tr,yr,Mt,sr){for(var xr=ar[Tr],ir=0;ir<Dt.length;ir++)if(gt(xr,Dt[ir]))return null;var nr=JSON.stringify(Dt);return new xt("Invalid "+Mt+" `"+sr+"` of value `"+xr+"` "+("supplied to `"+yr+"`, expected one of "+nr+"."))}return bt(hr)}function pr(Dt){function hr(ar,Tr,yr,Mt,sr){if(typeof Dt!="function")return new xt("Property `"+sr+"` of component `"+yr+"` has invalid PropType notation inside objectOf.");var xr=ar[Tr],ir=Lt(xr);if(ir!=="object")return new xt("Invalid "+Mt+" `"+sr+"` of type "+("`"+ir+"` supplied to `"+yr+"`, expected an object."));for(var nr in xr)if(xr.hasOwnProperty(nr)){var lr=Dt(xr,nr,yr,Mt,sr+"."+nr,rt);if(lr instanceof Error)return lr}return null}return bt(hr)}function Ar(Dt){if(!Array.isArray(Dt))return h.thatReturnsNull;for(var hr=0;hr<Dt.length;hr++){var ar=Dt[hr];if(typeof ar!="function")return _(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",tr(ar),hr),h.thatReturnsNull}function Tr(yr,Mt,sr,xr,ir){for(var nr=0;nr<Dt.length;nr++){var lr=Dt[nr];if(lr(yr,Mt,sr,xr,ir,rt)==null)return null}return new xt("Invalid "+xr+" `"+ir+"` supplied to "+("`"+sr+"`."))}return bt(Tr)}function Rr(){function Dt(hr,ar,Tr,yr,Mt){return Pt(hr[ar])?null:new xt("Invalid "+yr+" `"+Mt+"` supplied to "+("`"+Tr+"`, expected a ReactNode."))}return bt(Dt)}function dr(Dt){function hr(ar,Tr,yr,Mt,sr){var xr=ar[Tr],ir=Lt(xr);if(ir!=="object")return new xt("Invalid "+Mt+" `"+sr+"` of type `"+ir+"` "+("supplied to `"+yr+"`, expected `object`."));for(var nr in Dt){var lr=Dt[nr];if(lr){var Cr=lr(xr,nr,yr,Mt,sr+"."+nr,rt);if(Cr)return Cr}}return null}return bt(hr)}function Yt(Dt){function hr(ar,Tr,yr,Mt,sr){var xr=ar[Tr],ir=Lt(xr);if(ir!=="object")return new xt("Invalid "+Mt+" `"+sr+"` of type `"+ir+"` "+("supplied to `"+yr+"`, expected `object`."));var nr=et({},ar[Tr],Dt);for(var lr in nr){var Cr=Dt[lr];if(!Cr)return new xt("Invalid "+Mt+" `"+sr+"` key `"+lr+"` supplied to `"+yr+"`.\nBad object: "+JSON.stringify(ar[Tr],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Dt),null,"  "));var Pr=Cr(xr,lr,yr,Mt,sr+"."+lr,rt);if(Pr)return Pr}return null}return bt(hr)}function Pt(Dt){switch(typeof Dt){case"number":case"string":case"undefined":return!0;case"boolean":return!Dt;case"object":if(Array.isArray(Dt))return Dt.every(Pt);if(Dt===null||ot(Dt))return!0;var hr=Tt(Dt);if(hr){var ar=hr.call(Dt),Tr;if(hr!==Dt.entries){for(;!(Tr=ar.next()).done;)if(!Pt(Tr.value))return!1}else for(;!(Tr=ar.next()).done;){var yr=Tr.value;if(yr&&!Pt(yr[1]))return!1}}else return!1;return!0;default:return!1}}function ur(Dt,hr){return Dt==="symbol"||hr["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&hr instanceof Symbol}function Lt(Dt){var hr=typeof Dt;return Array.isArray(Dt)?"array":Dt instanceof RegExp?"object":ur(hr,Dt)?"symbol":hr}function rr(Dt){if(typeof Dt>"u"||Dt===null)return""+Dt;var hr=Lt(Dt);if(hr==="object"){if(Dt instanceof Date)return"date";if(Dt instanceof RegExp)return"regexp"}return hr}function tr(Dt){var hr=rr(Dt);switch(hr){case"array":case"object":return"an "+hr;case"boolean":case"date":case"regexp":return"a "+hr;default:return hr}}function Kt(Dt){return!Dt.constructor||!Dt.constructor.name?Et:Dt.constructor.name}return mt.checkPropTypes=it,mt.PropTypes=mt,mt}},function(s,a,c){var h=c(1),g=c(0),_=c(4);s.exports=function(){function et(ot,st,ct,dt,Tt,Et){Et!==_&&g(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}et.isRequired=et;function rt(){return et}var it={array:et,bool:et,func:et,number:et,object:et,string:et,symbol:et,any:et,arrayOf:rt,element:et,instanceOf:rt,node:et,objectOf:rt,oneOf:rt,oneOfType:rt,shape:rt,exact:rt};return it.checkPropTypes=h,it.PropTypes=it,it}},function(s,a,c){Object.defineProperty(a,"__esModule",{value:!0});var h=c(15);Object.defineProperty(a,"blank",{enumerable:!0,get:function(){return dt(h).default}});var g=c(16);Object.defineProperty(a,"balls",{enumerable:!0,get:function(){return dt(g).default}});var _=c(17);Object.defineProperty(a,"bars",{enumerable:!0,get:function(){return dt(_).default}});var et=c(18);Object.defineProperty(a,"bubbles",{enumerable:!0,get:function(){return dt(et).default}});var rt=c(19);Object.defineProperty(a,"cubes",{enumerable:!0,get:function(){return dt(rt).default}});var it=c(20);Object.defineProperty(a,"cylon",{enumerable:!0,get:function(){return dt(it).default}});var ot=c(21);Object.defineProperty(a,"spin",{enumerable:!0,get:function(){return dt(ot).default}});var st=c(22);Object.defineProperty(a,"spinningBubbles",{enumerable:!0,get:function(){return dt(st).default}});var ct=c(23);Object.defineProperty(a,"spokes",{enumerable:!0,get:function(){return dt(ct).default}});function dt(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}},function(s,a){s.exports=`<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>
`},function(s,a){s.exports=`<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(s,a){s.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> 
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(8)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(14)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(20)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(26)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(s,a){s.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(s,a){s.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(s,a){s.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(s,a){s.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>
  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">
    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />
  </path>
</svg>
`},function(s,a){s.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(s,a){s.exports=`<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>
  </path>
</svg>
`}])})})(reactLoading);var reactLoadingExports=reactLoading.exports;const ReactLoading=getDefaultExportFromCjs(reactLoadingExports);function dedent(e){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];var a=Array.from(typeof e=="string"?[e]:e);a[a.length-1]=a[a.length-1].replace(/\r?\n([\t ]*)$/,"");var c=a.reduce(function(_,et){var rt=et.match(/\n([\t ]+|(?!\s).)/g);return rt?_.concat(rt.map(function(it){var ot,st;return(st=(ot=it.match(/[\t ]/g))===null||ot===void 0?void 0:ot.length)!==null&&st!==void 0?st:0})):_},[]);if(c.length){var h=new RegExp(`
[	 ]{`+Math.min.apply(Math,c)+"}","g");a=a.map(function(_){return _.replace(h,`
`)})}a[0]=a[0].replace(/^\r?\n/,"");var g=a[0];return o.forEach(function(_,et){var rt=g.match(/(?:^|\n)( *)$/),it=rt?rt[1]:"",ot=_;typeof _=="string"&&_.includes(`
`)&&(ot=String(_).split(`
`).map(function(st,ct){return ct===0?st:""+it+st}).join(`
`)),g+=ot+a[et+1]}),g}const scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(o,s,a){let c=Promise.resolve();if(s&&s.length>0){const h=document.getElementsByTagName("link"),g=document.querySelector("meta[property=csp-nonce]"),_=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));c=Promise.all(s.map(et=>{if(et=assetsURL(et),et in seen)return;seen[et]=!0;const rt=et.endsWith(".css"),it=rt?'[rel="stylesheet"]':"";if(!!a)for(let ct=h.length-1;ct>=0;ct--){const dt=h[ct];if(dt.href===et&&(!rt||dt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${et}"]${it}`))return;const st=document.createElement("link");if(st.rel=rt?"stylesheet":scriptRel,rt||(st.as="script",st.crossOrigin=""),st.href=et,_&&st.setAttribute("nonce",_),document.head.appendChild(st),rt)return new Promise((ct,dt)=>{st.addEventListener("load",ct),st.addEventListener("error",()=>dt(new Error(`Unable to preload CSS for ${et}`)))})}))}return c.then(()=>o()).catch(h=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h})};var dayjs_min={exports:{}};(function(e,o){(function(s,a){e.exports=a()})(commonjsGlobal$1,function(){var s=1e3,a=6e4,c=36e5,h="millisecond",g="second",_="minute",et="hour",rt="day",it="week",ot="month",st="quarter",ct="year",dt="date",Tt="Invalid Date",Et=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,mt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,gt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(dr){var Yt=["th","st","nd","rd"],Pt=dr%100;return"["+dr+(Yt[(Pt-20)%10]||Yt[Pt]||Yt[0])+"]"}},xt=function(dr,Yt,Pt){var ur=String(dr);return!ur||ur.length>=Yt?dr:""+Array(Yt+1-ur.length).join(Pt)+dr},bt={s:xt,z:function(dr){var Yt=-dr.utcOffset(),Pt=Math.abs(Yt),ur=Math.floor(Pt/60),Lt=Pt%60;return(Yt<=0?"+":"-")+xt(ur,2,"0")+":"+xt(Lt,2,"0")},m:function dr(Yt,Pt){if(Yt.date()<Pt.date())return-dr(Pt,Yt);var ur=12*(Pt.year()-Yt.year())+(Pt.month()-Yt.month()),Lt=Yt.clone().add(ur,ot),rr=Pt-Lt<0,tr=Yt.clone().add(ur+(rr?-1:1),ot);return+(-(ur+(Pt-Lt)/(rr?Lt-tr:tr-Lt))||0)},a:function(dr){return dr<0?Math.ceil(dr)||0:Math.floor(dr)},p:function(dr){return{M:ot,y:ct,w:it,d:rt,D:dt,h:et,m:_,s:g,ms:h,Q:st}[dr]||String(dr||"").toLowerCase().replace(/s$/,"")},u:function(dr){return dr===void 0}},It="en",Ut={};Ut[It]=gt;var Ft="$isDayjsObject",Bt=function(dr){return dr instanceof Ar||!(!dr||!dr[Ft])},cr=function dr(Yt,Pt,ur){var Lt;if(!Yt)return It;if(typeof Yt=="string"){var rr=Yt.toLowerCase();Ut[rr]&&(Lt=rr),Pt&&(Ut[rr]=Pt,Lt=rr);var tr=Yt.split("-");if(!Lt&&tr.length>1)return dr(tr[0])}else{var Kt=Yt.name;Ut[Kt]=Yt,Lt=Kt}return!ur&&Lt&&(It=Lt),Lt||!ur&&It},Ht=function(dr,Yt){if(Bt(dr))return dr.clone();var Pt=typeof Yt=="object"?Yt:{};return Pt.date=dr,Pt.args=arguments,new Ar(Pt)},pr=bt;pr.l=cr,pr.i=Bt,pr.w=function(dr,Yt){return Ht(dr,{locale:Yt.$L,utc:Yt.$u,x:Yt.$x,$offset:Yt.$offset})};var Ar=function(){function dr(Pt){this.$L=cr(Pt.locale,null,!0),this.parse(Pt),this.$x=this.$x||Pt.x||{},this[Ft]=!0}var Yt=dr.prototype;return Yt.parse=function(Pt){this.$d=function(ur){var Lt=ur.date,rr=ur.utc;if(Lt===null)return new Date(NaN);if(pr.u(Lt))return new Date;if(Lt instanceof Date)return new Date(Lt);if(typeof Lt=="string"&&!/Z$/i.test(Lt)){var tr=Lt.match(Et);if(tr){var Kt=tr[2]-1||0,Dt=(tr[7]||"0").substring(0,3);return rr?new Date(Date.UTC(tr[1],Kt,tr[3]||1,tr[4]||0,tr[5]||0,tr[6]||0,Dt)):new Date(tr[1],Kt,tr[3]||1,tr[4]||0,tr[5]||0,tr[6]||0,Dt)}}return new Date(Lt)}(Pt),this.init()},Yt.init=function(){var Pt=this.$d;this.$y=Pt.getFullYear(),this.$M=Pt.getMonth(),this.$D=Pt.getDate(),this.$W=Pt.getDay(),this.$H=Pt.getHours(),this.$m=Pt.getMinutes(),this.$s=Pt.getSeconds(),this.$ms=Pt.getMilliseconds()},Yt.$utils=function(){return pr},Yt.isValid=function(){return this.$d.toString()!==Tt},Yt.isSame=function(Pt,ur){var Lt=Ht(Pt);return this.startOf(ur)<=Lt&&Lt<=this.endOf(ur)},Yt.isAfter=function(Pt,ur){return Ht(Pt)<this.startOf(ur)},Yt.isBefore=function(Pt,ur){return this.endOf(ur)<Ht(Pt)},Yt.$g=function(Pt,ur,Lt){return pr.u(Pt)?this[ur]:this.set(Lt,Pt)},Yt.unix=function(){return Math.floor(this.valueOf()/1e3)},Yt.valueOf=function(){return this.$d.getTime()},Yt.startOf=function(Pt,ur){var Lt=this,rr=!!pr.u(ur)||ur,tr=pr.p(Pt),Kt=function(xr,ir){var nr=pr.w(Lt.$u?Date.UTC(Lt.$y,ir,xr):new Date(Lt.$y,ir,xr),Lt);return rr?nr:nr.endOf(rt)},Dt=function(xr,ir){return pr.w(Lt.toDate()[xr].apply(Lt.toDate("s"),(rr?[0,0,0,0]:[23,59,59,999]).slice(ir)),Lt)},hr=this.$W,ar=this.$M,Tr=this.$D,yr="set"+(this.$u?"UTC":"");switch(tr){case ct:return rr?Kt(1,0):Kt(31,11);case ot:return rr?Kt(1,ar):Kt(0,ar+1);case it:var Mt=this.$locale().weekStart||0,sr=(hr<Mt?hr+7:hr)-Mt;return Kt(rr?Tr-sr:Tr+(6-sr),ar);case rt:case dt:return Dt(yr+"Hours",0);case et:return Dt(yr+"Minutes",1);case _:return Dt(yr+"Seconds",2);case g:return Dt(yr+"Milliseconds",3);default:return this.clone()}},Yt.endOf=function(Pt){return this.startOf(Pt,!1)},Yt.$set=function(Pt,ur){var Lt,rr=pr.p(Pt),tr="set"+(this.$u?"UTC":""),Kt=(Lt={},Lt[rt]=tr+"Date",Lt[dt]=tr+"Date",Lt[ot]=tr+"Month",Lt[ct]=tr+"FullYear",Lt[et]=tr+"Hours",Lt[_]=tr+"Minutes",Lt[g]=tr+"Seconds",Lt[h]=tr+"Milliseconds",Lt)[rr],Dt=rr===rt?this.$D+(ur-this.$W):ur;if(rr===ot||rr===ct){var hr=this.clone().set(dt,1);hr.$d[Kt](Dt),hr.init(),this.$d=hr.set(dt,Math.min(this.$D,hr.daysInMonth())).$d}else Kt&&this.$d[Kt](Dt);return this.init(),this},Yt.set=function(Pt,ur){return this.clone().$set(Pt,ur)},Yt.get=function(Pt){return this[pr.p(Pt)]()},Yt.add=function(Pt,ur){var Lt,rr=this;Pt=Number(Pt);var tr=pr.p(ur),Kt=function(ar){var Tr=Ht(rr);return pr.w(Tr.date(Tr.date()+Math.round(ar*Pt)),rr)};if(tr===ot)return this.set(ot,this.$M+Pt);if(tr===ct)return this.set(ct,this.$y+Pt);if(tr===rt)return Kt(1);if(tr===it)return Kt(7);var Dt=(Lt={},Lt[_]=a,Lt[et]=c,Lt[g]=s,Lt)[tr]||1,hr=this.$d.getTime()+Pt*Dt;return pr.w(hr,this)},Yt.subtract=function(Pt,ur){return this.add(-1*Pt,ur)},Yt.format=function(Pt){var ur=this,Lt=this.$locale();if(!this.isValid())return Lt.invalidDate||Tt;var rr=Pt||"YYYY-MM-DDTHH:mm:ssZ",tr=pr.z(this),Kt=this.$H,Dt=this.$m,hr=this.$M,ar=Lt.weekdays,Tr=Lt.months,yr=Lt.meridiem,Mt=function(ir,nr,lr,Cr){return ir&&(ir[nr]||ir(ur,rr))||lr[nr].slice(0,Cr)},sr=function(ir){return pr.s(Kt%12||12,ir,"0")},xr=yr||function(ir,nr,lr){var Cr=ir<12?"AM":"PM";return lr?Cr.toLowerCase():Cr};return rr.replace(mt,function(ir,nr){return nr||function(lr){switch(lr){case"YY":return String(ur.$y).slice(-2);case"YYYY":return pr.s(ur.$y,4,"0");case"M":return hr+1;case"MM":return pr.s(hr+1,2,"0");case"MMM":return Mt(Lt.monthsShort,hr,Tr,3);case"MMMM":return Mt(Tr,hr);case"D":return ur.$D;case"DD":return pr.s(ur.$D,2,"0");case"d":return String(ur.$W);case"dd":return Mt(Lt.weekdaysMin,ur.$W,ar,2);case"ddd":return Mt(Lt.weekdaysShort,ur.$W,ar,3);case"dddd":return ar[ur.$W];case"H":return String(Kt);case"HH":return pr.s(Kt,2,"0");case"h":return sr(1);case"hh":return sr(2);case"a":return xr(Kt,Dt,!0);case"A":return xr(Kt,Dt,!1);case"m":return String(Dt);case"mm":return pr.s(Dt,2,"0");case"s":return String(ur.$s);case"ss":return pr.s(ur.$s,2,"0");case"SSS":return pr.s(ur.$ms,3,"0");case"Z":return tr}return null}(ir)||tr.replace(":","")})},Yt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Yt.diff=function(Pt,ur,Lt){var rr,tr=this,Kt=pr.p(ur),Dt=Ht(Pt),hr=(Dt.utcOffset()-this.utcOffset())*a,ar=this-Dt,Tr=function(){return pr.m(tr,Dt)};switch(Kt){case ct:rr=Tr()/12;break;case ot:rr=Tr();break;case st:rr=Tr()/3;break;case it:rr=(ar-hr)/6048e5;break;case rt:rr=(ar-hr)/864e5;break;case et:rr=ar/c;break;case _:rr=ar/a;break;case g:rr=ar/s;break;default:rr=ar}return Lt?rr:pr.a(rr)},Yt.daysInMonth=function(){return this.endOf(ot).$D},Yt.$locale=function(){return Ut[this.$L]},Yt.locale=function(Pt,ur){if(!Pt)return this.$L;var Lt=this.clone(),rr=cr(Pt,ur,!0);return rr&&(Lt.$L=rr),Lt},Yt.clone=function(){return pr.w(this.$d,this)},Yt.toDate=function(){return new Date(this.valueOf())},Yt.toJSON=function(){return this.isValid()?this.toISOString():null},Yt.toISOString=function(){return this.$d.toISOString()},Yt.toString=function(){return this.$d.toUTCString()},dr}(),Rr=Ar.prototype;return Ht.prototype=Rr,[["$ms",h],["$s",g],["$m",_],["$H",et],["$W",rt],["$M",ot],["$y",ct],["$D",dt]].forEach(function(dr){Rr[dr[1]]=function(Yt){return this.$g(Yt,dr[0],dr[1])}}),Ht.extend=function(dr,Yt){return dr.$i||(dr(Yt,Ar,Ht),dr.$i=!0),Ht},Ht.locale=cr,Ht.isDayjs=Bt,Ht.unix=function(dr){return Ht(1e3*dr)},Ht.en=Ut[It],Ht.Ls=Ut,Ht.p={},Ht})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var dist$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=e.BLANK_URL=void 0;var o=/^([^\w]*)(javascript|data|vbscript)/im,s=/&#(\w+)(^\w|;)?/g,a=/&(newline|tab);/gi,c=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,h=/^.+(:|&colon;)/gim,g=[".","/"];e.BLANK_URL="about:blank";function _(it){return g.indexOf(it[0])>-1}function et(it){var ot=it.replace(c,"");return ot.replace(s,function(st,ct){return String.fromCharCode(ct)})}function rt(it){if(!it)return e.BLANK_URL;var ot=et(it).replace(a,"").replace(c,"").trim();if(!ot)return e.BLANK_URL;if(_(ot))return ot;var st=ot.match(h);if(!st)return ot;var ct=st[0];return o.test(ct)?e.BLANK_URL:ot}e.sanitizeUrl=rt})(dist$1);var noop$1={value:()=>{}};function dispatch(){for(var e=0,o=arguments.length,s={},a;e<o;++e){if(!(a=arguments[e]+"")||a in s||/[\s.]/.test(a))throw new Error("illegal type: "+a);s[a]=[]}return new Dispatch(s)}function Dispatch(e){this._=e}function parseTypenames$1(e,o){return e.trim().split(/^|\s+/).map(function(s){var a="",c=s.indexOf(".");if(c>=0&&(a=s.slice(c+1),s=s.slice(0,c)),s&&!o.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:a}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(e,o){var s=this._,a=parseTypenames$1(e+"",s),c,h=-1,g=a.length;if(arguments.length<2){for(;++h<g;)if((c=(e=a[h]).type)&&(c=get$1(s[c],e.name)))return c;return}if(o!=null&&typeof o!="function")throw new Error("invalid callback: "+o);for(;++h<g;)if(c=(e=a[h]).type)s[c]=set$3(s[c],e.name,o);else if(o==null)for(c in s)s[c]=set$3(s[c],e.name,null);return this},copy:function(){var e={},o=this._;for(var s in o)e[s]=o[s].slice();return new Dispatch(e)},call:function(e,o){if((c=arguments.length-2)>0)for(var s=new Array(c),a=0,c,h;a<c;++a)s[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(h=this._[e],a=0,c=h.length;a<c;++a)h[a].value.apply(o,s)},apply:function(e,o,s){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],c=0,h=a.length;c<h;++c)a[c].value.apply(o,s)}};function get$1(e,o){for(var s=0,a=e.length,c;s<a;++s)if((c=e[s]).name===o)return c.value}function set$3(e,o,s){for(var a=0,c=e.length;a<c;++a)if(e[a].name===o){e[a]=noop$1,e=e.slice(0,a).concat(e.slice(a+1));break}return s!=null&&e.push({name:o,value:s}),e}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(e){var o=e+="",s=o.indexOf(":");return s>=0&&(o=e.slice(0,s))!=="xmlns"&&(e=e.slice(s+1)),namespaces.hasOwnProperty(o)?{space:namespaces[o],local:e}:e}function creatorInherit(e){return function(){var o=this.ownerDocument,s=this.namespaceURI;return s===xhtml&&o.documentElement.namespaceURI===xhtml?o.createElement(e):o.createElementNS(s,e)}}function creatorFixed(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function creator(e){var o=namespace(e);return(o.local?creatorFixed:creatorInherit)(o)}function none(){}function selector(e){return e==null?none:function(){return this.querySelector(e)}}function selection_select(e){typeof e!="function"&&(e=selector(e));for(var o=this._groups,s=o.length,a=new Array(s),c=0;c<s;++c)for(var h=o[c],g=h.length,_=a[c]=new Array(g),et,rt,it=0;it<g;++it)(et=h[it])&&(rt=e.call(et,et.__data__,it,h))&&("__data__"in et&&(rt.__data__=et.__data__),_[it]=rt);return new Selection$2(a,this._parents)}function array(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function empty(){return[]}function selectorAll(e){return e==null?empty:function(){return this.querySelectorAll(e)}}function arrayAll(e){return function(){return array(e.apply(this,arguments))}}function selection_selectAll(e){typeof e=="function"?e=arrayAll(e):e=selectorAll(e);for(var o=this._groups,s=o.length,a=[],c=[],h=0;h<s;++h)for(var g=o[h],_=g.length,et,rt=0;rt<_;++rt)(et=g[rt])&&(a.push(e.call(et,et.__data__,rt,g)),c.push(et));return new Selection$2(a,c)}function matcher(e){return function(){return this.matches(e)}}function childMatcher(e){return function(o){return o.matches(e)}}var find=Array.prototype.find;function childFind(e){return function(){return find.call(this.children,e)}}function childFirst(){return this.firstElementChild}function selection_selectChild(e){return this.select(e==null?childFirst:childFind(typeof e=="function"?e:childMatcher(e)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(e){return function(){return filter.call(this.children,e)}}function selection_selectChildren(e){return this.selectAll(e==null?children:childrenFilter(typeof e=="function"?e:childMatcher(e)))}function selection_filter(e){typeof e!="function"&&(e=matcher(e));for(var o=this._groups,s=o.length,a=new Array(s),c=0;c<s;++c)for(var h=o[c],g=h.length,_=a[c]=[],et,rt=0;rt<g;++rt)(et=h[rt])&&e.call(et,et.__data__,rt,h)&&_.push(et);return new Selection$2(a,this._parents)}function sparse(e){return new Array(e.length)}function selection_enter(){return new Selection$2(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(e,o){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=o}EnterNode.prototype={constructor:EnterNode,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,o){return this._parent.insertBefore(e,o)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function constant$2(e){return function(){return e}}function bindIndex(e,o,s,a,c,h){for(var g=0,_,et=o.length,rt=h.length;g<rt;++g)(_=o[g])?(_.__data__=h[g],a[g]=_):s[g]=new EnterNode(e,h[g]);for(;g<et;++g)(_=o[g])&&(c[g]=_)}function bindKey(e,o,s,a,c,h,g){var _,et,rt=new Map,it=o.length,ot=h.length,st=new Array(it),ct;for(_=0;_<it;++_)(et=o[_])&&(st[_]=ct=g.call(et,et.__data__,_,o)+"",rt.has(ct)?c[_]=et:rt.set(ct,et));for(_=0;_<ot;++_)ct=g.call(e,h[_],_,h)+"",(et=rt.get(ct))?(a[_]=et,et.__data__=h[_],rt.delete(ct)):s[_]=new EnterNode(e,h[_]);for(_=0;_<it;++_)(et=o[_])&&rt.get(st[_])===et&&(c[_]=et)}function datum(e){return e.__data__}function selection_data(e,o){if(!arguments.length)return Array.from(this,datum);var s=o?bindKey:bindIndex,a=this._parents,c=this._groups;typeof e!="function"&&(e=constant$2(e));for(var h=c.length,g=new Array(h),_=new Array(h),et=new Array(h),rt=0;rt<h;++rt){var it=a[rt],ot=c[rt],st=ot.length,ct=arraylike(e.call(it,it&&it.__data__,rt,a)),dt=ct.length,Tt=_[rt]=new Array(dt),Et=g[rt]=new Array(dt),mt=et[rt]=new Array(st);s(it,ot,Tt,Et,mt,ct,o);for(var gt=0,xt=0,bt,It;gt<dt;++gt)if(bt=Tt[gt]){for(gt>=xt&&(xt=gt+1);!(It=Et[xt])&&++xt<dt;);bt._next=It||null}}return g=new Selection$2(g,a),g._enter=_,g._exit=et,g}function arraylike(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function selection_exit(){return new Selection$2(this._exit||this._groups.map(sparse),this._parents)}function selection_join(e,o,s){var a=this.enter(),c=this,h=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),o!=null&&(c=o(c),c&&(c=c.selection())),s==null?h.remove():s(h),a&&c?a.merge(c).order():c}function selection_merge(e){for(var o=e.selection?e.selection():e,s=this._groups,a=o._groups,c=s.length,h=a.length,g=Math.min(c,h),_=new Array(c),et=0;et<g;++et)for(var rt=s[et],it=a[et],ot=rt.length,st=_[et]=new Array(ot),ct,dt=0;dt<ot;++dt)(ct=rt[dt]||it[dt])&&(st[dt]=ct);for(;et<c;++et)_[et]=s[et];return new Selection$2(_,this._parents)}function selection_order(){for(var e=this._groups,o=-1,s=e.length;++o<s;)for(var a=e[o],c=a.length-1,h=a[c],g;--c>=0;)(g=a[c])&&(h&&g.compareDocumentPosition(h)^4&&h.parentNode.insertBefore(g,h),h=g);return this}function selection_sort(e){e||(e=ascending);function o(ot,st){return ot&&st?e(ot.__data__,st.__data__):!ot-!st}for(var s=this._groups,a=s.length,c=new Array(a),h=0;h<a;++h){for(var g=s[h],_=g.length,et=c[h]=new Array(_),rt,it=0;it<_;++it)(rt=g[it])&&(et[it]=rt);et.sort(o)}return new Selection$2(c,this._parents).order()}function ascending(e,o){return e<o?-1:e>o?1:e>=o?0:NaN}function selection_call(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var e=this._groups,o=0,s=e.length;o<s;++o)for(var a=e[o],c=0,h=a.length;c<h;++c){var g=a[c];if(g)return g}return null}function selection_size(){let e=0;for(const o of this)++e;return e}function selection_empty(){return!this.node()}function selection_each(e){for(var o=this._groups,s=0,a=o.length;s<a;++s)for(var c=o[s],h=0,g=c.length,_;h<g;++h)(_=c[h])&&e.call(_,_.__data__,h,c);return this}function attrRemove$1(e){return function(){this.removeAttribute(e)}}function attrRemoveNS$1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant$1(e,o){return function(){this.setAttribute(e,o)}}function attrConstantNS$1(e,o){return function(){this.setAttributeNS(e.space,e.local,o)}}function attrFunction$1(e,o){return function(){var s=o.apply(this,arguments);s==null?this.removeAttribute(e):this.setAttribute(e,s)}}function attrFunctionNS$1(e,o){return function(){var s=o.apply(this,arguments);s==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,s)}}function selection_attr(e,o){var s=namespace(e);if(arguments.length<2){var a=this.node();return s.local?a.getAttributeNS(s.space,s.local):a.getAttribute(s)}return this.each((o==null?s.local?attrRemoveNS$1:attrRemove$1:typeof o=="function"?s.local?attrFunctionNS$1:attrFunction$1:s.local?attrConstantNS$1:attrConstant$1)(s,o))}function defaultView(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function styleRemove$1(e){return function(){this.style.removeProperty(e)}}function styleConstant$1(e,o,s){return function(){this.style.setProperty(e,o,s)}}function styleFunction$1(e,o,s){return function(){var a=o.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,s)}}function selection_style(e,o,s){return arguments.length>1?this.each((o==null?styleRemove$1:typeof o=="function"?styleFunction$1:styleConstant$1)(e,o,s??"")):styleValue(this.node(),e)}function styleValue(e,o){return e.style.getPropertyValue(o)||defaultView(e).getComputedStyle(e,null).getPropertyValue(o)}function propertyRemove(e){return function(){delete this[e]}}function propertyConstant(e,o){return function(){this[e]=o}}function propertyFunction(e,o){return function(){var s=o.apply(this,arguments);s==null?delete this[e]:this[e]=s}}function selection_property(e,o){return arguments.length>1?this.each((o==null?propertyRemove:typeof o=="function"?propertyFunction:propertyConstant)(e,o)):this.node()[e]}function classArray(e){return e.trim().split(/^|\s+/)}function classList(e){return e.classList||new ClassList(e)}function ClassList(e){this._node=e,this._names=classArray(e.getAttribute("class")||"")}ClassList.prototype={add:function(e){var o=this._names.indexOf(e);o<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var o=this._names.indexOf(e);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function classedAdd(e,o){for(var s=classList(e),a=-1,c=o.length;++a<c;)s.add(o[a])}function classedRemove(e,o){for(var s=classList(e),a=-1,c=o.length;++a<c;)s.remove(o[a])}function classedTrue(e){return function(){classedAdd(this,e)}}function classedFalse(e){return function(){classedRemove(this,e)}}function classedFunction(e,o){return function(){(o.apply(this,arguments)?classedAdd:classedRemove)(this,e)}}function selection_classed(e,o){var s=classArray(e+"");if(arguments.length<2){for(var a=classList(this.node()),c=-1,h=s.length;++c<h;)if(!a.contains(s[c]))return!1;return!0}return this.each((typeof o=="function"?classedFunction:o?classedTrue:classedFalse)(s,o))}function textRemove(){this.textContent=""}function textConstant$1(e){return function(){this.textContent=e}}function textFunction$1(e){return function(){var o=e.apply(this,arguments);this.textContent=o??""}}function selection_text(e){return arguments.length?this.each(e==null?textRemove:(typeof e=="function"?textFunction$1:textConstant$1)(e)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(e){return function(){this.innerHTML=e}}function htmlFunction(e){return function(){var o=e.apply(this,arguments);this.innerHTML=o??""}}function selection_html(e){return arguments.length?this.each(e==null?htmlRemove:(typeof e=="function"?htmlFunction:htmlConstant)(e)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(e){var o=typeof e=="function"?e:creator(e);return this.select(function(){return this.appendChild(o.apply(this,arguments))})}function constantNull(){return null}function selection_insert(e,o){var s=typeof e=="function"?e:creator(e),a=o==null?constantNull:typeof o=="function"?o:selector(o);return this.select(function(){return this.insertBefore(s.apply(this,arguments),a.apply(this,arguments)||null)})}function remove$1(){var e=this.parentNode;e&&e.removeChild(this)}function selection_remove(){return this.each(remove$1)}function selection_cloneShallow(){var e=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(e,this.nextSibling):e}function selection_cloneDeep(){var e=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(e,this.nextSibling):e}function selection_clone(e){return this.select(e?selection_cloneDeep:selection_cloneShallow)}function selection_datum(e){return arguments.length?this.property("__data__",e):this.node().__data__}function contextListener(e){return function(o){e.call(this,o,this.__data__)}}function parseTypenames(e){return e.trim().split(/^|\s+/).map(function(o){var s="",a=o.indexOf(".");return a>=0&&(s=o.slice(a+1),o=o.slice(0,a)),{type:o,name:s}})}function onRemove(e){return function(){var o=this.__on;if(o){for(var s=0,a=-1,c=o.length,h;s<c;++s)h=o[s],(!e.type||h.type===e.type)&&h.name===e.name?this.removeEventListener(h.type,h.listener,h.options):o[++a]=h;++a?o.length=a:delete this.__on}}}function onAdd(e,o,s){return function(){var a=this.__on,c,h=contextListener(o);if(a){for(var g=0,_=a.length;g<_;++g)if((c=a[g]).type===e.type&&c.name===e.name){this.removeEventListener(c.type,c.listener,c.options),this.addEventListener(c.type,c.listener=h,c.options=s),c.value=o;return}}this.addEventListener(e.type,h,s),c={type:e.type,name:e.name,value:o,listener:h,options:s},a?a.push(c):this.__on=[c]}}function selection_on(e,o,s){var a=parseTypenames(e+""),c,h=a.length,g;if(arguments.length<2){var _=this.node().__on;if(_){for(var et=0,rt=_.length,it;et<rt;++et)for(c=0,it=_[et];c<h;++c)if((g=a[c]).type===it.type&&g.name===it.name)return it.value}return}for(_=o?onAdd:onRemove,c=0;c<h;++c)this.each(_(a[c],o,s));return this}function dispatchEvent(e,o,s){var a=defaultView(e),c=a.CustomEvent;typeof c=="function"?c=new c(o,s):(c=a.document.createEvent("Event"),s?(c.initEvent(o,s.bubbles,s.cancelable),c.detail=s.detail):c.initEvent(o,!1,!1)),e.dispatchEvent(c)}function dispatchConstant(e,o){return function(){return dispatchEvent(this,e,o)}}function dispatchFunction(e,o){return function(){return dispatchEvent(this,e,o.apply(this,arguments))}}function selection_dispatch(e,o){return this.each((typeof o=="function"?dispatchFunction:dispatchConstant)(e,o))}function*selection_iterator(){for(var e=this._groups,o=0,s=e.length;o<s;++o)for(var a=e[o],c=0,h=a.length,g;c<h;++c)(g=a[c])&&(yield g)}var root$1=[null];function Selection$2(e,o){this._groups=e,this._parents=o}function selection(){return new Selection$2([[document.documentElement]],root$1)}function selection_selection(){return this}Selection$2.prototype=selection.prototype={constructor:Selection$2,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select$1(e){return typeof e=="string"?new Selection$2([[document.querySelector(e)]],[document.documentElement]):new Selection$2([[e]],root$1)}function define(e,o,s){e.prototype=o.prototype=s,s.constructor=e}function extend$1(e,o){var s=Object.create(e.prototype);for(var a in o)s[a]=o[a];return s}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var o,s;return e=(e+"").trim().toLowerCase(),(o=reHex.exec(e))?(s=o[1].length,o=parseInt(o[1],16),s===6?rgbn(o):s===3?new Rgb(o>>8&15|o>>4&240,o>>4&15|o&240,(o&15)<<4|o&15,1):s===8?rgba$1(o>>24&255,o>>16&255,o>>8&255,(o&255)/255):s===4?rgba$1(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|o&240,((o&15)<<4|o&15)/255):null):(o=reRgbInteger.exec(e))?new Rgb(o[1],o[2],o[3],1):(o=reRgbPercent.exec(e))?new Rgb(o[1]*255/100,o[2]*255/100,o[3]*255/100,1):(o=reRgbaInteger.exec(e))?rgba$1(o[1],o[2],o[3],o[4]):(o=reRgbaPercent.exec(e))?rgba$1(o[1]*255/100,o[2]*255/100,o[3]*255/100,o[4]):(o=reHslPercent.exec(e))?hsla(o[1],o[2]/100,o[3]/100,1):(o=reHslaPercent.exec(e))?hsla(o[1],o[2]/100,o[3]/100,o[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba$1(e,o,s,a){return a<=0&&(e=o=s=NaN),new Rgb(e,o,s,a)}function rgbConvert(e){return e instanceof Color$1||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb(e,o,s,a){return arguments.length===1?rgbConvert(e):new Rgb(e,o,s,a??1)}function Rgb(e,o,s,a){this.r=+e,this.g=+o,this.b=+s,this.opacity=+a}define(Rgb,rgb,extend$1(Color$1,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,o,s,a){return a<=0?e=o=s=NaN:s<=0||s>=1?e=o=NaN:o<=0&&(e=NaN),new Hsl(e,o,s,a)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color$1||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var o=e.r/255,s=e.g/255,a=e.b/255,c=Math.min(o,s,a),h=Math.max(o,s,a),g=NaN,_=h-c,et=(h+c)/2;return _?(o===h?g=(s-a)/_+(s<a)*6:s===h?g=(a-o)/_+2:g=(o-s)/_+4,_/=et<.5?h+c:2-h-c,g*=60):_=et>0&&et<1?0:g,new Hsl(g,_,et,e.opacity)}function hsl(e,o,s,a){return arguments.length===1?hslConvert(e):new Hsl(e,o,s,a??1)}function Hsl(e,o,s,a){this.h=+e,this.s=+o,this.l=+s,this.opacity=+a}define(Hsl,hsl,extend$1(Color$1,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,o=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,a=s+(s<.5?s:1-s)*o,c=2*s-a;return new Rgb(hsl2rgb(e>=240?e-240:e+120,c,a),hsl2rgb(e,c,a),hsl2rgb(e<120?e+240:e-120,c,a),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,o,s){return(e<60?o+(s-o)*e/60:e<180?s:e<240?o+(s-o)*(240-e)/60:o)*255}const constant$1=e=>()=>e;function linear(e,o){return function(s){return e+s*o}}function exponential(e,o,s){return e=Math.pow(e,s),o=Math.pow(o,s)-e,s=1/s,function(a){return Math.pow(e+a*o,s)}}function hue(e,o){var s=o-e;return s?linear(e,s>180||s<-180?s-360*Math.round(s/360):s):constant$1(isNaN(e)?o:e)}function gamma(e){return(e=+e)==1?nogamma:function(o,s){return s-o?exponential(o,s,e):constant$1(isNaN(o)?s:o)}}function nogamma(e,o){var s=o-e;return s?linear(e,s):constant$1(isNaN(e)?o:e)}const interpolateRgb=function e(o){var s=gamma(o);function a(c,h){var g=s((c=rgb(c)).r,(h=rgb(h)).r),_=s(c.g,h.g),et=s(c.b,h.b),rt=nogamma(c.opacity,h.opacity);return function(it){return c.r=g(it),c.g=_(it),c.b=et(it),c.opacity=rt(it),c+""}}return a.gamma=e,a}(1);function interpolateNumber(e,o){return e=+e,o=+o,function(s){return e*(1-s)+o*s}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(o){return e(o)+""}}function interpolateString(e,o){var s=reA.lastIndex=reB.lastIndex=0,a,c,h,g=-1,_=[],et=[];for(e=e+"",o=o+"";(a=reA.exec(e))&&(c=reB.exec(o));)(h=c.index)>s&&(h=o.slice(s,h),_[g]?_[g]+=h:_[++g]=h),(a=a[0])===(c=c[0])?_[g]?_[g]+=c:_[++g]=c:(_[++g]=null,et.push({i:g,x:interpolateNumber(a,c)})),s=reB.lastIndex;return s<o.length&&(h=o.slice(s),_[g]?_[g]+=h:_[++g]=h),_.length<2?et[0]?one(et[0].x):zero(o):(o=et.length,function(rt){for(var it=0,ot;it<o;++it)_[(ot=et[it]).i]=ot.x(rt);return _.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(e,o,s,a,c,h){var g,_,et;return(g=Math.sqrt(e*e+o*o))&&(e/=g,o/=g),(et=e*s+o*a)&&(s-=e*et,a-=o*et),(_=Math.sqrt(s*s+a*a))&&(s/=_,a/=_,et/=_),e*a<o*s&&(e=-e,o=-o,et=-et,g=-g),{translateX:c,translateY:h,rotate:Math.atan2(o,e)*degrees,skewX:Math.atan(et)*degrees,scaleX:g,scaleY:_}}var svgNode;function parseCss(e){const o=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return o.isIdentity?identity$1:decompose(o.a,o.b,o.c,o.d,o.e,o.f)}function parseSvg(e){return e==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",e),!(e=svgNode.transform.baseVal.consolidate()))?identity$1:(e=e.matrix,decompose(e.a,e.b,e.c,e.d,e.e,e.f))}function interpolateTransform(e,o,s,a){function c(rt){return rt.length?rt.pop()+" ":""}function h(rt,it,ot,st,ct,dt){if(rt!==ot||it!==st){var Tt=ct.push("translate(",null,o,null,s);dt.push({i:Tt-4,x:interpolateNumber(rt,ot)},{i:Tt-2,x:interpolateNumber(it,st)})}else(ot||st)&&ct.push("translate("+ot+o+st+s)}function g(rt,it,ot,st){rt!==it?(rt-it>180?it+=360:it-rt>180&&(rt+=360),st.push({i:ot.push(c(ot)+"rotate(",null,a)-2,x:interpolateNumber(rt,it)})):it&&ot.push(c(ot)+"rotate("+it+a)}function _(rt,it,ot,st){rt!==it?st.push({i:ot.push(c(ot)+"skewX(",null,a)-2,x:interpolateNumber(rt,it)}):it&&ot.push(c(ot)+"skewX("+it+a)}function et(rt,it,ot,st,ct,dt){if(rt!==ot||it!==st){var Tt=ct.push(c(ct)+"scale(",null,",",null,")");dt.push({i:Tt-4,x:interpolateNumber(rt,ot)},{i:Tt-2,x:interpolateNumber(it,st)})}else(ot!==1||st!==1)&&ct.push(c(ct)+"scale("+ot+","+st+")")}return function(rt,it){var ot=[],st=[];return rt=e(rt),it=e(it),h(rt.translateX,rt.translateY,it.translateX,it.translateY,ot,st),g(rt.rotate,it.rotate,ot,st),_(rt.skewX,it.skewX,ot,st),et(rt.scaleX,rt.scaleY,it.scaleX,it.scaleY,ot,st),rt=it=null,function(ct){for(var dt=-1,Tt=st.length,Et;++dt<Tt;)ot[(Et=st[dt]).i]=Et.x(ct);return ot.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function now$2(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(e,o,s){if(typeof e!="function")throw new TypeError("callback is not a function");s=(s==null?now$2():+s)+(o==null?0:+o),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=e,this._time=s,sleep$1()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep$1())}};function timer(e,o,s){var a=new Timer;return a.restart(e,o,s),a}function timerFlush(){now$2(),++frame;for(var e=taskHead,o;e;)(o=clockNow-e._time)>=0&&e._call.call(void 0,o),e=e._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var e=clock.now(),o=e-clockLast;o>pokeDelay&&(clockSkew-=o,clockLast=e)}function nap(){for(var e,o=taskHead,s,a=1/0;o;)o._call?(a>o._time&&(a=o._time),e=o,o=o._next):(s=o._next,o._next=null,o=e?e._next=s:taskHead=s);taskTail=e,sleep$1(a)}function sleep$1(e){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var o=e-clockNow;o>24?(e<1/0&&(timeout$1=setTimeout(wake,e-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(e,o,s){var a=new Timer;return o=o==null?0:+o,a.restart(c=>{a.stop(),e(c+o)},o,s),a}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(e,o,s,a,c,h){var g=e.__transition;if(!g)e.__transition={};else if(s in g)return;create$1(e,s,{name:o,index:a,group:c,on:emptyOn,tween:emptyTween,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:CREATED})}function init$1(e,o){var s=get(e,o);if(s.state>CREATED)throw new Error("too late; already scheduled");return s}function set$2(e,o){var s=get(e,o);if(s.state>STARTED)throw new Error("too late; already running");return s}function get(e,o){var s=e.__transition;if(!s||!(s=s[o]))throw new Error("transition not found");return s}function create$1(e,o,s){var a=e.__transition,c;a[o]=s,s.timer=timer(h,0,s.time);function h(rt){s.state=SCHEDULED,s.timer.restart(g,s.delay,s.time),s.delay<=rt&&g(rt-s.delay)}function g(rt){var it,ot,st,ct;if(s.state!==SCHEDULED)return et();for(it in a)if(ct=a[it],ct.name===s.name){if(ct.state===STARTED)return timeout(g);ct.state===RUNNING?(ct.state=ENDED,ct.timer.stop(),ct.on.call("interrupt",e,e.__data__,ct.index,ct.group),delete a[it]):+it<o&&(ct.state=ENDED,ct.timer.stop(),ct.on.call("cancel",e,e.__data__,ct.index,ct.group),delete a[it])}if(timeout(function(){s.state===STARTED&&(s.state=RUNNING,s.timer.restart(_,s.delay,s.time),_(rt))}),s.state=STARTING,s.on.call("start",e,e.__data__,s.index,s.group),s.state===STARTING){for(s.state=STARTED,c=new Array(st=s.tween.length),it=0,ot=-1;it<st;++it)(ct=s.tween[it].value.call(e,e.__data__,s.index,s.group))&&(c[++ot]=ct);c.length=ot+1}}function _(rt){for(var it=rt<s.duration?s.ease.call(null,rt/s.duration):(s.timer.restart(et),s.state=ENDING,1),ot=-1,st=c.length;++ot<st;)c[ot].call(e,it);s.state===ENDING&&(s.on.call("end",e,e.__data__,s.index,s.group),et())}function et(){s.state=ENDED,s.timer.stop(),delete a[o];for(var rt in a)return;delete e.__transition}}function interrupt(e,o){var s=e.__transition,a,c,h=!0,g;if(s){o=o==null?null:o+"";for(g in s){if((a=s[g]).name!==o){h=!1;continue}c=a.state>STARTING&&a.state<ENDING,a.state=ENDED,a.timer.stop(),a.on.call(c?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete s[g]}h&&delete e.__transition}}function selection_interrupt(e){return this.each(function(){interrupt(this,e)})}function tweenRemove(e,o){var s,a;return function(){var c=set$2(this,e),h=c.tween;if(h!==s){a=s=h;for(var g=0,_=a.length;g<_;++g)if(a[g].name===o){a=a.slice(),a.splice(g,1);break}}c.tween=a}}function tweenFunction(e,o,s){var a,c;if(typeof s!="function")throw new Error;return function(){var h=set$2(this,e),g=h.tween;if(g!==a){c=(a=g).slice();for(var _={name:o,value:s},et=0,rt=c.length;et<rt;++et)if(c[et].name===o){c[et]=_;break}et===rt&&c.push(_)}h.tween=c}}function transition_tween(e,o){var s=this._id;if(e+="",arguments.length<2){for(var a=get(this.node(),s).tween,c=0,h=a.length,g;c<h;++c)if((g=a[c]).name===e)return g.value;return null}return this.each((o==null?tweenRemove:tweenFunction)(s,e,o))}function tweenValue(e,o,s){var a=e._id;return e.each(function(){var c=set$2(this,a);(c.value||(c.value={}))[o]=s.apply(this,arguments)}),function(c){return get(c,a).value[o]}}function interpolate(e,o){var s;return(typeof o=="number"?interpolateNumber:o instanceof color?interpolateRgb:(s=color(o))?(o=s,interpolateRgb):interpolateString)(e,o)}function attrRemove(e){return function(){this.removeAttribute(e)}}function attrRemoveNS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function attrConstant(e,o,s){var a,c=s+"",h;return function(){var g=this.getAttribute(e);return g===c?null:g===a?h:h=o(a=g,s)}}function attrConstantNS(e,o,s){var a,c=s+"",h;return function(){var g=this.getAttributeNS(e.space,e.local);return g===c?null:g===a?h:h=o(a=g,s)}}function attrFunction(e,o,s){var a,c,h;return function(){var g,_=s(this),et;return _==null?void this.removeAttribute(e):(g=this.getAttribute(e),et=_+"",g===et?null:g===a&&et===c?h:(c=et,h=o(a=g,_)))}}function attrFunctionNS(e,o,s){var a,c,h;return function(){var g,_=s(this),et;return _==null?void this.removeAttributeNS(e.space,e.local):(g=this.getAttributeNS(e.space,e.local),et=_+"",g===et?null:g===a&&et===c?h:(c=et,h=o(a=g,_)))}}function transition_attr(e,o){var s=namespace(e),a=s==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(e,typeof o=="function"?(s.local?attrFunctionNS:attrFunction)(s,a,tweenValue(this,"attr."+e,o)):o==null?(s.local?attrRemoveNS:attrRemove)(s):(s.local?attrConstantNS:attrConstant)(s,a,o))}function attrInterpolate(e,o){return function(s){this.setAttribute(e,o.call(this,s))}}function attrInterpolateNS(e,o){return function(s){this.setAttributeNS(e.space,e.local,o.call(this,s))}}function attrTweenNS(e,o){var s,a;function c(){var h=o.apply(this,arguments);return h!==a&&(s=(a=h)&&attrInterpolateNS(e,h)),s}return c._value=o,c}function attrTween(e,o){var s,a;function c(){var h=o.apply(this,arguments);return h!==a&&(s=(a=h)&&attrInterpolate(e,h)),s}return c._value=o,c}function transition_attrTween(e,o){var s="attr."+e;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(o==null)return this.tween(s,null);if(typeof o!="function")throw new Error;var a=namespace(e);return this.tween(s,(a.local?attrTweenNS:attrTween)(a,o))}function delayFunction(e,o){return function(){init$1(this,e).delay=+o.apply(this,arguments)}}function delayConstant(e,o){return o=+o,function(){init$1(this,e).delay=o}}function transition_delay(e){var o=this._id;return arguments.length?this.each((typeof e=="function"?delayFunction:delayConstant)(o,e)):get(this.node(),o).delay}function durationFunction(e,o){return function(){set$2(this,e).duration=+o.apply(this,arguments)}}function durationConstant(e,o){return o=+o,function(){set$2(this,e).duration=o}}function transition_duration(e){var o=this._id;return arguments.length?this.each((typeof e=="function"?durationFunction:durationConstant)(o,e)):get(this.node(),o).duration}function easeConstant(e,o){if(typeof o!="function")throw new Error;return function(){set$2(this,e).ease=o}}function transition_ease(e){var o=this._id;return arguments.length?this.each(easeConstant(o,e)):get(this.node(),o).ease}function easeVarying(e,o){return function(){var s=o.apply(this,arguments);if(typeof s!="function")throw new Error;set$2(this,e).ease=s}}function transition_easeVarying(e){if(typeof e!="function")throw new Error;return this.each(easeVarying(this._id,e))}function transition_filter(e){typeof e!="function"&&(e=matcher(e));for(var o=this._groups,s=o.length,a=new Array(s),c=0;c<s;++c)for(var h=o[c],g=h.length,_=a[c]=[],et,rt=0;rt<g;++rt)(et=h[rt])&&e.call(et,et.__data__,rt,h)&&_.push(et);return new Transition(a,this._parents,this._name,this._id)}function transition_merge(e){if(e._id!==this._id)throw new Error;for(var o=this._groups,s=e._groups,a=o.length,c=s.length,h=Math.min(a,c),g=new Array(a),_=0;_<h;++_)for(var et=o[_],rt=s[_],it=et.length,ot=g[_]=new Array(it),st,ct=0;ct<it;++ct)(st=et[ct]||rt[ct])&&(ot[ct]=st);for(;_<a;++_)g[_]=o[_];return new Transition(g,this._parents,this._name,this._id)}function start$1(e){return(e+"").trim().split(/^|\s+/).every(function(o){var s=o.indexOf(".");return s>=0&&(o=o.slice(0,s)),!o||o==="start"})}function onFunction(e,o,s){var a,c,h=start$1(o)?init$1:set$2;return function(){var g=h(this,e),_=g.on;_!==a&&(c=(a=_).copy()).on(o,s),g.on=c}}function transition_on(e,o){var s=this._id;return arguments.length<2?get(this.node(),s).on.on(e):this.each(onFunction(s,e,o))}function removeFunction(e){return function(){var o=this.parentNode;for(var s in this.__transition)if(+s!==e)return;o&&o.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(e){var o=this._name,s=this._id;typeof e!="function"&&(e=selector(e));for(var a=this._groups,c=a.length,h=new Array(c),g=0;g<c;++g)for(var _=a[g],et=_.length,rt=h[g]=new Array(et),it,ot,st=0;st<et;++st)(it=_[st])&&(ot=e.call(it,it.__data__,st,_))&&("__data__"in it&&(ot.__data__=it.__data__),rt[st]=ot,schedule(rt[st],o,s,st,rt,get(it,s)));return new Transition(h,this._parents,o,s)}function transition_selectAll(e){var o=this._name,s=this._id;typeof e!="function"&&(e=selectorAll(e));for(var a=this._groups,c=a.length,h=[],g=[],_=0;_<c;++_)for(var et=a[_],rt=et.length,it,ot=0;ot<rt;++ot)if(it=et[ot]){for(var st=e.call(it,it.__data__,ot,et),ct,dt=get(it,s),Tt=0,Et=st.length;Tt<Et;++Tt)(ct=st[Tt])&&schedule(ct,o,s,Tt,st,dt);h.push(st),g.push(it)}return new Transition(h,g,o,s)}var Selection$1=selection.prototype.constructor;function transition_selection(){return new Selection$1(this._groups,this._parents)}function styleNull(e,o){var s,a,c;return function(){var h=styleValue(this,e),g=(this.style.removeProperty(e),styleValue(this,e));return h===g?null:h===s&&g===a?c:c=o(s=h,a=g)}}function styleRemove(e){return function(){this.style.removeProperty(e)}}function styleConstant(e,o,s){var a,c=s+"",h;return function(){var g=styleValue(this,e);return g===c?null:g===a?h:h=o(a=g,s)}}function styleFunction(e,o,s){var a,c,h;return function(){var g=styleValue(this,e),_=s(this),et=_+"";return _==null&&(et=_=(this.style.removeProperty(e),styleValue(this,e))),g===et?null:g===a&&et===c?h:(c=et,h=o(a=g,_))}}function styleMaybeRemove(e,o){var s,a,c,h="style."+o,g="end."+h,_;return function(){var et=set$2(this,e),rt=et.on,it=et.value[h]==null?_||(_=styleRemove(o)):void 0;(rt!==s||c!==it)&&(a=(s=rt).copy()).on(g,c=it),et.on=a}}function transition_style(e,o,s){var a=(e+="")=="transform"?interpolateTransformCss:interpolate;return o==null?this.styleTween(e,styleNull(e,a)).on("end.style."+e,styleRemove(e)):typeof o=="function"?this.styleTween(e,styleFunction(e,a,tweenValue(this,"style."+e,o))).each(styleMaybeRemove(this._id,e)):this.styleTween(e,styleConstant(e,a,o),s).on("end.style."+e,null)}function styleInterpolate(e,o,s){return function(a){this.style.setProperty(e,o.call(this,a),s)}}function styleTween(e,o,s){var a,c;function h(){var g=o.apply(this,arguments);return g!==c&&(a=(c=g)&&styleInterpolate(e,g,s)),a}return h._value=o,h}function transition_styleTween(e,o,s){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(o==null)return this.tween(a,null);if(typeof o!="function")throw new Error;return this.tween(a,styleTween(e,o,s??""))}function textConstant(e){return function(){this.textContent=e}}function textFunction(e){return function(){var o=e(this);this.textContent=o??""}}function transition_text(e){return this.tween("text",typeof e=="function"?textFunction(tweenValue(this,"text",e)):textConstant(e==null?"":e+""))}function textInterpolate(e){return function(o){this.textContent=e.call(this,o)}}function textTween(e){var o,s;function a(){var c=e.apply(this,arguments);return c!==s&&(o=(s=c)&&textInterpolate(c)),o}return a._value=e,a}function transition_textTween(e){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(e==null)return this.tween(o,null);if(typeof e!="function")throw new Error;return this.tween(o,textTween(e))}function transition_transition(){for(var e=this._name,o=this._id,s=newId(),a=this._groups,c=a.length,h=0;h<c;++h)for(var g=a[h],_=g.length,et,rt=0;rt<_;++rt)if(et=g[rt]){var it=get(et,o);schedule(et,e,s,rt,g,{time:it.time+it.delay+it.duration,delay:0,duration:it.duration,ease:it.ease})}return new Transition(a,this._parents,e,s)}function transition_end(){var e,o,s=this,a=s._id,c=s.size();return new Promise(function(h,g){var _={value:g},et={value:function(){--c===0&&h()}};s.each(function(){var rt=set$2(this,a),it=rt.on;it!==e&&(o=(e=it).copy(),o._.cancel.push(_),o._.interrupt.push(_),o._.end.push(et)),rt.on=o}),c===0&&h()})}var id$n=0;function Transition(e,o,s,a){this._groups=e,this._parents=o,this._name=s,this._id=a}function newId(){return++id$n}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(e,o){for(var s;!(s=e.__transition)||!(s=s[o]);)if(!(e=e.parentNode))throw new Error(`transition ${o} not found`);return s}function selection_transition(e){var o,s;e instanceof Transition?(o=e._id,e=e._name):(o=newId(),(s=defaultTiming).time=now$2(),e=e==null?null:e+"");for(var a=this._groups,c=a.length,h=0;h<c;++h)for(var g=a[h],_=g.length,et,rt=0;rt<_;++rt)(et=g[rt])&&schedule(et,e,o,rt,g,s||inherit(et,o));return new Transition(a,this._parents,e,o)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(e){return e>1?0:e<-1?pi:Math.acos(e)}function asin(e){return e>=1?halfPi:e<=-1?-halfPi:Math.asin(e)}function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;default:this._context.lineTo(e,o);break}}};function curveLinear(e){return new Linear(e)}class Bump{constructor(o,s){this._context=o,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(o,s){switch(o=+o,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(o,s):this._context.moveTo(o,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+o)/2,this._y0,this._x0,s,o,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,o,this._y0,o,s);break}}this._x0=o,this._y0=s}}function bumpX(e){return new Bump(e,!0)}function bumpY(e){return new Bump(e,!1)}function noop(){}function point$3(e,o,s){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+o)/6,(e._y0+4*e._y1+s)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,e,o);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o}};function curveBasis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._x2=e,this._y2=o;break;case 1:this._point=2,this._x3=e,this._y3=o;break;case 2:this._point=3,this._x4=e,this._y4=o,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+o)/6);break;default:point$3(this,e,o);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o}};function curveBasisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(s,a):this._context.moveTo(s,a);break;case 3:this._point=4;default:point$3(this,e,o);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o}};function curveBasisOpen(e){return new BasisOpen(e)}function Bundle(e,o){this._basis=new Basis(e),this._beta=o}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,o=this._y,s=e.length-1;if(s>0)for(var a=e[0],c=o[0],h=e[s]-a,g=o[s]-c,_=-1,et;++_<=s;)et=_/s,this._basis.point(this._beta*e[_]+(1-this._beta)*(a+et*h),this._beta*o[_]+(1-this._beta)*(c+et*g));this._x=this._y=null,this._basis.lineEnd()},point:function(e,o){this._x.push(+e),this._y.push(+o)}};const curveBundle=function e(o){function s(a){return o===1?new Basis(a):new Bundle(a,o)}return s.beta=function(a){return e(+a)},s}(.85);function point$2(e,o,s){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-o),e._y2+e._k*(e._y1-s),e._x2,e._y2)}function Cardinal(e,o){this._context=e,this._k=(1-o)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2,this._x1=e,this._y1=o;break;case 2:this._point=3;default:point$2(this,e,o);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const curveCardinal=function e(o){function s(a){return new Cardinal(a,o)}return s.tension=function(a){return e(+a)},s}(0);function CardinalClosed(e,o){this._context=e,this._k=(1-o)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._x3=e,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=o);break;case 2:this._point=3,this._x5=e,this._y5=o;break;default:point$2(this,e,o);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const curveCardinalClosed=function e(o){function s(a){return new CardinalClosed(a,o)}return s.tension=function(a){return e(+a)},s}(0);function CardinalOpen(e,o){this._context=e,this._k=(1-o)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,e,o);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const curveCardinalOpen=function e(o){function s(a){return new CardinalOpen(a,o)}return s.tension=function(a){return e(+a)},s}(0);function point$1(e,o,s){var a=e._x1,c=e._y1,h=e._x2,g=e._y2;if(e._l01_a>epsilon){var _=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,et=3*e._l01_a*(e._l01_a+e._l12_a);a=(a*_-e._x0*e._l12_2a+e._x2*e._l01_2a)/et,c=(c*_-e._y0*e._l12_2a+e._y2*e._l01_2a)/et}if(e._l23_a>epsilon){var rt=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,it=3*e._l23_a*(e._l23_a+e._l12_a);h=(h*rt+e._x1*e._l23_2a-o*e._l12_2a)/it,g=(g*rt+e._y1*e._l23_2a-s*e._l12_2a)/it}e._context.bezierCurveTo(a,c,h,g,e._x2,e._y2)}function CatmullRom(e,o){this._context=e,this._alpha=o}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){if(e=+e,o=+o,this._point){var s=this._x2-e,a=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,e,o);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const curveCatmullRom=function e(o){function s(a){return o?new CatmullRom(a,o):new Cardinal(a,0)}return s.alpha=function(a){return e(+a)},s}(.5);function CatmullRomClosed(e,o){this._context=e,this._alpha=o}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,o){if(e=+e,o=+o,this._point){var s=this._x2-e,a=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+a*a,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=o);break;case 2:this._point=3,this._x5=e,this._y5=o;break;default:point$1(this,e,o);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const curveCatmullRomClosed=function e(o){function s(a){return o?new CatmullRomClosed(a,o):new CardinalClosed(a,0)}return s.alpha=function(a){return e(+a)},s}(.5);function CatmullRomOpen(e,o){this._context=e,this._alpha=o}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){if(e=+e,o=+o,this._point){var s=this._x2-e,a=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+a*a,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,e,o);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const curveCatmullRomOpen=function e(o){function s(a){return o?new CatmullRomOpen(a,o):new CardinalOpen(a,0)}return s.alpha=function(a){return e(+a)},s}(.5);function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,o){e=+e,o=+o,this._point?this._context.lineTo(e,o):(this._point=1,this._context.moveTo(e,o))}};function curveLinearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,o,s){var a=e._x1-e._x0,c=o-e._x1,h=(e._y1-e._y0)/(a||c<0&&-0),g=(s-e._y1)/(c||a<0&&-0),_=(h*c+g*a)/(a+c);return(sign(h)+sign(g))*Math.min(Math.abs(h),Math.abs(g),.5*Math.abs(_))||0}function slope2(e,o){var s=e._x1-e._x0;return s?(3*(e._y1-e._y0)/s-o)/2:o}function point(e,o,s){var a=e._x0,c=e._y0,h=e._x1,g=e._y1,_=(h-a)/3;e._context.bezierCurveTo(a+_,c+_*o,h-_,g-_*s,h,g)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,o){var s=NaN;if(e=+e,o=+o,!(e===this._x1&&o===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,s=slope3(this,e,o)),s);break;default:point(this,this._t0,s=slope3(this,e,o));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=o,this._t0=s}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,o){MonotoneX.prototype.point.call(this,o,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,o){this._context.moveTo(o,e)},closePath:function(){this._context.closePath()},lineTo:function(e,o){this._context.lineTo(o,e)},bezierCurveTo:function(e,o,s,a,c,h){this._context.bezierCurveTo(o,e,a,s,h,c)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,o=this._y,s=e.length;if(s)if(this._line?this._context.lineTo(e[0],o[0]):this._context.moveTo(e[0],o[0]),s===2)this._context.lineTo(e[1],o[1]);else for(var a=controlPoints(e),c=controlPoints(o),h=0,g=1;g<s;++h,++g)this._context.bezierCurveTo(a[0][h],c[0][h],a[1][h],c[1][h],e[g],o[g]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,o){this._x.push(+e),this._y.push(+o)}};function controlPoints(e){var o,s=e.length-1,a,c=new Array(s),h=new Array(s),g=new Array(s);for(c[0]=0,h[0]=2,g[0]=e[0]+2*e[1],o=1;o<s-1;++o)c[o]=1,h[o]=4,g[o]=4*e[o]+2*e[o+1];for(c[s-1]=2,h[s-1]=7,g[s-1]=8*e[s-1]+e[s],o=1;o<s;++o)a=c[o]/h[o-1],h[o]-=a,g[o]-=a*g[o-1];for(c[s-1]=g[s-1]/h[s-1],o=s-2;o>=0;--o)c[o]=(g[o]-c[o+1])/h[o];for(h[s-1]=(e[s]+c[s-1])/2,o=0;o<s-1;++o)h[o]=2*e[o+1]-c[o+1];return[c,h]}function curveNatural(e){return new Natural(e)}function Step(e,o){this._context=e,this._t=o}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,o){switch(e=+e,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,o):this._context.moveTo(e,o);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,o),this._context.lineTo(e,o);else{var s=this._x*(1-this._t)+e*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,o)}break}}this._x=e,this._y=o}};function curveStep(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function Transform(e,o,s){this.k=e,this.x=o,this.y=s}Transform.prototype={constructor:Transform,scale:function(e){return e===1?this:new Transform(this.k*e,this.x,this.y)},translate:function(e,o){return e===0&o===0?this:new Transform(this.k,this.x+this.k*e,this.y+this.k*o)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;/*! @license DOMPurify 3.1.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.2/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(o){return o});seal||(seal=function(o){return o});apply$1||(apply$1=function(o,s,a){return o.apply(s,a)});construct||(construct=function(o,s){return new o(...s)});const arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(e){return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return apply$1(e,o,a)}}function unconstruct(e){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return construct(e,s)}}function addToSet(e,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(e,null);let a=o.length;for(;a--;){let c=o[a];if(typeof c=="string"){const h=s(c);h!==c&&(isFrozen(o)||(o[a]=h),c=h)}e[c]=!0}return e}function cleanArray(e){for(let o=0;o<e.length;o++)objectHasOwnProperty(e,o)||(e[o]=null);return e}function clone(e){const o=create(null);for(const[s,a]of entries(e))objectHasOwnProperty(e,s)&&(Array.isArray(a)?o[s]=cleanArray(a):a&&typeof a=="object"&&a.constructor===Object?o[s]=clone(a):o[s]=a);return o}function lookupGetter(e,o){for(;e!==null;){const a=getOwnPropertyDescriptor(e,o);if(a){if(a.get)return unapply(a.get);if(typeof a.value=="function")return unapply(a.value)}e=getPrototypeOf(e)}function s(){return null}return s}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,DOCTYPE_NAME,CUSTOM_ELEMENT});const getGlobal$1=function(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function(o,s){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let a=null;const c="data-tt-policy-suffix";s&&s.hasAttribute(c)&&(a=s.getAttribute(c));const h="dompurify"+(a?"#"+a:"");try{return o.createPolicy(h,{createHTML(g){return g},createScriptURL(g){return g}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function createDOMPurify(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal$1();const o=Wt=>createDOMPurify(Wt);if(o.version="3.1.2",o.removed=[],!e||!e.document||e.document.nodeType!==9)return o.isSupported=!1,o;let{document:s}=e;const a=s,c=a.currentScript,{DocumentFragment:h,HTMLTemplateElement:g,Node:_,Element:et,NodeFilter:rt,NamedNodeMap:it=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:ot,DOMParser:st,trustedTypes:ct}=e,dt=et.prototype,Tt=lookupGetter(dt,"cloneNode"),Et=lookupGetter(dt,"nextSibling"),mt=lookupGetter(dt,"childNodes"),gt=lookupGetter(dt,"parentNode");if(typeof g=="function"){const Wt=s.createElement("template");Wt.content&&Wt.content.ownerDocument&&(s=Wt.content.ownerDocument)}let xt,bt="";const{implementation:It,createNodeIterator:Ut,createDocumentFragment:Ft,getElementsByTagName:Bt}=s,{importNode:cr}=a;let Ht={};o.isSupported=typeof entries=="function"&&typeof gt=="function"&&It&&It.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:pr,ERB_EXPR:Ar,TMPLIT_EXPR:Rr,DATA_ATTR:dr,ARIA_ATTR:Yt,IS_SCRIPT_OR_DATA:Pt,ATTR_WHITESPACE:ur,CUSTOM_ELEMENT:Lt}=EXPRESSIONS;let{IS_ALLOWED_URI:rr}=EXPRESSIONS,tr=null;const Kt=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let Dt=null;const hr=addToSet({},[...html,...svg,...mathMl,...xml]);let ar=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tr=null,yr=null,Mt=!0,sr=!0,xr=!1,ir=!0,nr=!1,lr=!0,Cr=!1,Pr=!1,$r=!1,Mr=!1,Qn=!1,eo=!1,On=!0,ao=!1;const Yn="user-content-";let io=!0,Vn=!1,Kn={},to=null;const wo=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let So=null;const mo=addToSet({},["audio","video","img","source","image","track"]);let Xn=null;const To=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oo="http://www.w3.org/1998/Math/MathML",kn="http://www.w3.org/2000/svg",qn="http://www.w3.org/1999/xhtml";let jr=qn,or=!1,Fr=null;const Hr=addToSet({},[oo,kn,qn],stringToString);let Hn=null;const so=["application/xhtml+xml","text/html"],Wr="text/html";let Gr=null,Ro=null;const Bo=255,ro=s.createElement("form"),lo=function(At){return At instanceof RegExp||At instanceof Function},co=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ro&&Ro===At)){if((!At||typeof At!="object")&&(At={}),At=clone(At),Hn=so.indexOf(At.PARSER_MEDIA_TYPE)===-1?Wr:At.PARSER_MEDIA_TYPE,Gr=Hn==="application/xhtml+xml"?stringToString:stringToLowerCase,tr=objectHasOwnProperty(At,"ALLOWED_TAGS")?addToSet({},At.ALLOWED_TAGS,Gr):Kt,Dt=objectHasOwnProperty(At,"ALLOWED_ATTR")?addToSet({},At.ALLOWED_ATTR,Gr):hr,Fr=objectHasOwnProperty(At,"ALLOWED_NAMESPACES")?addToSet({},At.ALLOWED_NAMESPACES,stringToString):Hr,Xn=objectHasOwnProperty(At,"ADD_URI_SAFE_ATTR")?addToSet(clone(To),At.ADD_URI_SAFE_ATTR,Gr):To,So=objectHasOwnProperty(At,"ADD_DATA_URI_TAGS")?addToSet(clone(mo),At.ADD_DATA_URI_TAGS,Gr):mo,to=objectHasOwnProperty(At,"FORBID_CONTENTS")?addToSet({},At.FORBID_CONTENTS,Gr):wo,Tr=objectHasOwnProperty(At,"FORBID_TAGS")?addToSet({},At.FORBID_TAGS,Gr):{},yr=objectHasOwnProperty(At,"FORBID_ATTR")?addToSet({},At.FORBID_ATTR,Gr):{},Kn=objectHasOwnProperty(At,"USE_PROFILES")?At.USE_PROFILES:!1,Mt=At.ALLOW_ARIA_ATTR!==!1,sr=At.ALLOW_DATA_ATTR!==!1,xr=At.ALLOW_UNKNOWN_PROTOCOLS||!1,ir=At.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nr=At.SAFE_FOR_TEMPLATES||!1,lr=At.SAFE_FOR_XML!==!1,Cr=At.WHOLE_DOCUMENT||!1,Mr=At.RETURN_DOM||!1,Qn=At.RETURN_DOM_FRAGMENT||!1,eo=At.RETURN_TRUSTED_TYPE||!1,$r=At.FORCE_BODY||!1,On=At.SANITIZE_DOM!==!1,ao=At.SANITIZE_NAMED_PROPS||!1,io=At.KEEP_CONTENT!==!1,Vn=At.IN_PLACE||!1,rr=At.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,jr=At.NAMESPACE||qn,ar=At.CUSTOM_ELEMENT_HANDLING||{},At.CUSTOM_ELEMENT_HANDLING&&lo(At.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ar.tagNameCheck=At.CUSTOM_ELEMENT_HANDLING.tagNameCheck),At.CUSTOM_ELEMENT_HANDLING&&lo(At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ar.attributeNameCheck=At.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),At.CUSTOM_ELEMENT_HANDLING&&typeof At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ar.allowCustomizedBuiltInElements=At.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nr&&(sr=!1),Qn&&(Mr=!0),Kn&&(tr=addToSet({},text),Dt=[],Kn.html===!0&&(addToSet(tr,html$1),addToSet(Dt,html)),Kn.svg===!0&&(addToSet(tr,svg$1),addToSet(Dt,svg),addToSet(Dt,xml)),Kn.svgFilters===!0&&(addToSet(tr,svgFilters),addToSet(Dt,svg),addToSet(Dt,xml)),Kn.mathMl===!0&&(addToSet(tr,mathMl$1),addToSet(Dt,mathMl),addToSet(Dt,xml))),At.ADD_TAGS&&(tr===Kt&&(tr=clone(tr)),addToSet(tr,At.ADD_TAGS,Gr)),At.ADD_ATTR&&(Dt===hr&&(Dt=clone(Dt)),addToSet(Dt,At.ADD_ATTR,Gr)),At.ADD_URI_SAFE_ATTR&&addToSet(Xn,At.ADD_URI_SAFE_ATTR,Gr),At.FORBID_CONTENTS&&(to===wo&&(to=clone(to)),addToSet(to,At.FORBID_CONTENTS,Gr)),io&&(tr["#text"]=!0),Cr&&addToSet(tr,["html","head","body"]),tr.table&&(addToSet(tr,["tbody"]),delete Tr.tbody),At.TRUSTED_TYPES_POLICY){if(typeof At.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof At.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');xt=At.TRUSTED_TYPES_POLICY,bt=xt.createHTML("")}else xt===void 0&&(xt=_createTrustedTypesPolicy(ct,c)),xt!==null&&typeof bt=="string"&&(bt=xt.createHTML(""));freeze&&freeze(At),Ro=At}},No=addToSet({},["mi","mo","mn","ms","mtext"]),jo=addToSet({},["foreignobject","annotation-xml"]),Ho=addToSet({},["title","style","font","a","script"]),Wo=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Eo=addToSet({},[...mathMl$1,...mathMlDisallowed]),Ao=function(At){let yt=gt(At);(!yt||!yt.tagName)&&(yt={namespaceURI:jr,tagName:"template"});const _r=stringToLowerCase(At.tagName),Rt=stringToLowerCase(yt.tagName);return Fr[At.namespaceURI]?At.namespaceURI===kn?yt.namespaceURI===qn?_r==="svg":yt.namespaceURI===oo?_r==="svg"&&(Rt==="annotation-xml"||No[Rt]):!!Wo[_r]:At.namespaceURI===oo?yt.namespaceURI===qn?_r==="math":yt.namespaceURI===kn?_r==="math"&&jo[Rt]:!!Eo[_r]:At.namespaceURI===qn?yt.namespaceURI===kn&&!jo[Rt]||yt.namespaceURI===oo&&!No[Rt]?!1:!Eo[_r]&&(Ho[_r]||!Wo[_r]):!!(Hn==="application/xhtml+xml"&&Fr[At.namespaceURI]):!1},Lr=function(At){arrayPush(o.removed,{element:At});try{At.parentNode.removeChild(At)}catch{At.remove()}},lt=function(At,yt){try{arrayPush(o.removed,{attribute:yt.getAttributeNode(At),from:yt})}catch{arrayPush(o.removed,{attribute:null,from:yt})}if(yt.removeAttribute(At),At==="is"&&!Dt[At])if(Mr||Qn)try{Lr(yt)}catch{}else try{yt.setAttribute(At,"")}catch{}},ut=function(At){let yt=null,_r=null;if($r)At="<remove></remove>"+At;else{const Qr=stringMatch(At,/^[\r\n\t ]+/);_r=Qr&&Qr[0]}Hn==="application/xhtml+xml"&&jr===qn&&(At='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+At+"</body></html>");const Rt=xt?xt.createHTML(At):At;if(jr===qn)try{yt=new st().parseFromString(Rt,Hn)}catch{}if(!yt||!yt.documentElement){yt=It.createDocument(jr,"template",null);try{yt.documentElement.innerHTML=or?bt:Rt}catch{}}const Yr=yt.body||yt.documentElement;return At&&_r&&Yr.insertBefore(s.createTextNode(_r),Yr.childNodes[0]||null),jr===qn?Bt.call(yt,Cr?"html":"body")[0]:Cr?yt.documentElement:Yr},fr=function(At){return Ut.call(At.ownerDocument||At,At,rt.SHOW_ELEMENT|rt.SHOW_COMMENT|rt.SHOW_TEXT|rt.SHOW_PROCESSING_INSTRUCTION|rt.SHOW_CDATA_SECTION,null)},pt=function(At){return At instanceof ot&&(typeof At.__depth<"u"&&typeof At.__depth!="number"||typeof At.__removalCount<"u"&&typeof At.__removalCount!="number"||typeof At.nodeName!="string"||typeof At.textContent!="string"||typeof At.removeChild!="function"||!(At.attributes instanceof it)||typeof At.removeAttribute!="function"||typeof At.setAttribute!="function"||typeof At.namespaceURI!="string"||typeof At.insertBefore!="function"||typeof At.hasChildNodes!="function")},St=function(At){return typeof _=="function"&&At instanceof _},Or=function(At,yt,_r){Ht[At]&&arrayForEach(Ht[At],Rt=>{Rt.call(o,yt,_r,Ro)})},br=function(At){let yt=null;if(Or("beforeSanitizeElements",At,null),pt(At))return Lr(At),!0;const _r=Gr(At.nodeName);if(Or("uponSanitizeElement",At,{tagName:_r,allowedTags:tr}),At.hasChildNodes()&&!St(At.firstElementChild)&&regExpTest(/<[/\w]/g,At.innerHTML)&&regExpTest(/<[/\w]/g,At.textContent)||At.nodeType===7||lr&&At.nodeType===8&&regExpTest(/<[/\w]/g,At.data))return Lr(At),!0;if(!tr[_r]||Tr[_r]){if(!Tr[_r]&&Co(_r)&&(ar.tagNameCheck instanceof RegExp&&regExpTest(ar.tagNameCheck,_r)||ar.tagNameCheck instanceof Function&&ar.tagNameCheck(_r)))return!1;if(io&&!to[_r]){const Rt=gt(At)||At.parentNode,Yr=mt(At)||At.childNodes;if(Yr&&Rt){const Qr=Yr.length;for(let qr=Qr-1;qr>=0;--qr){const zn=Tt(Yr[qr],!0);zn.__removalCount=(At.__removalCount||0)+1,Rt.insertBefore(zn,Et(At))}}}return Lr(At),!0}return At instanceof et&&!Ao(At)||(_r==="noscript"||_r==="noembed"||_r==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,At.innerHTML)?(Lr(At),!0):(nr&&At.nodeType===3&&(yt=At.textContent,arrayForEach([pr,Ar,Rr],Rt=>{yt=stringReplace(yt,Rt," ")}),At.textContent!==yt&&(arrayPush(o.removed,{element:At.cloneNode()}),At.textContent=yt)),Or("afterSanitizeElements",At,null),!1)},Wn=function(At,yt,_r){if(On&&(yt==="id"||yt==="name")&&(_r in s||_r in ro))return!1;if(!(sr&&!yr[yt]&&regExpTest(dr,yt))){if(!(Mt&&regExpTest(Yt,yt))){if(!Dt[yt]||yr[yt]){if(!(Co(At)&&(ar.tagNameCheck instanceof RegExp&&regExpTest(ar.tagNameCheck,At)||ar.tagNameCheck instanceof Function&&ar.tagNameCheck(At))&&(ar.attributeNameCheck instanceof RegExp&&regExpTest(ar.attributeNameCheck,yt)||ar.attributeNameCheck instanceof Function&&ar.attributeNameCheck(yt))||yt==="is"&&ar.allowCustomizedBuiltInElements&&(ar.tagNameCheck instanceof RegExp&&regExpTest(ar.tagNameCheck,_r)||ar.tagNameCheck instanceof Function&&ar.tagNameCheck(_r))))return!1}else if(!Xn[yt]){if(!regExpTest(rr,stringReplace(_r,ur,""))){if(!((yt==="src"||yt==="xlink:href"||yt==="href")&&At!=="script"&&stringIndexOf(_r,"data:")===0&&So[At])){if(!(xr&&!regExpTest(Pt,stringReplace(_r,ur,"")))){if(_r)return!1}}}}}}return!0},Co=function(At){return At!=="annotation-xml"&&stringMatch(At,Lt)},wt=function(At){Or("beforeSanitizeAttributes",At,null);const{attributes:yt}=At;if(!yt)return;const _r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Dt};let Rt=yt.length;for(;Rt--;){const Yr=yt[Rt],{name:Qr,namespaceURI:qr,value:zn}=Yr,kr=Gr(Qr);let no=Qr==="value"?zn:stringTrim(zn);if(_r.attrName=kr,_r.attrValue=no,_r.keepAttr=!0,_r.forceKeepAttr=void 0,Or("uponSanitizeAttribute",At,_r),no=_r.attrValue,_r.forceKeepAttr||(lt(Qr,At),!_r.keepAttr))continue;if(!ir&&regExpTest(/\/>/i,no)){lt(Qr,At);continue}nr&&arrayForEach([pr,Ar,Rr],Qo=>{no=stringReplace(no,Qo," ")});const zo=Gr(At.nodeName);if(Wn(zo,kr,no)){if(ao&&(kr==="id"||kr==="name")&&(lt(Qr,At),no=Yn+no),xt&&typeof ct=="object"&&typeof ct.getAttributeType=="function"&&!qr)switch(ct.getAttributeType(zo,kr)){case"TrustedHTML":{no=xt.createHTML(no);break}case"TrustedScriptURL":{no=xt.createScriptURL(no);break}}try{qr?At.setAttributeNS(qr,Qr,no):At.setAttribute(Qr,no),arrayPop(o.removed)}catch{}}}Or("afterSanitizeAttributes",At,null)},vr=function Wt(At){let yt=null;const _r=fr(At);for(Or("beforeSanitizeShadowDOM",At,null);yt=_r.nextNode();){if(Or("uponSanitizeShadowNode",yt,null),br(yt))continue;const Rt=gt(yt);yt.nodeType===1&&(Rt&&Rt.__depth?yt.__depth=(yt.__removalCount||0)+Rt.__depth+1:yt.__depth=1),yt.__depth>=Bo&&Lr(yt),yt.content instanceof h&&(yt.content.__depth=yt.__depth,Wt(yt.content)),wt(yt)}Or("afterSanitizeShadowDOM",At,null)};return o.sanitize=function(Wt){let At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yt=null,_r=null,Rt=null,Yr=null;if(or=!Wt,or&&(Wt="<!-->"),typeof Wt!="string"&&!St(Wt))if(typeof Wt.toString=="function"){if(Wt=Wt.toString(),typeof Wt!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!o.isSupported)return Wt;if(Pr||co(At),o.removed=[],typeof Wt=="string"&&(Vn=!1),Vn){if(Wt.nodeName){const zn=Gr(Wt.nodeName);if(!tr[zn]||Tr[zn])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Wt instanceof _)yt=ut("<!---->"),_r=yt.ownerDocument.importNode(Wt,!0),_r.nodeType===1&&_r.nodeName==="BODY"||_r.nodeName==="HTML"?yt=_r:yt.appendChild(_r);else{if(!Mr&&!nr&&!Cr&&Wt.indexOf("<")===-1)return xt&&eo?xt.createHTML(Wt):Wt;if(yt=ut(Wt),!yt)return Mr?null:eo?bt:""}yt&&$r&&Lr(yt.firstChild);const Qr=fr(Vn?Wt:yt);for(;Rt=Qr.nextNode();){if(br(Rt))continue;const zn=gt(Rt);Rt.nodeType===1&&(zn&&zn.__depth?Rt.__depth=(Rt.__removalCount||0)+zn.__depth+1:Rt.__depth=1),Rt.__depth>=Bo&&Lr(Rt),Rt.content instanceof h&&(Rt.content.__depth=Rt.__depth,vr(Rt.content)),wt(Rt)}if(Vn)return Wt;if(Mr){if(Qn)for(Yr=Ft.call(yt.ownerDocument);yt.firstChild;)Yr.appendChild(yt.firstChild);else Yr=yt;return(Dt.shadowroot||Dt.shadowrootmode)&&(Yr=cr.call(a,Yr,!0)),Yr}let qr=Cr?yt.outerHTML:yt.innerHTML;return Cr&&tr["!doctype"]&&yt.ownerDocument&&yt.ownerDocument.doctype&&yt.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,yt.ownerDocument.doctype.name)&&(qr="<!DOCTYPE "+yt.ownerDocument.doctype.name+`>
`+qr),nr&&arrayForEach([pr,Ar,Rr],zn=>{qr=stringReplace(qr,zn," ")}),xt&&eo?xt.createHTML(qr):qr},o.setConfig=function(){let Wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};co(Wt),Pr=!0},o.clearConfig=function(){Ro=null,Pr=!1},o.isValidAttribute=function(Wt,At,yt){Ro||co({});const _r=Gr(Wt),Rt=Gr(At);return Wn(_r,Rt,yt)},o.addHook=function(Wt,At){typeof At=="function"&&(Ht[Wt]=Ht[Wt]||[],arrayPush(Ht[Wt],At))},o.removeHook=function(Wt){if(Ht[Wt])return arrayPop(Ht[Wt])},o.removeHooks=function(Wt){Ht[Wt]&&(Ht[Wt]=[])},o.removeAllHooks=function(){Ht={}},o}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{const o=e/255;return e>.03928?Math.pow((o+.055)/1.055,2.4):o/12.92},hue2rgb:(e,o,s)=>(s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(o-e)*6*s:s<1/2?o:s<2/3?e+(o-e)*(2/3-s)*6:e),hsl2rgb:({h:e,s:o,l:s},a)=>{if(!o)return s*2.55;e/=360,o/=100,s/=100;const c=s<.5?s*(1+o):s+o-s*o,h=2*s-c;switch(a){case"r":return Channel.hue2rgb(h,c,e+1/3)*255;case"g":return Channel.hue2rgb(h,c,e)*255;case"b":return Channel.hue2rgb(h,c,e-1/3)*255}},rgb2hsl:({r:e,g:o,b:s},a)=>{e/=255,o/=255,s/=255;const c=Math.max(e,o,s),h=Math.min(e,o,s),g=(c+h)/2;if(a==="l")return g*100;if(c===h)return 0;const _=c-h,et=g>.5?_/(2-c-h):_/(c+h);if(a==="s")return et*100;switch(c){case e:return((o-s)/_+(o<s?6:0))*60;case o:return((s-e)/_+2)*60;case s:return((e-o)/_+4)*60;default:return-1}}},Lang={clamp:(e,o,s)=>o>s?Math.min(o,Math.max(s,e)):Math.min(s,Math.max(o,e)),round:e=>Math.round(e*1e10)/1e10},lang=Lang,Unit={dec2hex:e=>{const o=Math.round(e).toString(16);return o.length>1?o:`0${o}`}},unit=Unit,Utils={channel:Channel,lang,unit},DEC2HEX={};for(let e=0;e<=255;e++)DEC2HEX[e]=Utils.unit.dec2hex(e);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(o){if(this.type&&this.type!==o)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=o}reset(){this.type=TYPE.ALL}is(o){return this.type===o}}class Channels{constructor(o,s){this.color=s,this.changed=!1,this.data=o,this.type=new Type}set(o,s){return this.color=s,this.changed=!1,this.data=o,this.type.type=TYPE.ALL,this}_ensureHSL(){const o=this.data,{h:s,s:a,l:c}=o;s===void 0&&(o.h=Utils.channel.rgb2hsl(o,"h")),a===void 0&&(o.s=Utils.channel.rgb2hsl(o,"s")),c===void 0&&(o.l=Utils.channel.rgb2hsl(o,"l"))}_ensureRGB(){const o=this.data,{r:s,g:a,b:c}=o;s===void 0&&(o.r=Utils.channel.hsl2rgb(o,"r")),a===void 0&&(o.g=Utils.channel.hsl2rgb(o,"g")),c===void 0&&(o.b=Utils.channel.hsl2rgb(o,"b"))}get r(){const o=this.data,s=o.r;return!this.type.is(TYPE.HSL)&&s!==void 0?s:(this._ensureHSL(),Utils.channel.hsl2rgb(o,"r"))}get g(){const o=this.data,s=o.g;return!this.type.is(TYPE.HSL)&&s!==void 0?s:(this._ensureHSL(),Utils.channel.hsl2rgb(o,"g"))}get b(){const o=this.data,s=o.b;return!this.type.is(TYPE.HSL)&&s!==void 0?s:(this._ensureHSL(),Utils.channel.hsl2rgb(o,"b"))}get h(){const o=this.data,s=o.h;return!this.type.is(TYPE.RGB)&&s!==void 0?s:(this._ensureRGB(),Utils.channel.rgb2hsl(o,"h"))}get s(){const o=this.data,s=o.s;return!this.type.is(TYPE.RGB)&&s!==void 0?s:(this._ensureRGB(),Utils.channel.rgb2hsl(o,"s"))}get l(){const o=this.data,s=o.l;return!this.type.is(TYPE.RGB)&&s!==void 0?s:(this._ensureRGB(),Utils.channel.rgb2hsl(o,"l"))}get a(){return this.data.a}set r(o){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=o}set g(o){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=o}set b(o){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=o}set h(o){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=o}set s(o){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=o}set l(o){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=o}set a(o){this.changed=!0,this.data.a=o}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(e.charCodeAt(0)!==35)return;const o=e.match(Hex.re);if(!o)return;const s=o[1],a=parseInt(s,16),c=s.length,h=c%4===0,g=c>4,_=g?1:17,et=g?8:4,rt=h?0:-1,it=g?255:15;return channels.set({r:(a>>et*(rt+3)&it)*_,g:(a>>et*(rt+2)&it)*_,b:(a>>et*(rt+1)&it)*_,a:h?(a&it)*_/255:1},e)},stringify:e=>{const{r:o,g:s,b:a,a:c}=e;return c<1?`#${DEC2HEX[Math.round(o)]}${DEC2HEX[Math.round(s)]}${DEC2HEX[Math.round(a)]}${DEC2HEX[Math.round(c*255)]}`:`#${DEC2HEX[Math.round(o)]}${DEC2HEX[Math.round(s)]}${DEC2HEX[Math.round(a)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{const o=e.match(HSL.hueRe);if(o){const[,s,a]=o;switch(a){case"grad":return Utils.channel.clamp.h(parseFloat(s)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(s)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(s)*360)}}return Utils.channel.clamp.h(parseFloat(e))},parse:e=>{const o=e.charCodeAt(0);if(o!==104&&o!==72)return;const s=e.match(HSL.re);if(!s)return;const[,a,c,h,g,_]=s;return channels.set({h:HSL._hue2deg(a),s:Utils.channel.clamp.s(parseFloat(c)),l:Utils.channel.clamp.l(parseFloat(h)),a:g?Utils.channel.clamp.a(_?parseFloat(g)/100:parseFloat(g)):1},e)},stringify:e=>{const{h:o,s,l:a,a:c}=e;return c<1?`hsla(${Utils.lang.round(o)}, ${Utils.lang.round(s)}%, ${Utils.lang.round(a)}%, ${c})`:`hsl(${Utils.lang.round(o)}, ${Utils.lang.round(s)}%, ${Utils.lang.round(a)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();const o=Keyword.colors[e];if(o)return Hex.parse(o)},stringify:e=>{const o=Hex.stringify(e);for(const s in Keyword.colors)if(Keyword.colors[s]===o)return s}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{const o=e.charCodeAt(0);if(o!==114&&o!==82)return;const s=e.match(RGB.re);if(!s)return;const[,a,c,h,g,_,et,rt,it]=s;return channels.set({r:Utils.channel.clamp.r(c?parseFloat(a)*2.55:parseFloat(a)),g:Utils.channel.clamp.g(g?parseFloat(h)*2.55:parseFloat(h)),b:Utils.channel.clamp.b(et?parseFloat(_)*2.55:parseFloat(_)),a:rt?Utils.channel.clamp.a(it?parseFloat(rt)/100:parseFloat(rt)):1},e)},stringify:e=>{const{r:o,g:s,b:a,a:c}=e;return c<1?`rgba(${Utils.lang.round(o)}, ${Utils.lang.round(s)}, ${Utils.lang.round(a)}, ${Utils.lang.round(c)})`:`rgb(${Utils.lang.round(o)}, ${Utils.lang.round(s)}, ${Utils.lang.round(a)})`}},Color={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:e=>{if(typeof e!="string")return e;const o=Hex.parse(e)||RGB.parse(e)||HSL.parse(e)||Keyword.parse(e);if(o)return o;throw new Error(`Unsupported color format: "${e}"`)},stringify:e=>!e.changed&&e.color?e.color:e.type.is(TYPE.HSL)||e.data.r===void 0?HSL.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?RGB.stringify(e):Hex.stringify(e)},change=(e,o)=>{const s=Color.parse(e);for(const a in o)s[a]=Utils.channel.clamp[a](o[a]);return Color.stringify(s)},rgba=(e,o,s=0,a=1)=>{if(typeof e!="number")return change(e,{a:o});const c=channels.set({r:Utils.channel.clamp.r(e),g:Utils.channel.clamp.g(o),b:Utils.channel.clamp.b(s),a:Utils.channel.clamp.a(a)});return Color.stringify(c)},luminance=e=>{const{r:o,g:s,b:a}=Color.parse(e),c=.2126*Utils.channel.toLinear(o)+.7152*Utils.channel.toLinear(s)+.0722*Utils.channel.toLinear(a);return Utils.lang.round(c)},isLight=e=>luminance(e)>=.5,isLight$1=isLight,isDark=e=>!isLight$1(e),adjustChannel=(e,o,s)=>{const a=Color.parse(e),c=a[o],h=Utils.channel.clamp[o](c+s);return c!==h&&(a[o]=h),Color.stringify(a)},lighten=(e,o)=>adjustChannel(e,"l",o),darken=(e,o)=>adjustChannel(e,"l",-o),adjust=(e,o)=>{const s=Color.parse(e),a={};for(const c in o)o[c]&&(a[c]=s[c]+o[c]);return change(e,a)},mix=(e,o,s=50)=>{const{r:a,g:c,b:h,a:g}=Color.parse(e),{r:_,g:et,b:rt,a:it}=Color.parse(o),ot=s/100,st=ot*2-1,ct=g-it,Tt=((st*ct===-1?st:(st+ct)/(1+st*ct))+1)/2,Et=1-Tt,mt=a*Tt+_*Et,gt=c*Tt+et*Et,xt=h*Tt+rt*Et,bt=g*ot+it*(1-ot);return rgba(mt,gt,xt,bt)},invert=(e,o=100)=>{const s=Color.parse(e);return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,mix(s,e,o)};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(e){var o=hasOwnProperty$a.call(e,symToStringTag$1),s=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var a=!0}catch{}var c=nativeObjectToString$1.call(e);return a&&(o?e[symToStringTag$1]=s:delete e[symToStringTag$1]),c}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString(e)}function isObject$2(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject$2(e))return!1;var o=baseGetTag(e);return o==funcTag$1||o==genTag||o==asyncTag||o==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(e){if(e!=null){try{return funcToString$2.call(e)}catch{}try{return e+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!isObject$2(e)||isMasked(e))return!1;var o=isFunction(e)?reIsNative:reIsHostCtor;return o.test(toSource(e))}function getValue(e,o){return e==null?void 0:e[o]}function getNative(e,o){var s=getValue(e,o);return baseIsNative(s)?s:void 0}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(e){var o=this.__data__;if(nativeCreate){var s=o[e];return s===HASH_UNDEFINED$1?void 0:s}return hasOwnProperty$8.call(o,e)?o[e]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(e){var o=this.__data__;return nativeCreate?o[e]!==void 0:hasOwnProperty$7.call(o,e)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(e,o){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=nativeCreate&&o===void 0?HASH_UNDEFINED:o,this}function Hash(e){var o=-1,s=e==null?0:e.length;for(this.clear();++o<s;){var a=e[o];this.set(a[0],a[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(e,o){return e===o||e!==e&&o!==o}function assocIndexOf(e,o){for(var s=e.length;s--;)if(eq(e[s][0],o))return s;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var o=this.__data__,s=assocIndexOf(o,e);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():splice.call(o,s,1),--this.size,!0}function listCacheGet(e){var o=this.__data__,s=assocIndexOf(o,e);return s<0?void 0:o[s][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,o){var s=this.__data__,a=assocIndexOf(s,e);return a<0?(++this.size,s.push([e,o])):s[a][1]=o,this}function ListCache(e){var o=-1,s=e==null?0:e.length;for(this.clear();++o<s;){var a=e[o];this.set(a[0],a[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}function getMapData(e,o){var s=e.__data__;return isKeyable(o)?s[typeof o=="string"?"string":"hash"]:s.map}function mapCacheDelete(e){var o=getMapData(this,e).delete(e);return this.size-=o?1:0,o}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,o){var s=getMapData(this,e),a=s.size;return s.set(e,o),this.size+=s.size==a?0:1,this}function MapCache(e){var o=-1,s=e==null?0:e.length;for(this.clear();++o<s;){var a=e[o];this.set(a[0],a[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(e,o){if(typeof e!="function"||o!=null&&typeof o!="function")throw new TypeError(FUNC_ERROR_TEXT);var s=function(){var a=arguments,c=o?o.apply(this,a):a[0],h=s.cache;if(h.has(c))return h.get(c);var g=e.apply(this,a);return s.cache=h.set(c,g)||h,g};return s.cache=new(memoize.Cache||MapCache),s}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var o=this.__data__,s=o.delete(e);return this.size=o.size,s}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE=200;function stackSet(e,o){var s=this.__data__;if(s instanceof ListCache){var a=s.__data__;if(!Map$1||a.length<LARGE_ARRAY_SIZE-1)return a.push([e,o]),this.size=++s.size,this;s=this.__data__=new MapCache(a)}return s.set(e,o),this.size=s.size,this}function Stack(e){var o=this.__data__=new ListCache(e);this.size=o.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch{}}();function baseAssignValue(e,o,s){o=="__proto__"&&defineProperty?defineProperty(e,o,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[o]=s}function assignMergeValue(e,o,s){(s!==void 0&&!eq(e[o],s)||s===void 0&&!(o in e))&&baseAssignValue(e,o,s)}function createBaseFor(e){return function(o,s,a){for(var c=-1,h=Object(o),g=a(o),_=g.length;_--;){var et=g[e?_:++c];if(s(h[et],et,h)===!1)break}return o}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(e,o){if(o)return e.slice();var s=e.length,a=allocUnsafe?allocUnsafe(s):new e.constructor(s);return e.copy(a),a}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(e){var o=new e.constructor(e.byteLength);return new Uint8Array$1(o).set(new Uint8Array$1(e)),o}function cloneTypedArray(e,o){var s=o?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}function copyArray(e,o){var s=-1,a=e.length;for(o||(o=Array(a));++s<a;)o[s]=e[s];return o}var objectCreate=Object.create,baseCreate=function(){function e(){}return function(o){if(!isObject$2(o))return{};if(objectCreate)return objectCreate(o);e.prototype=o;var s=new e;return e.prototype=void 0,s}}();function overArg(e,o){return function(s){return e(o(s))}}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectProto$7=Object.prototype;function isPrototype(e){var o=e&&e.constructor,s=typeof o=="function"&&o.prototype||objectProto$7;return e===s}function initCloneObject(e){return typeof e.constructor=="function"&&!isPrototype(e)?baseCreate(getPrototype$1(e)):{}}function isObjectLike(e){return e!=null&&typeof e=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$6.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")};const isArguments$1=isArguments;var isArray$1=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}function isArrayLike(e){return e!=null&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag$2)return!1;var o=getPrototype$1(e);if(o===null)return!0;var s=hasOwnProperty$5.call(o,"constructor")&&o.constructor;return typeof s=="function"&&s instanceof s&&funcToString.call(s)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(o){return e(o)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var e=freeModule&&freeModule.require&&freeModule.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;function safeGet(e,o){if(!(o==="constructor"&&typeof e[o]=="function")&&o!="__proto__")return e[o]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(e,o,s){var a=e[o];(!(hasOwnProperty$4.call(e,o)&&eq(a,s))||s===void 0&&!(o in e))&&baseAssignValue(e,o,s)}function copyObject(e,o,s,a){var c=!s;s||(s={});for(var h=-1,g=o.length;++h<g;){var _=o[h],et=a?a(s[_],e[_],_,s,e):void 0;et===void 0&&(et=e[_]),c?baseAssignValue(s,_,et):assignValue(s,_,et)}return s}function baseTimes(e,o){for(var s=-1,a=Array(e);++s<e;)a[s]=o(s);return a}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,o){var s=typeof e;return o=o??MAX_SAFE_INTEGER,!!o&&(s=="number"||s!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<o}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(e,o){var s=isArray$1(e),a=!s&&isArguments$1(e),c=!s&&!a&&isBuffer$1(e),h=!s&&!a&&!c&&isTypedArray$1(e),g=s||a||c||h,_=g?baseTimes(e.length,String):[],et=_.length;for(var rt in e)(o||hasOwnProperty$3.call(e,rt))&&!(g&&(rt=="length"||c&&(rt=="offset"||rt=="parent")||h&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||isIndex(rt,et)))&&_.push(rt);return _}function nativeKeysIn(e){var o=[];if(e!=null)for(var s in Object(e))o.push(s);return o}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(e){if(!isObject$2(e))return nativeKeysIn(e);var o=isPrototype(e),s=[];for(var a in e)a=="constructor"&&(o||!hasOwnProperty$2.call(e,a))||s.push(a);return s}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}function toPlainObject(e){return copyObject(e,keysIn(e))}function baseMergeDeep(e,o,s,a,c,h,g){var _=safeGet(e,s),et=safeGet(o,s),rt=g.get(et);if(rt){assignMergeValue(e,s,rt);return}var it=h?h(_,et,s+"",e,o,g):void 0,ot=it===void 0;if(ot){var st=isArray$1(et),ct=!st&&isBuffer$1(et),dt=!st&&!ct&&isTypedArray$1(et);it=et,st||ct||dt?isArray$1(_)?it=_:isArrayLikeObject(_)?it=copyArray(_):ct?(ot=!1,it=cloneBuffer(et,!0)):dt?(ot=!1,it=cloneTypedArray(et,!0)):it=[]:isPlainObject(et)||isArguments$1(et)?(it=_,isArguments$1(_)?it=toPlainObject(_):(!isObject$2(_)||isFunction(_))&&(it=initCloneObject(et))):ot=!1}ot&&(g.set(et,it),c(it,et,a,h,g),g.delete(et)),assignMergeValue(e,s,it)}function baseMerge(e,o,s,a,c){e!==o&&baseFor(o,function(h,g){if(c||(c=new Stack),isObject$2(h))baseMergeDeep(e,o,g,s,baseMerge,a,c);else{var _=a?a(safeGet(e,g),h,g+"",e,o,c):void 0;_===void 0&&(_=h),assignMergeValue(e,g,_)}},keysIn)}function identity(e){return e}function apply(e,o,s){switch(s.length){case 0:return e.call(o);case 1:return e.call(o,s[0]);case 2:return e.call(o,s[0],s[1]);case 3:return e.call(o,s[0],s[1],s[2])}return e.apply(o,s)}var nativeMax=Math.max;function overRest(e,o,s){return o=nativeMax(o===void 0?e.length-1:o,0),function(){for(var a=arguments,c=-1,h=nativeMax(a.length-o,0),g=Array(h);++c<h;)g[c]=a[o+c];c=-1;for(var _=Array(o+1);++c<o;)_[c]=a[c];return _[o]=s(g),apply(e,this,_)}}function constant(e){return function(){return e}}var baseSetToString=defineProperty?function(e,o){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(o),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var o=0,s=0;return function(){var a=nativeNow(),c=HOT_SPAN-(a-s);if(s=a,c>0){if(++o>=HOT_COUNT)return arguments[0]}else o=0;return e.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString$1);function baseRest(e,o){return setToString(overRest(e,o,identity),e+"")}function isIterateeCall(e,o,s){if(!isObject$2(s))return!1;var a=typeof o;return(a=="number"?isArrayLike(s)&&isIndex(o,s.length):a=="string"&&o in s)?eq(s[o],e):!1}function createAssigner(e){return baseRest(function(o,s){var a=-1,c=s.length,h=c>1?s[c-1]:void 0,g=c>2?s[2]:void 0;for(h=e.length>3&&typeof h=="function"?(c--,h):void 0,g&&isIterateeCall(s[0],s[1],g)&&(h=c<3?void 0:h,c=1),o=Object(o);++a<c;){var _=s[a];_&&e(o,_,a,h)}return o})}var merge$1=createAssigner(function(e,o,s){baseMerge(e,o,s)}),COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(e){return e.trim()}function replace(e,o,s){return e.replace(o,s)}function indexof(e,o,s){return e.indexOf(o,s)}function charat(e,o){return e.charCodeAt(o)|0}function substr(e,o,s){return e.slice(o,s)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,o){return o.push(e),e}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,o,s,a,c,h,g,_){return{value:e,root:o,parent:s,type:a,props:c,children:h,line,column,length:g,return:"",siblings:_}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,o){return substr(characters,e,o)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(e===91?e+2:e===40?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,o){for(;--o&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(o<6&&peek()==32&&next()==32))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:e!==34&&e!==39&&delimiter(character);break;case 40:e===41&&delimiter(e);break;case 92:next();break}return position}function commenter(e,o){for(;next()&&e+character!==57;)if(e+character===84&&peek()===47)break;return"/*"+slice(o,position-1)+"*"+from(e===47?e:next())}function identifier(e){for(;!token(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse$2("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse$2(e,o,s,a,c,h,g,_,et){for(var rt=0,it=0,ot=g,st=0,ct=0,dt=0,Tt=1,Et=1,mt=1,gt=0,xt="",bt=c,It=h,Ut=a,Ft=xt;Et;)switch(dt=gt,gt=next()){case 40:if(dt!=108&&charat(Ft,ot-1)==58){indexof(Ft+=replace(delimit(gt),"&","&\f"),"&\f",abs(rt?_[rt-1]:0))!=-1&&(mt=-1);break}case 34:case 39:case 91:Ft+=delimit(gt);break;case 9:case 10:case 13:case 32:Ft+=whitespace(dt);break;case 92:Ft+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),o,s,et),et);break;default:Ft+="/"}break;case 123*Tt:_[rt++]=strlen(Ft)*mt;case 125*Tt:case 59:case 0:switch(gt){case 0:case 125:Et=0;case 59+it:mt==-1&&(Ft=replace(Ft,/\f/g,"")),ct>0&&strlen(Ft)-ot&&append(ct>32?declaration(Ft+";",a,s,ot-1,et):declaration(replace(Ft," ","")+";",a,s,ot-2,et),et);break;case 59:Ft+=";";default:if(append(Ut=ruleset(Ft,o,s,rt,it,c,_,xt,bt=[],It=[],ot,h),h),gt===123)if(it===0)parse$2(Ft,o,Ut,Ut,bt,h,ot,_,It);else switch(st===99&&charat(Ft,3)===110?100:st){case 100:case 108:case 109:case 115:parse$2(e,Ut,Ut,a&&append(ruleset(e,Ut,Ut,0,0,c,_,xt,c,bt=[],ot,It),It),c,It,ot,_,a?bt:It);break;default:parse$2(Ft,Ut,Ut,Ut,[""],It,0,_,It)}}rt=it=ct=0,Tt=mt=1,xt=Ft="",ot=g;break;case 58:ot=1+strlen(Ft),ct=dt;default:if(Tt<1){if(gt==123)--Tt;else if(gt==125&&Tt++==0&&prev()==125)continue}switch(Ft+=from(gt),gt*Tt){case 38:mt=it>0?1:(Ft+="\f",-1);break;case 44:_[rt++]=(strlen(Ft)-1)*mt,mt=1;break;case 64:peek()===45&&(Ft+=delimit(next())),st=peek(),it=ot=strlen(xt=Ft+=identifier(caret())),gt++;break;case 45:dt===45&&strlen(Ft)==2&&(Tt=0)}}return h}function ruleset(e,o,s,a,c,h,g,_,et,rt,it,ot){for(var st=c-1,ct=c===0?h:[""],dt=sizeof(ct),Tt=0,Et=0,mt=0;Tt<a;++Tt)for(var gt=0,xt=substr(e,st+1,st=abs(Et=g[Tt])),bt=e;gt<dt;++gt)(bt=trim(Et>0?ct[gt]+" "+xt:replace(xt,/&\f/g,ct[gt])))&&(et[mt++]=bt);return node(e,o,s,c===0?RULESET:_,et,rt,it,ot)}function comment(e,o,s,a){return node(e,o,s,COMMENT,from(char()),substr(e,2,-2),0,a)}function declaration(e,o,s,a,c){return node(e,o,s,DECLARATION,substr(e,0,a),substr(e,a+1,-1),a,c)}function serialize(e,o){for(var s="",a=0;a<e.length;a++)s+=o(e[a],a,e,o)||"";return s}function stringify(e,o,s,a){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,a)+"}";case RULESET:if(!strlen(e.value=e.props.join(",")))return""}return strlen(s=serialize(e.children,a))?e.return=e.value+"{"+s+"}":""}var nativeKeys=overArg(Object.keys,Object),objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var o=[];for(var s in Object(e))hasOwnProperty$1.call(e,s)&&s!="constructor"&&o.push(s);return o}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),WeakMap$1=getNative(root,"WeakMap"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(e){var o=baseGetTag(e),s=o==objectTag?e.constructor:void 0,a=s?toSource(s):"";if(a)switch(a){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return o});const getTag$1=getTag;var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty$1(e){if(e==null)return!0;if(isArrayLike(e)&&(isArray$1(e)||typeof e=="string"||typeof e.splice=="function"||isBuffer$1(e)||isTypedArray$1(e)||isArguments$1(e)))return!e.length;var o=getTag$1(e);if(o==mapTag||o==setTag)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var s in e)if(hasOwnProperty.call(e,s))return!1;return!0}const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},fatal:(...e)=>{}},setLogLevel$1=function(e="fatal"){let o=LEVELS.fatal;typeof e=="string"?(e=e.toLowerCase(),e in LEVELS&&(o=LEVELS[e])):typeof e=="number"&&(o=e),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},o<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),o<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),o<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),o<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),o<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),o<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=e=>`%c${dayjs().format("ss.SSS")} : ${e} : `,lineBreakRegex=/<br\s*\/?>/gi,getRows=e=>e?breakToPlaceholder(e).replace(/\\n/g,"#br#").split("#br#"):[""],setupDompurifyHooksIfNotSetup=(()=>{let e=!1;return()=>{e||(setupDompurifyHooks(),e=!0)}})();function setupDompurifyHooks(){const e="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",o=>{o.tagName==="A"&&o.hasAttribute("target")&&o.setAttribute(e,o.getAttribute("target")||"")}),purify.addHook("afterSanitizeAttributes",o=>{o.tagName==="A"&&o.hasAttribute(e)&&(o.setAttribute("target",o.getAttribute(e)||""),o.removeAttribute(e),o.getAttribute("target")==="_blank"&&o.setAttribute("rel","noopener"))})}const removeScript=e=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(e)),sanitizeMore=(e,o)=>{var s;if(((s=o.flowchart)==null?void 0:s.htmlLabels)!==!1){const a=o.securityLevel;a==="antiscript"||a==="strict"?e=removeScript(e):a!=="loose"&&(e=breakToPlaceholder(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=placeholderToBreak(e))}return e},sanitizeText$2=(e,o)=>e&&(o.dompurifyConfig?e=purify.sanitize(sanitizeMore(e,o),o.dompurifyConfig).toString():e=purify.sanitize(sanitizeMore(e,o),{FORBID_TAGS:["style"]}).toString(),e),sanitizeTextOrArray=(e,o)=>typeof e=="string"?sanitizeText$2(e,o):e.flat().map(s=>sanitizeText$2(s,o)),hasBreaks=e=>lineBreakRegex.test(e),splitBreaks=e=>e.split(lineBreakRegex),placeholderToBreak=e=>e.replace(/#br#/g,"<br/>"),breakToPlaceholder=e=>e.replace(lineBreakRegex,"#br#"),getUrl=e=>{let o="";return e&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replaceAll(/\(/g,"\\("),o=o.replaceAll(/\)/g,"\\)")),o},evaluate=e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),getMax=function(...e){const o=e.filter(s=>!isNaN(s));return Math.max(...o)},getMin=function(...e){const o=e.filter(s=>!isNaN(s));return Math.min(...o)},parseGenericTypes=function(e){const o=e.split(/(,)/),s=[];for(let a=0;a<o.length;a++){let c=o[a];if(c===","&&a>0&&a+1<o.length){const h=o[a-1],g=o[a+1];shouldCombineSets(h,g)&&(c=h+","+g,a++,s.pop())}s.push(processSet(c))}return s.join("")},countOccurrence=(e,o)=>Math.max(0,e.split(o).length-1),shouldCombineSets=(e,o)=>{const s=countOccurrence(e,"~"),a=countOccurrence(o,"~");return s===1&&a===1},processSet=e=>{const o=countOccurrence(e,"~");let s=!1;if(o<=1)return e;o%2!==0&&e.startsWith("~")&&(e=e.substring(1),s=!0);const a=[...e];let c=a.indexOf("~"),h=a.lastIndexOf("~");for(;c!==-1&&h!==-1&&c!==h;)a[c]="<",a[h]=">",c=a.indexOf("~"),h=a.lastIndexOf("~");return s&&a.unshift("~"),a.join("")},isMathMLSupported=()=>window.MathMLElement!==void 0,katexRegex=/\$\$(.*)\$\$/g,hasKatex=e=>{var o;return(((o=e.match(katexRegex))==null?void 0:o.length)??0)>0},calculateMathMLDimensions=async(e,o)=>{e=await renderKatex(e,o);const s=document.createElement("div");s.innerHTML=e,s.id="katex-temp",s.style.visibility="hidden",s.style.position="absolute",s.style.top="0";const a=document.querySelector("body");a==null||a.insertAdjacentElement("beforeend",s);const c={width:s.clientWidth,height:s.clientHeight};return s.remove(),c},renderKatex=async(e,o)=>{if(!hasKatex(e))return e;if(!isMathMLSupported()&&!o.legacyMathML)return e.replace(katexRegex,"MathML is unsupported in this environment.");const{default:s}=await __vitePreload(()=>import("./katex-BXKwa1Um.js").then(a=>a.k),[]);return e.split(lineBreakRegex).map(a=>hasKatex(a)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${a}
            </div>
          `:`<div>${a}</div>`).join("").replace(katexRegex,(a,c)=>s.renderToString(c,{throwOnError:!0,displayMode:!0,output:isMathMLSupported()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},common$1={getRows,sanitizeText:sanitizeText$2,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},mkBorder=(e,o)=>o?adjust(e,{s:-40,l:10}):adjust(e,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";let Theme$4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var o,s,a,c,h,g,_,et,rt,it,ot;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScale"+ct]=darken(this["cScale"+ct],75);else for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScale"+ct]=darken(this["cScale"+ct],25);for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScaleInv"+ct]=this["cScaleInv"+ct]||invert(this["cScale"+ct]);for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this.darkMode?this["cScalePeer"+ct]=this["cScalePeer"+ct]||lighten(this["cScale"+ct],10):this["cScalePeer"+ct]=this["cScalePeer"+ct]||darken(this["cScale"+ct],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let ct=0;ct<this.THEME_COLOR_LIMIT;ct++)this["cScaleLabel"+ct]=this["cScaleLabel"+ct]||this.scaleLabelColor;const st=this.darkMode?-4:-1;for(let ct=0;ct<5;ct++)this["surface"+ct]=this["surface"+ct]||adjust(this.mainBkg,{h:180,s:-15,l:st*(5+ct*3)}),this["surfacePeer"+ct]=this["surfacePeer"+ct]||adjust(this.mainBkg,{h:180,s:-15,l:st*(8+ct*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((o=this.xyChart)==null?void 0:o.backgroundColor)||this.background,titleColor:((s=this.xyChart)==null?void 0:s.titleColor)||this.primaryTextColor,xAxisTitleColor:((a=this.xyChart)==null?void 0:a.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((c=this.xyChart)==null?void 0:c.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((h=this.xyChart)==null?void 0:h.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((g=this.xyChart)==null?void 0:g.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((_=this.xyChart)==null?void 0:_.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((et=this.xyChart)==null?void 0:et.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((rt=this.xyChart)==null?void 0:rt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((it=this.xyChart)==null?void 0:it.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ot=this.xyChart)==null?void 0:ot.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(o){if(typeof o!="object"){this.updateColors();return}const s=Object.keys(o);s.forEach(a=>{this[a]=o[a]}),this.updateColors(),s.forEach(a=>{this[a]=o[a]})}};const getThemeVariables$4=e=>{const o=new Theme$4;return o.calculate(e),o};let Theme$3=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var o,s,a,c,h,g,_,et,rt,it,ot;this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleInv"+st]=this["cScaleInv"+st]||invert(this["cScale"+st]);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScalePeer"+st]=this["cScalePeer"+st]||lighten(this["cScale"+st],10);for(let st=0;st<5;st++)this["surface"+st]=this["surface"+st]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+st*4)}),this["surfacePeer"+st]=this["surfacePeer"+st]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+st*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleLabel"+st]=this["cScaleLabel"+st]||this.scaleLabelColor;for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["pie"+st]=this["cScale"+st];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((o=this.xyChart)==null?void 0:o.backgroundColor)||this.background,titleColor:((s=this.xyChart)==null?void 0:s.titleColor)||this.primaryTextColor,xAxisTitleColor:((a=this.xyChart)==null?void 0:a.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((c=this.xyChart)==null?void 0:c.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((h=this.xyChart)==null?void 0:h.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((g=this.xyChart)==null?void 0:g.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((_=this.xyChart)==null?void 0:_.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((et=this.xyChart)==null?void 0:et.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((rt=this.xyChart)==null?void 0:rt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((it=this.xyChart)==null?void 0:it.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ot=this.xyChart)==null?void 0:ot.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2)}calculate(o){if(typeof o!="object"){this.updateColors();return}const s=Object.keys(o);s.forEach(a=>{this[a]=o[a]}),this.updateColors(),s.forEach(a=>{this[a]=o[a]})}};const getThemeVariables$3=e=>{const o=new Theme$3;return o.calculate(e),o};let Theme$2=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var o,s,a,c,h,g,_,et,rt,it,ot;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScale"+st]=darken(this["cScale"+st],10),this["cScalePeer"+st]=this["cScalePeer"+st]||darken(this["cScale"+st],25);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleInv"+st]=this["cScaleInv"+st]||adjust(this["cScale"+st],{h:180});for(let st=0;st<5;st++)this["surface"+st]=this["surface"+st]||adjust(this.mainBkg,{h:30,l:-(5+st*5)}),this["surfacePeer"+st]=this["surfacePeer"+st]||adjust(this.mainBkg,{h:30,l:-(7+st*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleLabel"+st]=this["cScaleLabel"+st]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((o=this.xyChart)==null?void 0:o.backgroundColor)||this.background,titleColor:((s=this.xyChart)==null?void 0:s.titleColor)||this.primaryTextColor,xAxisTitleColor:((a=this.xyChart)==null?void 0:a.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((c=this.xyChart)==null?void 0:c.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((h=this.xyChart)==null?void 0:h.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((g=this.xyChart)==null?void 0:g.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((_=this.xyChart)==null?void 0:_.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((et=this.xyChart)==null?void 0:et.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((rt=this.xyChart)==null?void 0:rt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((it=this.xyChart)==null?void 0:it.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ot=this.xyChart)==null?void 0:ot.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(o){if(typeof o!="object"){this.updateColors();return}const s=Object.keys(o);s.forEach(a=>{this[a]=o[a]}),this.updateColors(),s.forEach(a=>{this[a]=o[a]})}};const getThemeVariables$2=e=>{const o=new Theme$2;return o.calculate(e),o};let Theme$1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var o,s,a,c,h,g,_,et,rt,it,ot;this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScale"+st]=darken(this["cScale"+st],10),this["cScalePeer"+st]=this["cScalePeer"+st]||darken(this["cScale"+st],25);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleInv"+st]=this["cScaleInv"+st]||adjust(this["cScale"+st],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleLabel"+st]=this["cScaleLabel"+st]||this.scaleLabelColor;for(let st=0;st<5;st++)this["surface"+st]=this["surface"+st]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+st*5)}),this["surfacePeer"+st]=this["surfacePeer"+st]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+st*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((o=this.xyChart)==null?void 0:o.backgroundColor)||this.background,titleColor:((s=this.xyChart)==null?void 0:s.titleColor)||this.primaryTextColor,xAxisTitleColor:((a=this.xyChart)==null?void 0:a.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((c=this.xyChart)==null?void 0:c.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((h=this.xyChart)==null?void 0:h.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((g=this.xyChart)==null?void 0:g.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((_=this.xyChart)==null?void 0:_.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((et=this.xyChart)==null?void 0:et.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((rt=this.xyChart)==null?void 0:rt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((it=this.xyChart)==null?void 0:it.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ot=this.xyChart)==null?void 0:ot.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(o){if(typeof o!="object"){this.updateColors();return}const s=Object.keys(o);s.forEach(a=>{this[a]=o[a]}),this.updateColors(),s.forEach(a=>{this[a]=o[a]})}};const getThemeVariables$1=e=>{const o=new Theme$1;return o.calculate(e),o};class Theme5{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var o,s,a,c,h,g,_,et,rt,it,ot;this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleInv"+st]=this["cScaleInv"+st]||invert(this["cScale"+st]);for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this.darkMode?this["cScalePeer"+st]=this["cScalePeer"+st]||lighten(this["cScale"+st],10):this["cScalePeer"+st]=this["cScalePeer"+st]||darken(this["cScale"+st],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["cScaleLabel"+st]=this["cScaleLabel"+st]||this.scaleLabelColor;for(let st=0;st<5;st++)this["surface"+st]=this["surface"+st]||adjust(this.mainBkg,{l:-(5+st*5)}),this["surfacePeer"+st]=this["surfacePeer"+st]||adjust(this.mainBkg,{l:-(8+st*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let st=0;st<this.THEME_COLOR_LIMIT;st++)this["pie"+st]=this["cScale"+st];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((o=this.xyChart)==null?void 0:o.backgroundColor)||this.background,titleColor:((s=this.xyChart)==null?void 0:s.titleColor)||this.primaryTextColor,xAxisTitleColor:((a=this.xyChart)==null?void 0:a.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((c=this.xyChart)==null?void 0:c.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((h=this.xyChart)==null?void 0:h.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((g=this.xyChart)==null?void 0:g.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((_=this.xyChart)==null?void 0:_.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((et=this.xyChart)==null?void 0:et.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((rt=this.xyChart)==null?void 0:rt.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((it=this.xyChart)==null?void 0:it.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ot=this.xyChart)==null?void 0:ot.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(o){if(typeof o!="object"){this.updateColors();return}const s=Object.keys(o);s.forEach(a=>{this[a]=o[a]}),this.updateColors(),s.forEach(a=>{this[a]=o[a]})}}const getThemeVariables=e=>{const o=new Theme5;return o.calculate(e),o},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},defaultConfigJson={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},config={...defaultConfigJson,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:theme.default.getThemeVariables(),sequence:{...defaultConfigJson.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...defaultConfigJson.gantt,tickInterval:void 0,useWidth:void 0},c4:{...defaultConfigJson.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...defaultConfigJson.pie,useWidth:984},xyChart:{...defaultConfigJson.xyChart,useWidth:void 0},requirement:{...defaultConfigJson.requirement,useWidth:void 0},gitGraph:{...defaultConfigJson.gitGraph,useMaxWidth:!1},sankey:{...defaultConfigJson.sankey,useMaxWidth:!1}},keyify=(e,o="")=>Object.keys(e).reduce((s,a)=>Array.isArray(e[a])?s:typeof e[a]=="object"&&e[a]!==null?[...s,o+a,...keyify(e[a],"")]:[...s,o+a],[]),configKeys=new Set(keyify(config,"")),defaultConfig$2=config,sanitizeDirective=e=>{if(log$1.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(o=>sanitizeDirective(o));return}for(const o of Object.keys(e)){if(log$1.debug("Checking key",o),o.startsWith("__")||o.includes("proto")||o.includes("constr")||!configKeys.has(o)||e[o]==null){log$1.debug("sanitize deleting key: ",o),delete e[o];continue}if(typeof e[o]=="object"){log$1.debug("sanitizing object",o),sanitizeDirective(e[o]);continue}const s=["themeCSS","fontFamily","altFontFamily"];for(const a of s)o.includes(a)&&(log$1.debug("sanitizing css option",o),e[o]=sanitizeCss(e[o]))}if(e.themeVariables)for(const o of Object.keys(e.themeVariables)){const s=e.themeVariables[o];s!=null&&s.match&&!s.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[o]="")}log$1.debug("After sanitization",e)}},sanitizeCss=e=>{let o=0,s=0;for(const a of e){if(o<s)return"{ /* ERROR: Unbalanced CSS */ }";a==="{"?o++:a==="}"&&s++}return o!==s?"{ /* ERROR: Unbalanced CSS */ }":e},frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm;class UnknownDiagramError extends Error{constructor(o){super(o),this.name="UnknownDiagramError"}}const detectors={},detectType=function(e,o){e=e.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[s,{detector:a}]of Object.entries(detectors))if(a(e,o))return s;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${e}`)},registerLazyLoadedDiagrams=(...e)=>{for(const{id:o,detector:s,loader:a}of e)addDetector(o,s,a)},addDetector=(e,o,s)=>{detectors[e]?log$1.error(`Detector with key ${e} already exists`):detectors[e]={detector:o,loader:s},log$1.debug(`Detector with key ${e} added${s?" with loader":""}`)},getDiagramLoader=e=>detectors[e].loader,assignWithDepth=(e,o,{depth:s=2,clobber:a=!1}={})=>{const c={depth:s,clobber:a};return Array.isArray(o)&&!Array.isArray(e)?(o.forEach(h=>assignWithDepth(e,h,c)),e):Array.isArray(o)&&Array.isArray(e)?(o.forEach(h=>{e.includes(h)||e.push(h)}),e):e===void 0||s<=0?e!=null&&typeof e=="object"&&typeof o=="object"?Object.assign(e,o):o:(o!==void 0&&typeof e=="object"&&typeof o=="object"&&Object.keys(o).forEach(h=>{typeof o[h]=="object"&&(e[h]===void 0||typeof e[h]=="object")?(e[h]===void 0&&(e[h]=Array.isArray(o[h])?[]:{}),e[h]=assignWithDepth(e[h],o[h],{depth:s-1,clobber:a})):(a||typeof e[h]!="object"&&typeof o[h]!="object")&&(e[h]=o[h])}),e)},assignWithDepth$1=assignWithDepth,ZERO_WIDTH_SPACE="​",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(e,o){const s=detectDirective(e,/(?:init\b)|(?:initialize\b)/);let a={};if(Array.isArray(s)){const g=s.map(_=>_.args);sanitizeDirective(g),a=assignWithDepth$1(a,[...g])}else a=s.args;if(!a)return;let c=detectType(e,o);const h="config";return a[h]!==void 0&&(c==="flowchart-v2"&&(c="flowchart"),a[c]=a[h],delete a[h]),a},detectDirective=function(e,o=null){try{const s=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(s,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${o!==null?" type:"+o:""} based on the text:${e}`);let a;const c=[];for(;(a=directiveRegex.exec(e))!==null;)if(a.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,a&&!o||o&&a[1]&&a[1].match(o)||o&&a[2]&&a[2].match(o)){const h=a[1]?a[1]:a[2],g=a[3]?a[3].trim():a[4]?JSON.parse(a[4].trim()):null;c.push({type:h,args:g})}return c.length===0?{type:e,args:null}:c.length===1?c[0]:c}catch(s){return log$1.error(`ERROR: ${s.message} - Unable to parse directive type: '${o}' based on the text: '${e}'`),{type:void 0,args:null}}},removeDirectives=function(e){return e.replace(directiveRegex,"")},isSubstringInArray=function(e,o){for(const[s,a]of o.entries())if(a.match(e))return s;return-1};function interpolateToCurve(e,o){if(!e)return o;const s=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return d3CurveTypes[s]??o}function formatUrl(e,o){const s=e.trim();if(s)return o.securityLevel!=="loose"?dist$1.sanitizeUrl(s):s}const runFunc=(e,...o)=>{const s=e.split("."),a=s.length-1,c=s[a];let h=window;for(let g=0;g<a;g++)if(h=h[s[g]],!h){log$1.error(`Function name: ${e} not found in window`);return}h[c](...o)};function distance(e,o){return!e||!o?0:Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2))}function traverseEdge(e){let o,s=0;e.forEach(c=>{s+=distance(c,o),o=c});const a=s/2;return calculatePoint(e,a)}function calcLabelPosition(e){return e.length===1?e[0]:traverseEdge(e)}const roundNumber=(e,o=2)=>{const s=Math.pow(10,o);return Math.round(e*s)/s},calculatePoint=(e,o)=>{let s,a=o;for(const c of e){if(s){const h=distance(c,s);if(h<a)a-=h;else{const g=a/h;if(g<=0)return s;if(g>=1)return{x:c.x,y:c.y};if(g>0&&g<1)return{x:roundNumber((1-g)*s.x+g*c.x,5),y:roundNumber((1-g)*s.y+g*c.y,5)}}}s=c}throw new Error("Could not find a suitable point for the given distance")},calcCardinalityPosition=(e,o,s)=>{log$1.info(`our points ${JSON.stringify(o)}`),o[0]!==s&&(o=o.reverse());const c=calculatePoint(o,25),h=e?10:5,g=Math.atan2(o[0].y-c.y,o[0].x-c.x),_={x:0,y:0};return _.x=Math.sin(g)*h+(o[0].x+c.x)/2,_.y=-Math.cos(g)*h+(o[0].y+c.y)/2,_};function calcTerminalLabelPosition(e,o,s){const a=structuredClone(s);log$1.info("our points",a),o!=="start_left"&&o!=="start_right"&&a.reverse();const c=25+e,h=calculatePoint(a,c),g=10+e*.5,_=Math.atan2(a[0].y-h.y,a[0].x-h.x),et={x:0,y:0};return o==="start_left"?(et.x=Math.sin(_+Math.PI)*g+(a[0].x+h.x)/2,et.y=-Math.cos(_+Math.PI)*g+(a[0].y+h.y)/2):o==="end_right"?(et.x=Math.sin(_-Math.PI)*g+(a[0].x+h.x)/2-5,et.y=-Math.cos(_-Math.PI)*g+(a[0].y+h.y)/2-5):o==="end_left"?(et.x=Math.sin(_)*g+(a[0].x+h.x)/2-5,et.y=-Math.cos(_)*g+(a[0].y+h.y)/2-5):(et.x=Math.sin(_)*g+(a[0].x+h.x)/2,et.y=-Math.cos(_)*g+(a[0].y+h.y)/2),et}function getStylesFromArray(e){let o="",s="";for(const a of e)a!==void 0&&(a.startsWith("color:")||a.startsWith("text-align:")?s=s+a+";":o=o+a+";");return{style:o,labelStyle:s}}let cnt=0;const generateId=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeRandomHex(e){let o="";const s="0123456789abcdef",a=s.length;for(let c=0;c<e;c++)o+=s.charAt(Math.floor(Math.random()*a));return o}const random=e=>makeRandomHex(e.length),getTextObj=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},drawSimpleText=function(e,o){const s=o.text.replace(common$1.lineBreakRegex," "),[,a]=parseFontSize(o.fontSize),c=e.append("text");c.attr("x",o.x),c.attr("y",o.y),c.style("text-anchor",o.anchor),c.style("font-family",o.fontFamily),c.style("font-size",a),c.style("font-weight",o.fontWeight),c.attr("fill",o.fill),o.class!==void 0&&c.attr("class",o.class);const h=c.append("tspan");return h.attr("x",o.x+o.textMargin*2),h.attr("fill",o.fill),h.text(s),c},wrapLabel=memoize((e,o,s)=>{if(!e||(s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},s),common$1.lineBreakRegex.test(e)))return e;const a=e.split(" "),c=[];let h="";return a.forEach((g,_)=>{const et=calculateTextWidth(`${g} `,s),rt=calculateTextWidth(h,s);if(et>o){const{hyphenatedStrings:st,remainingWord:ct}=breakString(g,o,"-",s);c.push(h,...st),h=ct}else rt+et>=o?(c.push(h),h=g):h=[h,g].filter(Boolean).join(" ");_+1===a.length&&c.push(h)}),c.filter(g=>g!=="").join(s.joinWith)},(e,o,s)=>`${e}${o}${s.fontSize}${s.fontWeight}${s.fontFamily}${s.joinWith}`),breakString=memoize((e,o,s="-",a)=>{a=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},a);const c=[...e],h=[];let g="";return c.forEach((_,et)=>{const rt=`${g}${_}`;if(calculateTextWidth(rt,a)>=o){const ot=et+1,st=c.length===ot,ct=`${rt}${s}`;h.push(st?rt:ct),g=""}else g=rt}),{hyphenatedStrings:h,remainingWord:g}},(e,o,s="-",a)=>`${e}${o}${s}${a.fontSize}${a.fontWeight}${a.fontFamily}`);function calculateTextHeight(e,o){return calculateTextDimensions(e,o).height}function calculateTextWidth(e,o){return calculateTextDimensions(e,o).width}const calculateTextDimensions=memoize((e,o)=>{const{fontSize:s=12,fontFamily:a="Arial",fontWeight:c=400}=o;if(!e)return{width:0,height:0};const[,h]=parseFontSize(s),g=["sans-serif",a],_=e.split(common$1.lineBreakRegex),et=[],rt=select$1("body");if(!rt.remove)return{width:0,height:0,lineHeight:0};const it=rt.append("svg");for(const st of g){let ct=0;const dt={width:0,height:0,lineHeight:0};for(const Tt of _){const Et=getTextObj();Et.text=Tt||ZERO_WIDTH_SPACE;const mt=drawSimpleText(it,Et).style("font-size",h).style("font-weight",c).style("font-family",st),gt=(mt._groups||mt)[0][0].getBBox();if(gt.width===0&&gt.height===0)throw new Error("svg element not in render tree");dt.width=Math.round(Math.max(dt.width,gt.width)),ct=Math.round(gt.height),dt.height+=ct,dt.lineHeight=Math.round(Math.max(dt.lineHeight,ct))}et.push(dt)}it.remove();const ot=isNaN(et[1].height)||isNaN(et[1].width)||isNaN(et[1].lineHeight)||et[0].height>et[1].height&&et[0].width>et[1].width&&et[0].lineHeight>et[1].lineHeight?0:1;return et[ot]},(e,o)=>`${e}${o.fontSize}${o.fontWeight}${o.fontFamily}`);class InitIDGenerator{constructor(o=!1,s){this.count=0,this.count=s?s.length:0,this.next=o?()=>this.count++:()=>Date.now()}}let decoder;const entityDecode=function(e){return decoder=decoder||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=e,unescape(decoder.textContent)};function isDetailedError(e){return"str"in e}const insertTitle=(e,o,s,a)=>{var c;if(!a)return;const h=(c=e.node())==null?void 0:c.getBBox();h&&e.append("text").text(a).attr("x",h.x+h.width/2).attr("y",-s).attr("class",o)},parseFontSize=e=>{if(typeof e=="number")return[e,e+"px"];const o=parseInt(e??"",10);return Number.isNaN(o)?[void 0,void 0]:e===String(o)?[o,e+"px"]:[o,e]};function cleanAndMerge(e,o){return merge$1({},e,o)}const utils$1={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},encodeEntities=function(e){let o=e;return o=o.replace(/style.*:\S*#.*;/g,function(s){return s.substring(0,s.length-1)}),o=o.replace(/classDef.*:\S*#.*;/g,function(s){return s.substring(0,s.length-1)}),o=o.replace(/#\w+;/g,function(s){const a=s.substring(1,s.length-1);return/^\+?\d+$/.test(a)?"ﬂ°°"+a+"¶ß":"ﬂ°"+a+"¶ß"}),o},decodeEntities=function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},version$5="10.9.1",defaultConfig$1=Object.freeze(defaultConfig$2);let siteConfig=assignWithDepth$1({},defaultConfig$1),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig$1);const updateCurrentConfig=(e,o)=>{let s=assignWithDepth$1({},e),a={};for(const c of o)sanitize(c),a=assignWithDepth$1(a,c);if(s=assignWithDepth$1(s,a),a.theme&&a.theme in theme){const c=assignWithDepth$1({},configFromInitialize),h=assignWithDepth$1(c.themeVariables||{},a.themeVariables);s.theme&&s.theme in theme&&(s.themeVariables=theme[s.theme].getThemeVariables(h))}return currentConfig=s,checkConfig(currentConfig),currentConfig},setSiteConfig=e=>(siteConfig=assignWithDepth$1({},defaultConfig$1),siteConfig=assignWithDepth$1(siteConfig,e),e.theme&&theme[e.theme]&&(siteConfig.themeVariables=theme[e.theme].getThemeVariables(e.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=e=>{configFromInitialize=assignWithDepth$1({},e)},updateSiteConfig=e=>(siteConfig=assignWithDepth$1(siteConfig,e),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig$1=e=>(checkConfig(e),assignWithDepth$1(currentConfig,e),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=e=>{e&&(["secure",...siteConfig.secure??[]].forEach(o=>{Object.hasOwn(e,o)&&(log$1.debug(`Denied attempt to modify a secure key ${o}`,e[o]),delete e[o])}),Object.keys(e).forEach(o=>{o.startsWith("__")&&delete e[o]}),Object.keys(e).forEach(o=>{typeof e[o]=="string"&&(e[o].includes("<")||e[o].includes(">")||e[o].includes("url(data:"))&&delete e[o],typeof e[o]=="object"&&sanitize(e[o])}))},addDirective=e=>{sanitizeDirective(e),e.fontFamily&&(!e.themeVariables||!e.themeVariables.fontFamily)&&(e.themeVariables={fontFamily:e.fontFamily}),directives.push(e),updateCurrentConfig(siteConfig,directives)},reset=(e=siteConfig)=>{directives=[],updateCurrentConfig(e,directives)},ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=e=>{issuedWarnings[e]||(log$1.warn(ConfigWarning[e]),issuedWarnings[e]=!0)},checkConfig=e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},id$l="c4",detector$l=e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),loader$m=async()=>{const{diagram:e}=await __vitePreload(()=>import("./c4Diagram-ae766693-Dwg8Q5GU.js"),__vite__mapDeps([0,1]));return{id:id$l,diagram:e}},plugin$j={id:id$l,detector:detector$l,loader:loader$m},c4=plugin$j,id$k="flowchart",detector$k=(e,o)=>{var s,a;return((s=o==null?void 0:o.flowchart)==null?void 0:s.defaultRenderer)==="dagre-wrapper"||((a=o==null?void 0:o.flowchart)==null?void 0:a.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},loader$l=async()=>{const{diagram:e}=await __vitePreload(()=>import("./flowDiagram-b222e15a-CxfHtri-.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:id$k,diagram:e}},plugin$i={id:id$k,detector:detector$k,loader:loader$l},flowchart=plugin$i,id$j="flowchart-v2",detector$j=(e,o)=>{var s,a,c;return((s=o==null?void 0:o.flowchart)==null?void 0:s.defaultRenderer)==="dagre-d3"||((a=o==null?void 0:o.flowchart)==null?void 0:a.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)&&((c=o==null?void 0:o.flowchart)==null?void 0:c.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)},loader$k=async()=>{const{diagram:e}=await __vitePreload(()=>import("./flowDiagram-v2-13329dc7-C2IGavW3.js"),__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:id$j,diagram:e}},plugin$h={id:id$j,detector:detector$j,loader:loader$k},flowchartV2=plugin$h,id$i="er",detector$i=e=>/^\s*erDiagram/.test(e),loader$j=async()=>{const{diagram:e}=await __vitePreload(()=>import("./erDiagram-09d1c15f-QKKn_bPB.js"),__vite__mapDeps([16,4,5,11,12,13]));return{id:id$i,diagram:e}},plugin$g={id:id$i,detector:detector$i,loader:loader$j},er=plugin$g,id$h="gitGraph",detector$h=e=>/^\s*gitGraph/.test(e),loader$i=async()=>{const{diagram:e}=await __vitePreload(()=>import("./gitGraphDiagram-942e62fe-CsQ47Ufj.js"),[]);return{id:id$h,diagram:e}},plugin$f={id:id$h,detector:detector$h,loader:loader$i},git=plugin$f,id$g="gantt",detector$g=e=>/^\s*gantt/.test(e),loader$h=async()=>{const{diagram:e}=await __vitePreload(()=>import("./ganttDiagram-b62c793e-tFkzFPIK.js"),__vite__mapDeps([17,18,19]));return{id:id$g,diagram:e}},plugin$e={id:id$g,detector:detector$g,loader:loader$h},gantt=plugin$e,id$f="info",detector$f=e=>/^\s*info/.test(e),loader$g=async()=>{const{diagram:e}=await __vitePreload(()=>import("./infoDiagram-94cd232f-DNOV7tEJ.js"),[]);return{id:id$f,diagram:e}},info$1={id:id$f,detector:detector$f,loader:loader$g},id$e="pie",detector$e=e=>/^\s*pie/.test(e),loader$f=async()=>{const{diagram:e}=await __vitePreload(()=>import("./pieDiagram-bb1d19e5-DwTBe4PB.js"),__vite__mapDeps([20,21,13,22,19,12]));return{id:id$e,diagram:e}},pie={id:id$e,detector:detector$e,loader:loader$f},id$d="quadrantChart",detector$d=e=>/^\s*quadrantChart/.test(e),loader$e=async()=>{const{diagram:e}=await __vitePreload(()=>import("./quadrantDiagram-c759a472-D4ZdawKt.js"),__vite__mapDeps([23,18,19]));return{id:id$d,diagram:e}},plugin$d={id:id$d,detector:detector$d,loader:loader$e},quadrantChart=plugin$d,id$c="xychart",detector$c=e=>/^\s*xychart-beta/.test(e),loader$d=async()=>{const{diagram:e}=await __vitePreload(()=>import("./xychartDiagram-f11f50a6-C066SYNd.js"),__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:id$c,diagram:e}},plugin$c={id:id$c,detector:detector$c,loader:loader$d},xychart=plugin$c,id$b="requirement",detector$b=e=>/^\s*requirement(Diagram)?/.test(e),loader$c=async()=>{const{diagram:e}=await __vitePreload(()=>import("./requirementDiagram-87253d64-DOvPnxtl.js"),__vite__mapDeps([25,4,5,11,12,13]));return{id:id$b,diagram:e}},plugin$b={id:id$b,detector:detector$b,loader:loader$c},requirement=plugin$b,id$a="sequence",detector$a=e=>/^\s*sequenceDiagram/.test(e),loader$b=async()=>{const{diagram:e}=await __vitePreload(()=>import("./sequenceDiagram-6894f283-Ch3PCtC_.js"),__vite__mapDeps([26,1]));return{id:id$a,diagram:e}},plugin$a={id:id$a,detector:detector$a,loader:loader$b},sequence=plugin$a,id$9="class",detector$9=(e,o)=>{var s;return((s=o==null?void 0:o.class)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},loader$a=async()=>{const{diagram:e}=await __vitePreload(()=>import("./classDiagram-fb54d2a0-B5q5duhY.js"),__vite__mapDeps([27,28,4,5,11,12,13]));return{id:id$9,diagram:e}},plugin$9={id:id$9,detector:detector$9,loader:loader$a},classDiagram=plugin$9,id$8="classDiagram",detector$8=(e,o)=>{var s;return/^\s*classDiagram/.test(e)&&((s=o==null?void 0:o.class)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},loader$9=async()=>{const{diagram:e}=await __vitePreload(()=>import("./classDiagram-v2-a2b738ad-U1K8tetP.js"),__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:id$8,diagram:e}},plugin$8={id:id$8,detector:detector$8,loader:loader$9},classDiagramV2=plugin$8,id$7="state",detector$7=(e,o)=>{var s;return((s=o==null?void 0:o.state)==null?void 0:s.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},loader$8=async()=>{const{diagram:e}=await __vitePreload(()=>import("./stateDiagram-5dee940d-c7zfm5wz.js"),__vite__mapDeps([30,31,4,5,11,12,13]));return{id:id$7,diagram:e}},plugin$7={id:id$7,detector:detector$7,loader:loader$8},state=plugin$7,id$6="stateDiagram",detector$6=(e,o)=>{var s;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((s=o==null?void 0:o.state)==null?void 0:s.defaultRenderer)==="dagre-wrapper")},loader$7=async()=>{const{diagram:e}=await __vitePreload(()=>import("./stateDiagram-v2-1992cada-D89uL6--.js"),__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:id$6,diagram:e}},plugin$6={id:id$6,detector:detector$6,loader:loader$7},stateV2=plugin$6,id$5="journey",detector$5=e=>/^\s*journey/.test(e),loader$6=async()=>{const{diagram:e}=await __vitePreload(()=>import("./journeyDiagram-6625b456-4vusJEsQ.js"),__vite__mapDeps([33,1,21,13]));return{id:id$5,diagram:e}},plugin$5={id:id$5,detector:detector$5,loader:loader$6},journey=plugin$5,d3Attrs=function(e,o){for(let s of o)e.attr(s[0],s[1])},calculateSvgSizeAttrs=function(e,o,s){let a=new Map;return s?(a.set("width","100%"),a.set("style",`max-width: ${o}px;`)):(a.set("height",e),a.set("width",o)),a},configureSvgSize=function(e,o,s,a){const c=calculateSvgSizeAttrs(o,s,a);d3Attrs(e,c)},setupGraphViewbox$1=function(e,o,s,a){const c=o.node().getBBox(),h=c.width,g=c.height;log$1.info(`SVG bounds: ${h}x${g}`,c);let _=0,et=0;log$1.info(`Graph bounds: ${_}x${et}`,e),_=h+s*2,et=g+s*2,log$1.info(`Calculated bounds: ${_}x${et}`),configureSvgSize(o,et,_,a);const rt=`${c.x-s} ${c.y-s} ${c.width+2*s} ${c.height+2*s}`;o.attr("viewBox",rt)},themes={},getStyles=(e,o,s)=>{let a="";return e in themes&&themes[e]?a=themes[e](s):log$1.warn(`No theme found for ${e}`),` & {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
    fill: ${s.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${s.errorBkgColor};
  }
  & .error-text {
    fill: ${s.errorTextColor};
    stroke: ${s.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${s.lineColor};
    stroke: ${s.lineColor};
  }
  & .marker.cross {
    stroke: ${s.lineColor};
  }

  & svg {
    font-family: ${s.fontFamily};
    font-size: ${s.fontSize};
  }

  ${a}

  ${o}
`},addStylesForDiagram=(e,o)=>{o!==void 0&&(themes[e]=o)},getStyles$1=getStyles;let accTitle="",diagramTitle="",accDescription="";const sanitizeText$1=e=>sanitizeText$2(e,getConfig$1()),clear=()=>{accTitle="",accDescription="",diagramTitle=""},setAccTitle=e=>{accTitle=sanitizeText$1(e).replace(/^\s+/g,"")},getAccTitle=()=>accTitle,setAccDescription=e=>{accDescription=sanitizeText$1(e).replace(/\n\s+/g,`
`)},getAccDescription=()=>accDescription,setDiagramTitle=e=>{diagramTitle=sanitizeText$1(e)},getDiagramTitle=()=>diagramTitle,commonDb=Object.freeze(Object.defineProperty({__proto__:null,clear,getAccDescription,getAccTitle,getDiagramTitle,setAccDescription,setAccTitle,setDiagramTitle},Symbol.toStringTag,{value:"Module"})),log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,setConfig=setConfig$1,defaultConfig=defaultConfig$1,sanitizeText=e=>sanitizeText$2(e,getConfig()),setupGraphViewbox=setupGraphViewbox$1,getCommonDb=()=>commonDb,diagrams={},registerDiagram=(e,o,s)=>{var a;if(diagrams[e])throw new Error(`Diagram ${e} already registered.`);diagrams[e]=o,s&&addDetector(e,s),addStylesForDiagram(e,o.styles),(a=o.injectUtils)==null||a.call(o,log,setLogLevel,getConfig,sanitizeText,setupGraphViewbox,getCommonDb(),()=>{})},getDiagram=e=>{if(e in diagrams)return diagrams[e];throw new DiagramNotFoundError(e)};class DiagramNotFoundError extends Error{constructor(o){super(`Diagram ${o} not found.`)}}const selectSvgElement=e=>{var o;const{securityLevel:s}=getConfig();let a=select$1("body");if(s==="sandbox"){const g=((o=select$1(`#i${e}`).node())==null?void 0:o.contentDocument)??document;a=select$1(g.body)}return a.select(`#${e}`)},draw=(e,o,s)=>{log$1.debug(`rendering svg for syntax error
`);const a=selectSvgElement(o),c=a.append("g");a.attr("viewBox","0 0 2412 512"),configureSvgSize(a,100,512,!0),c.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),c.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),c.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),c.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),c.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),c.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),c.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),c.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${s}`)},renderer={draw},errorRenderer=renderer,diagram={db:{},renderer,parser:{parser:{yy:{}},parse:()=>{}}},errorDiagram=diagram,id$4="flowchart-elk",detector$4=(e,o)=>{var s;return!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&((s=o==null?void 0:o.flowchart)==null?void 0:s.defaultRenderer)==="elk")},loader$5=async()=>{const{diagram:e}=await __vitePreload(()=>import("./flowchart-elk-definition-ae0efee6-xN7Kk6MZ.js"),__vite__mapDeps([34,3,9,10,11,12,13]));return{id:id$4,diagram:e}},plugin$4={id:id$4,detector:detector$4,loader:loader$5},flowchartElk=plugin$4,id$3="timeline",detector$3=e=>/^\s*timeline/.test(e),loader$4=async()=>{const{diagram:e}=await __vitePreload(()=>import("./timeline-definition-bf702344-DO7vZPlw.js"),__vite__mapDeps([35,21,13]));return{id:id$3,diagram:e}},plugin$3={id:id$3,detector:detector$3,loader:loader$4},timeline=plugin$3,id$2="mindmap",detector$2=e=>/^\s*mindmap/.test(e),loader$3=async()=>{const{diagram:e}=await __vitePreload(()=>import("./mindmap-definition-307c710a-UvsZZN3m.js"),__vite__mapDeps([36,10]));return{id:id$2,diagram:e}},plugin$2={id:id$2,detector:detector$2,loader:loader$3},mindmap=plugin$2,id$1="sankey",detector$1=e=>/^\s*sankey-beta/.test(e),loader$2=async()=>{const{diagram:e}=await __vitePreload(()=>import("./sankeyDiagram-707fac0f-BbUVYT9e.js"),__vite__mapDeps([37,22,19,38]));return{id:id$1,diagram:e}},plugin$1={id:id$1,detector:detector$1,loader:loader$2},sankey=plugin$1,id$m="block",detector=e=>/^\s*block-beta/.test(e),loader$1=async()=>{const{diagram:e}=await __vitePreload(()=>import("./blockDiagram-9f4a6865-DYKo7kbD.js"),__vite__mapDeps([39,8,4,9,10,11,12,13,22,19,14,38]));return{id:id$m,diagram:e}},plugin={id:id$m,detector,loader:loader$1},block=plugin;let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram,e=>e.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},e=>e.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4,classDiagramV2,classDiagram,er,gantt,info$1,pie,requirement,sequence,flowchartElk,flowchartV2,flowchart,mindmap,timeline,git,stateV2,state,journey,quadrantChart,sankey,xychart,block))};class Diagram{constructor(o,s={}){this.text=o,this.metadata=s,this.type="graph",this.text=encodeEntities(o),this.text+=`
`;const a=getConfig$1();try{this.type=detectType(o,a)}catch(h){this.type="error",this.detectError=h}const c=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=c.db,this.renderer=c.renderer,this.parser=c.parser,this.parser.parser.yy=this.db,this.init=c.init,this.parse()}parse(){var o,s,a,c,h;if(this.detectError)throw this.detectError;(s=(o=this.db).clear)==null||s.call(o);const g=getConfig$1();(a=this.init)==null||a.call(this,g),this.metadata.title&&((h=(c=this.db).setDiagramTitle)==null||h.call(c,this.metadata.title)),this.parser.parse(this.text)}async render(o,s){await this.renderer.draw(this.text,o,s,this)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText$1=async(e,o={})=>{const s=detectType(e,getConfig$1());try{getDiagram(s)}catch{const c=getDiagramLoader(s);if(!c)throw new UnknownDiagramError(`Diagram ${s} not found.`);const{id:h,diagram:g}=await c();registerDiagram(h,g)}return new Diagram(e,o)};let interactionFunctions=[];const attachFunctions=()=>{interactionFunctions.forEach(e=>{e()}),interactionFunctions=[]},SVG_ROLE="graphics-document document";function setA11yDiagramInfo(e,o){e.attr("role",SVG_ROLE),o!==""&&e.attr("aria-roledescription",o)}function addSVGa11yTitleDescription(e,o,s,a){if(e.insert!==void 0){if(s){const c=`chart-desc-${a}`;e.attr("aria-describedby",c),e.insert("desc",":first-child").attr("id",c).text(s)}if(o){const c=`chart-title-${a}`;e.attr("aria-labelledby",c),e.insert("title",":first-child").attr("id",c).text(o)}}}const cleanupComments=e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(e){return typeof e>"u"||e===null}function isObject$1(e){return typeof e=="object"&&e!==null}function toArray(e){return Array.isArray(e)?e:isNothing(e)?[]:[e]}function extend(e,o){var s,a,c,h;if(o)for(h=Object.keys(o),s=0,a=h.length;s<a;s+=1)c=h[s],e[c]=o[c];return e}function repeat(e,o){var s="",a;for(a=0;a<o;a+=1)s+=e;return s}function isNegativeZero(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var isNothing_1=isNothing,isObject_1=isObject$1,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(e,o){var s="",a=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(s+='in "'+e.mark.name+'" '),s+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!o&&e.mark.snippet&&(s+=`

`+e.mark.snippet),a+" "+s):a}function YAMLException$1(e,o){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=o,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function(o){return this.name+": "+formatError(this,o)};var exception=YAMLException$1;function getLine(e,o,s,a,c){var h="",g="",_=Math.floor(c/2)-1;return a-o>_&&(h=" ... ",o=a-_+h.length),s-a>_&&(g=" ...",s=a+_-g.length),{str:h+e.slice(o,s).replace(/\t/g,"→")+g,pos:a-o+h.length}}function padStart(e,o){return common.repeat(" ",o-e.length)+e}function makeSnippet(e,o){if(o=Object.create(o||null),!e.buffer)return null;o.maxLength||(o.maxLength=79),typeof o.indent!="number"&&(o.indent=1),typeof o.linesBefore!="number"&&(o.linesBefore=3),typeof o.linesAfter!="number"&&(o.linesAfter=2);for(var s=/\r?\n|\r|\0/g,a=[0],c=[],h,g=-1;h=s.exec(e.buffer);)c.push(h.index),a.push(h.index+h[0].length),e.position<=h.index&&g<0&&(g=a.length-2);g<0&&(g=a.length-1);var _="",et,rt,it=Math.min(e.line+o.linesAfter,c.length).toString().length,ot=o.maxLength-(o.indent+it+3);for(et=1;et<=o.linesBefore&&!(g-et<0);et++)rt=getLine(e.buffer,a[g-et],c[g-et],e.position-(a[g]-a[g-et]),ot),_=common.repeat(" ",o.indent)+padStart((e.line-et+1).toString(),it)+" | "+rt.str+`
`+_;for(rt=getLine(e.buffer,a[g],c[g],e.position,ot),_+=common.repeat(" ",o.indent)+padStart((e.line+1).toString(),it)+" | "+rt.str+`
`,_+=common.repeat("-",o.indent+it+3+rt.pos)+`^
`,et=1;et<=o.linesAfter&&!(g+et>=c.length);et++)rt=getLine(e.buffer,a[g+et],c[g+et],e.position-(a[g]-a[g+et]),ot),_+=common.repeat(" ",o.indent)+padStart((e.line+et+1).toString(),it)+" | "+rt.str+`
`;return _.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(e){var o={};return e!==null&&Object.keys(e).forEach(function(s){e[s].forEach(function(a){o[String(a)]=s})}),o}function Type$1(e,o){if(o=o||{},Object.keys(o).forEach(function(s){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(s)===-1)throw new exception('Unknown option "'+s+'" is met in definition of "'+e+'" YAML type.')}),this.options=o,this.tag=e,this.kind=o.kind||null,this.resolve=o.resolve||function(){return!0},this.construct=o.construct||function(s){return s},this.instanceOf=o.instanceOf||null,this.predicate=o.predicate||null,this.represent=o.represent||null,this.representName=o.representName||null,this.defaultStyle=o.defaultStyle||null,this.multi=o.multi||!1,this.styleAliases=compileStyleAliases(o.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var type=Type$1;function compileList(e,o){var s=[];return e[o].forEach(function(a){var c=s.length;s.forEach(function(h,g){h.tag===a.tag&&h.kind===a.kind&&h.multi===a.multi&&(c=g)}),s[c]=a}),s}function compileMap(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},o,s;function a(c){c.multi?(e.multi[c.kind].push(c),e.multi.fallback.push(c)):e[c.kind][c.tag]=e.fallback[c.tag]=c}for(o=0,s=arguments.length;o<s;o+=1)arguments[o].forEach(a);return e}function Schema$1(e){return this.extend(e)}Schema$1.prototype.extend=function(o){var s=[],a=[];if(o instanceof type)a.push(o);else if(Array.isArray(o))a=a.concat(o);else if(o&&(Array.isArray(o.implicit)||Array.isArray(o.explicit)))o.implicit&&(s=s.concat(o.implicit)),o.explicit&&(a=a.concat(o.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(h){if(!(h instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(h.loadKind&&h.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(h.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),a.forEach(function(h){if(!(h instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var c=Object.create(Schema$1.prototype);return c.implicit=(this.implicit||[]).concat(s),c.explicit=(this.explicit||[]).concat(a),c.compiledImplicit=compileList(c,"implicit"),c.compiledExplicit=compileList(c,"explicit"),c.compiledTypeMap=compileMap(c.compiledImplicit,c.compiledExplicit),c};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(e){if(e===null)return!0;var o=e.length;return o===1&&e==="~"||o===4&&(e==="null"||e==="Null"||e==="NULL")}function constructYamlNull(){return null}function isNull(e){return e===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(e){if(e===null)return!1;var o=e.length;return o===4&&(e==="true"||e==="True"||e==="TRUE")||o===5&&(e==="false"||e==="False"||e==="FALSE")}function constructYamlBoolean(e){return e==="true"||e==="True"||e==="TRUE"}function isBoolean(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(e===null)return!1;var o=e.length,s=0,a=!1,c;if(!o)return!1;if(c=e[s],(c==="-"||c==="+")&&(c=e[++s]),c==="0"){if(s+1===o)return!0;if(c=e[++s],c==="b"){for(s++;s<o;s++)if(c=e[s],c!=="_"){if(c!=="0"&&c!=="1")return!1;a=!0}return a&&c!=="_"}if(c==="x"){for(s++;s<o;s++)if(c=e[s],c!=="_"){if(!isHexCode(e.charCodeAt(s)))return!1;a=!0}return a&&c!=="_"}if(c==="o"){for(s++;s<o;s++)if(c=e[s],c!=="_"){if(!isOctCode(e.charCodeAt(s)))return!1;a=!0}return a&&c!=="_"}}if(c==="_")return!1;for(;s<o;s++)if(c=e[s],c!=="_"){if(!isDecCode(e.charCodeAt(s)))return!1;a=!0}return!(!a||c==="_")}function constructYamlInteger(e){var o=e,s=1,a;if(o.indexOf("_")!==-1&&(o=o.replace(/_/g,"")),a=o[0],(a==="-"||a==="+")&&(a==="-"&&(s=-1),o=o.slice(1),a=o[0]),o==="0")return 0;if(a==="0"){if(o[1]==="b")return s*parseInt(o.slice(2),2);if(o[1]==="x")return s*parseInt(o.slice(2),16);if(o[1]==="o")return s*parseInt(o.slice(2),8)}return s*parseInt(o,10)}function isInteger$1(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!common.isNegativeZero(e)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger$1,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){return!(e===null||!YAML_FLOAT_PATTERN.test(e)||e[e.length-1]==="_")}function constructYamlFloat(e){var o,s;return o=e.replace(/_/g,"").toLowerCase(),s=o[0]==="-"?-1:1,"+-".indexOf(o[0])>=0&&(o=o.slice(1)),o===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:o===".nan"?NaN:s*parseFloat(o,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(e,o){var s;if(isNaN(e))switch(o){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(o){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(o){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(e))return"-0.0";return s=e.toString(10),SCIENTIFIC_WITHOUT_DOT.test(s)?s.replace("e",".e"):s}function isFloat(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||common.isNegativeZero(e))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){return e===null?!1:YAML_DATE_REGEXP.exec(e)!==null||YAML_TIMESTAMP_REGEXP.exec(e)!==null}function constructYamlTimestamp(e){var o,s,a,c,h,g,_,et=0,rt=null,it,ot,st;if(o=YAML_DATE_REGEXP.exec(e),o===null&&(o=YAML_TIMESTAMP_REGEXP.exec(e)),o===null)throw new Error("Date resolve error");if(s=+o[1],a=+o[2]-1,c=+o[3],!o[4])return new Date(Date.UTC(s,a,c));if(h=+o[4],g=+o[5],_=+o[6],o[7]){for(et=o[7].slice(0,3);et.length<3;)et+="0";et=+et}return o[9]&&(it=+o[10],ot=+(o[11]||0),rt=(it*60+ot)*6e4,o[9]==="-"&&(rt=-rt)),st=new Date(Date.UTC(s,a,c,h,g,_,et)),rt&&st.setTime(st.getTime()-rt),st}function representYamlTimestamp(e){return e.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(e){return e==="<<"||e===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(e){if(e===null)return!1;var o,s,a=0,c=e.length,h=BASE64_MAP;for(s=0;s<c;s++)if(o=h.indexOf(e.charAt(s)),!(o>64)){if(o<0)return!1;a+=6}return a%8===0}function constructYamlBinary(e){var o,s,a=e.replace(/[\r\n=]/g,""),c=a.length,h=BASE64_MAP,g=0,_=[];for(o=0;o<c;o++)o%4===0&&o&&(_.push(g>>16&255),_.push(g>>8&255),_.push(g&255)),g=g<<6|h.indexOf(a.charAt(o));return s=c%4*6,s===0?(_.push(g>>16&255),_.push(g>>8&255),_.push(g&255)):s===18?(_.push(g>>10&255),_.push(g>>2&255)):s===12&&_.push(g>>4&255),new Uint8Array(_)}function representYamlBinary(e){var o="",s=0,a,c,h=e.length,g=BASE64_MAP;for(a=0;a<h;a++)a%3===0&&a&&(o+=g[s>>18&63],o+=g[s>>12&63],o+=g[s>>6&63],o+=g[s&63]),s=(s<<8)+e[a];return c=h%3,c===0?(o+=g[s>>18&63],o+=g[s>>12&63],o+=g[s>>6&63],o+=g[s&63]):c===2?(o+=g[s>>10&63],o+=g[s>>4&63],o+=g[s<<2&63],o+=g[64]):c===1&&(o+=g[s>>2&63],o+=g[s<<4&63],o+=g[64],o+=g[64]),o}function isBinary(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(e){if(e===null)return!0;var o=[],s,a,c,h,g,_=e;for(s=0,a=_.length;s<a;s+=1){if(c=_[s],g=!1,_toString$2.call(c)!=="[object Object]")return!1;for(h in c)if(_hasOwnProperty$3.call(c,h))if(!g)g=!0;else return!1;if(!g)return!1;if(o.indexOf(h)===-1)o.push(h);else return!1}return!0}function constructYamlOmap(e){return e!==null?e:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(e){if(e===null)return!0;var o,s,a,c,h,g=e;for(h=new Array(g.length),o=0,s=g.length;o<s;o+=1){if(a=g[o],_toString$1.call(a)!=="[object Object]"||(c=Object.keys(a),c.length!==1))return!1;h[o]=[c[0],a[c[0]]]}return!0}function constructYamlPairs(e){if(e===null)return[];var o,s,a,c,h,g=e;for(h=new Array(g.length),o=0,s=g.length;o<s;o+=1)a=g[o],c=Object.keys(a),h[o]=[c[0],a[c[0]]];return h}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(e===null)return!0;var o,s=e;for(o in s)if(_hasOwnProperty$2.call(s,o)&&s[o]!==null)return!1;return!0}function constructYamlSet(e){return e!==null?e:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default$2=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return e===10||e===13}function is_WHITE_SPACE(e){return e===9||e===32}function is_WS_OR_EOL(e){return e===9||e===32||e===10||e===13}function is_FLOW_INDICATOR(e){return e===44||e===91||e===93||e===123||e===125}function fromHexCode(e){var o;return 48<=e&&e<=57?e-48:(o=e|32,97<=o&&o<=102?o-97+10:-1)}function escapedHexLen(e){return e===120?2:e===117?4:e===85?8:0}function fromDecimalCode(e){return 48<=e&&e<=57?e-48:-1}function simpleEscapeSequence(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function charFromCodepoint(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i$1=0;i$1<256;i$1++)simpleEscapeCheck[i$1]=simpleEscapeSequence(i$1)?1:0,simpleEscapeMap[i$1]=simpleEscapeSequence(i$1);function State$1(e,o){this.input=e,this.filename=o.filename||null,this.schema=o.schema||_default$2,this.onWarning=o.onWarning||null,this.legacy=o.legacy||!1,this.json=o.json||!1,this.listener=o.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(e,o){var s={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return s.snippet=snippet(s),new exception(o,s)}function throwError(e,o){throw generateError(e,o)}function throwWarning(e,o){e.onWarning&&e.onWarning.call(null,generateError(e,o))}var directiveHandlers={YAML:function(o,s,a){var c,h,g;o.version!==null&&throwError(o,"duplication of %YAML directive"),a.length!==1&&throwError(o,"YAML directive accepts exactly one argument"),c=/^([0-9]+)\.([0-9]+)$/.exec(a[0]),c===null&&throwError(o,"ill-formed argument of the YAML directive"),h=parseInt(c[1],10),g=parseInt(c[2],10),h!==1&&throwError(o,"unacceptable YAML version of the document"),o.version=a[0],o.checkLineBreaks=g<2,g!==1&&g!==2&&throwWarning(o,"unsupported YAML version of the document")},TAG:function(o,s,a){var c,h;a.length!==2&&throwError(o,"TAG directive accepts exactly two arguments"),c=a[0],h=a[1],PATTERN_TAG_HANDLE.test(c)||throwError(o,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(o.tagMap,c)&&throwError(o,'there is a previously declared suffix for "'+c+'" tag handle'),PATTERN_TAG_URI.test(h)||throwError(o,"ill-formed tag prefix (second argument) of the TAG directive");try{h=decodeURIComponent(h)}catch{throwError(o,"tag prefix is malformed: "+h)}o.tagMap[c]=h}};function captureSegment(e,o,s,a){var c,h,g,_;if(o<s){if(_=e.input.slice(o,s),a)for(c=0,h=_.length;c<h;c+=1)g=_.charCodeAt(c),g===9||32<=g&&g<=1114111||throwError(e,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(_)&&throwError(e,"the stream contains non-printable characters");e.result+=_}}function mergeMappings(e,o,s,a){var c,h,g,_;for(common.isObject(s)||throwError(e,"cannot merge mappings; the provided source object is unacceptable"),c=Object.keys(s),g=0,_=c.length;g<_;g+=1)h=c[g],_hasOwnProperty$1.call(o,h)||(o[h]=s[h],a[h]=!0)}function storeMappingPair(e,o,s,a,c,h,g,_,et){var rt,it;if(Array.isArray(c))for(c=Array.prototype.slice.call(c),rt=0,it=c.length;rt<it;rt+=1)Array.isArray(c[rt])&&throwError(e,"nested arrays are not supported inside keys"),typeof c=="object"&&_class(c[rt])==="[object Object]"&&(c[rt]="[object Object]");if(typeof c=="object"&&_class(c)==="[object Object]"&&(c="[object Object]"),c=String(c),o===null&&(o={}),a==="tag:yaml.org,2002:merge")if(Array.isArray(h))for(rt=0,it=h.length;rt<it;rt+=1)mergeMappings(e,o,h[rt],s);else mergeMappings(e,o,h,s);else!e.json&&!_hasOwnProperty$1.call(s,c)&&_hasOwnProperty$1.call(o,c)&&(e.line=g||e.line,e.lineStart=_||e.lineStart,e.position=et||e.position,throwError(e,"duplicated mapping key")),c==="__proto__"?Object.defineProperty(o,c,{configurable:!0,enumerable:!0,writable:!0,value:h}):o[c]=h,delete s[c];return o}function readLineBreak(e){var o;o=e.input.charCodeAt(e.position),o===10?e.position++:o===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):throwError(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function skipSeparationSpace(e,o,s){for(var a=0,c=e.input.charCodeAt(e.position);c!==0;){for(;is_WHITE_SPACE(c);)c===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),c=e.input.charCodeAt(++e.position);if(o&&c===35)do c=e.input.charCodeAt(++e.position);while(c!==10&&c!==13&&c!==0);if(is_EOL(c))for(readLineBreak(e),c=e.input.charCodeAt(e.position),a++,e.lineIndent=0;c===32;)e.lineIndent++,c=e.input.charCodeAt(++e.position);else break}return s!==-1&&a!==0&&e.lineIndent<s&&throwWarning(e,"deficient indentation"),a}function testDocumentSeparator(e){var o=e.position,s;return s=e.input.charCodeAt(o),!!((s===45||s===46)&&s===e.input.charCodeAt(o+1)&&s===e.input.charCodeAt(o+2)&&(o+=3,s=e.input.charCodeAt(o),s===0||is_WS_OR_EOL(s)))}function writeFoldedLines(e,o){o===1?e.result+=" ":o>1&&(e.result+=common.repeat(`
`,o-1))}function readPlainScalar(e,o,s){var a,c,h,g,_,et,rt,it,ot=e.kind,st=e.result,ct;if(ct=e.input.charCodeAt(e.position),is_WS_OR_EOL(ct)||is_FLOW_INDICATOR(ct)||ct===35||ct===38||ct===42||ct===33||ct===124||ct===62||ct===39||ct===34||ct===37||ct===64||ct===96||(ct===63||ct===45)&&(c=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(c)||s&&is_FLOW_INDICATOR(c)))return!1;for(e.kind="scalar",e.result="",h=g=e.position,_=!1;ct!==0;){if(ct===58){if(c=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(c)||s&&is_FLOW_INDICATOR(c))break}else if(ct===35){if(a=e.input.charCodeAt(e.position-1),is_WS_OR_EOL(a))break}else{if(e.position===e.lineStart&&testDocumentSeparator(e)||s&&is_FLOW_INDICATOR(ct))break;if(is_EOL(ct))if(et=e.line,rt=e.lineStart,it=e.lineIndent,skipSeparationSpace(e,!1,-1),e.lineIndent>=o){_=!0,ct=e.input.charCodeAt(e.position);continue}else{e.position=g,e.line=et,e.lineStart=rt,e.lineIndent=it;break}}_&&(captureSegment(e,h,g,!1),writeFoldedLines(e,e.line-et),h=g=e.position,_=!1),is_WHITE_SPACE(ct)||(g=e.position+1),ct=e.input.charCodeAt(++e.position)}return captureSegment(e,h,g,!1),e.result?!0:(e.kind=ot,e.result=st,!1)}function readSingleQuotedScalar(e,o){var s,a,c;if(s=e.input.charCodeAt(e.position),s!==39)return!1;for(e.kind="scalar",e.result="",e.position++,a=c=e.position;(s=e.input.charCodeAt(e.position))!==0;)if(s===39)if(captureSegment(e,a,e.position,!0),s=e.input.charCodeAt(++e.position),s===39)a=e.position,e.position++,c=e.position;else return!0;else is_EOL(s)?(captureSegment(e,a,c,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,o)),a=c=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a single quoted scalar"):(e.position++,c=e.position);throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,o){var s,a,c,h,g,_;if(_=e.input.charCodeAt(e.position),_!==34)return!1;for(e.kind="scalar",e.result="",e.position++,s=a=e.position;(_=e.input.charCodeAt(e.position))!==0;){if(_===34)return captureSegment(e,s,e.position,!0),e.position++,!0;if(_===92){if(captureSegment(e,s,e.position,!0),_=e.input.charCodeAt(++e.position),is_EOL(_))skipSeparationSpace(e,!1,o);else if(_<256&&simpleEscapeCheck[_])e.result+=simpleEscapeMap[_],e.position++;else if((g=escapedHexLen(_))>0){for(c=g,h=0;c>0;c--)_=e.input.charCodeAt(++e.position),(g=fromHexCode(_))>=0?h=(h<<4)+g:throwError(e,"expected hexadecimal character");e.result+=charFromCodepoint(h),e.position++}else throwError(e,"unknown escape sequence");s=a=e.position}else is_EOL(_)?(captureSegment(e,s,a,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,o)),s=a=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a double quoted scalar"):(e.position++,a=e.position)}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,o){var s=!0,a,c,h,g=e.tag,_,et=e.anchor,rt,it,ot,st,ct,dt=Object.create(null),Tt,Et,mt,gt;if(gt=e.input.charCodeAt(e.position),gt===91)it=93,ct=!1,_=[];else if(gt===123)it=125,ct=!0,_={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=_),gt=e.input.charCodeAt(++e.position);gt!==0;){if(skipSeparationSpace(e,!0,o),gt=e.input.charCodeAt(e.position),gt===it)return e.position++,e.tag=g,e.anchor=et,e.kind=ct?"mapping":"sequence",e.result=_,!0;s?gt===44&&throwError(e,"expected the node content, but found ','"):throwError(e,"missed comma between flow collection entries"),Et=Tt=mt=null,ot=st=!1,gt===63&&(rt=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(rt)&&(ot=st=!0,e.position++,skipSeparationSpace(e,!0,o))),a=e.line,c=e.lineStart,h=e.position,composeNode(e,o,CONTEXT_FLOW_IN,!1,!0),Et=e.tag,Tt=e.result,skipSeparationSpace(e,!0,o),gt=e.input.charCodeAt(e.position),(st||e.line===a)&&gt===58&&(ot=!0,gt=e.input.charCodeAt(++e.position),skipSeparationSpace(e,!0,o),composeNode(e,o,CONTEXT_FLOW_IN,!1,!0),mt=e.result),ct?storeMappingPair(e,_,dt,Et,Tt,mt,a,c,h):ot?_.push(storeMappingPair(e,null,dt,Et,Tt,mt,a,c,h)):_.push(Tt),skipSeparationSpace(e,!0,o),gt=e.input.charCodeAt(e.position),gt===44?(s=!0,gt=e.input.charCodeAt(++e.position)):s=!1}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,o){var s,a,c=CHOMPING_CLIP,h=!1,g=!1,_=o,et=0,rt=!1,it,ot;if(ot=e.input.charCodeAt(e.position),ot===124)a=!1;else if(ot===62)a=!0;else return!1;for(e.kind="scalar",e.result="";ot!==0;)if(ot=e.input.charCodeAt(++e.position),ot===43||ot===45)CHOMPING_CLIP===c?c=ot===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(e,"repeat of a chomping mode identifier");else if((it=fromDecimalCode(ot))>=0)it===0?throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):g?throwError(e,"repeat of an indentation width identifier"):(_=o+it-1,g=!0);else break;if(is_WHITE_SPACE(ot)){do ot=e.input.charCodeAt(++e.position);while(is_WHITE_SPACE(ot));if(ot===35)do ot=e.input.charCodeAt(++e.position);while(!is_EOL(ot)&&ot!==0)}for(;ot!==0;){for(readLineBreak(e),e.lineIndent=0,ot=e.input.charCodeAt(e.position);(!g||e.lineIndent<_)&&ot===32;)e.lineIndent++,ot=e.input.charCodeAt(++e.position);if(!g&&e.lineIndent>_&&(_=e.lineIndent),is_EOL(ot)){et++;continue}if(e.lineIndent<_){c===CHOMPING_KEEP?e.result+=common.repeat(`
`,h?1+et:et):c===CHOMPING_CLIP&&h&&(e.result+=`
`);break}for(a?is_WHITE_SPACE(ot)?(rt=!0,e.result+=common.repeat(`
`,h?1+et:et)):rt?(rt=!1,e.result+=common.repeat(`
`,et+1)):et===0?h&&(e.result+=" "):e.result+=common.repeat(`
`,et):e.result+=common.repeat(`
`,h?1+et:et),h=!0,g=!0,et=0,s=e.position;!is_EOL(ot)&&ot!==0;)ot=e.input.charCodeAt(++e.position);captureSegment(e,s,e.position,!1)}return!0}function readBlockSequence(e,o){var s,a=e.tag,c=e.anchor,h=[],g,_=!1,et;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),et=e.input.charCodeAt(e.position);et!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),!(et!==45||(g=e.input.charCodeAt(e.position+1),!is_WS_OR_EOL(g))));){if(_=!0,e.position++,skipSeparationSpace(e,!0,-1)&&e.lineIndent<=o){h.push(null),et=e.input.charCodeAt(e.position);continue}if(s=e.line,composeNode(e,o,CONTEXT_BLOCK_IN,!1,!0),h.push(e.result),skipSeparationSpace(e,!0,-1),et=e.input.charCodeAt(e.position),(e.line===s||e.lineIndent>o)&&et!==0)throwError(e,"bad indentation of a sequence entry");else if(e.lineIndent<o)break}return _?(e.tag=a,e.anchor=c,e.kind="sequence",e.result=h,!0):!1}function readBlockMapping(e,o,s){var a,c,h,g,_,et,rt=e.tag,it=e.anchor,ot={},st=Object.create(null),ct=null,dt=null,Tt=null,Et=!1,mt=!1,gt;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=ot),gt=e.input.charCodeAt(e.position);gt!==0;){if(!Et&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,throwError(e,"tab characters must not be used in indentation")),a=e.input.charCodeAt(e.position+1),h=e.line,(gt===63||gt===58)&&is_WS_OR_EOL(a))gt===63?(Et&&(storeMappingPair(e,ot,st,ct,dt,null,g,_,et),ct=dt=Tt=null),mt=!0,Et=!0,c=!0):Et?(Et=!1,c=!0):throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,gt=a;else{if(g=e.line,_=e.lineStart,et=e.position,!composeNode(e,s,CONTEXT_FLOW_OUT,!1,!0))break;if(e.line===h){for(gt=e.input.charCodeAt(e.position);is_WHITE_SPACE(gt);)gt=e.input.charCodeAt(++e.position);if(gt===58)gt=e.input.charCodeAt(++e.position),is_WS_OR_EOL(gt)||throwError(e,"a whitespace character is expected after the key-value separator within a block mapping"),Et&&(storeMappingPair(e,ot,st,ct,dt,null,g,_,et),ct=dt=Tt=null),mt=!0,Et=!1,c=!1,ct=e.tag,dt=e.result;else if(mt)throwError(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=rt,e.anchor=it,!0}else if(mt)throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=rt,e.anchor=it,!0}if((e.line===h||e.lineIndent>o)&&(Et&&(g=e.line,_=e.lineStart,et=e.position),composeNode(e,o,CONTEXT_BLOCK_OUT,!0,c)&&(Et?dt=e.result:Tt=e.result),Et||(storeMappingPair(e,ot,st,ct,dt,Tt,g,_,et),ct=dt=Tt=null),skipSeparationSpace(e,!0,-1),gt=e.input.charCodeAt(e.position)),(e.line===h||e.lineIndent>o)&&gt!==0)throwError(e,"bad indentation of a mapping entry");else if(e.lineIndent<o)break}return Et&&storeMappingPair(e,ot,st,ct,dt,null,g,_,et),mt&&(e.tag=rt,e.anchor=it,e.kind="mapping",e.result=ot),mt}function readTagProperty(e){var o,s=!1,a=!1,c,h,g;if(g=e.input.charCodeAt(e.position),g!==33)return!1;if(e.tag!==null&&throwError(e,"duplication of a tag property"),g=e.input.charCodeAt(++e.position),g===60?(s=!0,g=e.input.charCodeAt(++e.position)):g===33?(a=!0,c="!!",g=e.input.charCodeAt(++e.position)):c="!",o=e.position,s){do g=e.input.charCodeAt(++e.position);while(g!==0&&g!==62);e.position<e.length?(h=e.input.slice(o,e.position),g=e.input.charCodeAt(++e.position)):throwError(e,"unexpected end of the stream within a verbatim tag")}else{for(;g!==0&&!is_WS_OR_EOL(g);)g===33&&(a?throwError(e,"tag suffix cannot contain exclamation marks"):(c=e.input.slice(o-1,e.position+1),PATTERN_TAG_HANDLE.test(c)||throwError(e,"named tag handle cannot contain such characters"),a=!0,o=e.position+1)),g=e.input.charCodeAt(++e.position);h=e.input.slice(o,e.position),PATTERN_FLOW_INDICATORS.test(h)&&throwError(e,"tag suffix cannot contain flow indicator characters")}h&&!PATTERN_TAG_URI.test(h)&&throwError(e,"tag name cannot contain such characters: "+h);try{h=decodeURIComponent(h)}catch{throwError(e,"tag name is malformed: "+h)}return s?e.tag=h:_hasOwnProperty$1.call(e.tagMap,c)?e.tag=e.tagMap[c]+h:c==="!"?e.tag="!"+h:c==="!!"?e.tag="tag:yaml.org,2002:"+h:throwError(e,'undeclared tag handle "'+c+'"'),!0}function readAnchorProperty(e){var o,s;if(s=e.input.charCodeAt(e.position),s!==38)return!1;for(e.anchor!==null&&throwError(e,"duplication of an anchor property"),s=e.input.charCodeAt(++e.position),o=e.position;s!==0&&!is_WS_OR_EOL(s)&&!is_FLOW_INDICATOR(s);)s=e.input.charCodeAt(++e.position);return e.position===o&&throwError(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(o,e.position),!0}function readAlias(e){var o,s,a;if(a=e.input.charCodeAt(e.position),a!==42)return!1;for(a=e.input.charCodeAt(++e.position),o=e.position;a!==0&&!is_WS_OR_EOL(a)&&!is_FLOW_INDICATOR(a);)a=e.input.charCodeAt(++e.position);return e.position===o&&throwError(e,"name of an alias node must contain at least one character"),s=e.input.slice(o,e.position),_hasOwnProperty$1.call(e.anchorMap,s)||throwError(e,'unidentified alias "'+s+'"'),e.result=e.anchorMap[s],skipSeparationSpace(e,!0,-1),!0}function composeNode(e,o,s,a,c){var h,g,_,et=1,rt=!1,it=!1,ot,st,ct,dt,Tt,Et;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,h=g=_=CONTEXT_BLOCK_OUT===s||CONTEXT_BLOCK_IN===s,a&&skipSeparationSpace(e,!0,-1)&&(rt=!0,e.lineIndent>o?et=1:e.lineIndent===o?et=0:e.lineIndent<o&&(et=-1)),et===1)for(;readTagProperty(e)||readAnchorProperty(e);)skipSeparationSpace(e,!0,-1)?(rt=!0,_=h,e.lineIndent>o?et=1:e.lineIndent===o?et=0:e.lineIndent<o&&(et=-1)):_=!1;if(_&&(_=rt||c),(et===1||CONTEXT_BLOCK_OUT===s)&&(CONTEXT_FLOW_IN===s||CONTEXT_FLOW_OUT===s?Tt=o:Tt=o+1,Et=e.position-e.lineStart,et===1?_&&(readBlockSequence(e,Et)||readBlockMapping(e,Et,Tt))||readFlowCollection(e,Tt)?it=!0:(g&&readBlockScalar(e,Tt)||readSingleQuotedScalar(e,Tt)||readDoubleQuotedScalar(e,Tt)?it=!0:readAlias(e)?(it=!0,(e.tag!==null||e.anchor!==null)&&throwError(e,"alias node should not have any properties")):readPlainScalar(e,Tt,CONTEXT_FLOW_IN===s)&&(it=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):et===0&&(it=_&&readBlockSequence(e,Et))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),ot=0,st=e.implicitTypes.length;ot<st;ot+=1)if(dt=e.implicitTypes[ot],dt.resolve(e.result)){e.result=dt.construct(e.result),e.tag=dt.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(_hasOwnProperty$1.call(e.typeMap[e.kind||"fallback"],e.tag))dt=e.typeMap[e.kind||"fallback"][e.tag];else for(dt=null,ct=e.typeMap.multi[e.kind||"fallback"],ot=0,st=ct.length;ot<st;ot+=1)if(e.tag.slice(0,ct[ot].tag.length)===ct[ot].tag){dt=ct[ot];break}dt||throwError(e,"unknown tag !<"+e.tag+">"),e.result!==null&&dt.kind!==e.kind&&throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+dt.kind+'", not "'+e.kind+'"'),dt.resolve(e.result,e.tag)?(e.result=dt.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||it}function readDocument(e){var o=e.position,s,a,c,h=!1,g;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(g=e.input.charCodeAt(e.position))!==0&&(skipSeparationSpace(e,!0,-1),g=e.input.charCodeAt(e.position),!(e.lineIndent>0||g!==37));){for(h=!0,g=e.input.charCodeAt(++e.position),s=e.position;g!==0&&!is_WS_OR_EOL(g);)g=e.input.charCodeAt(++e.position);for(a=e.input.slice(s,e.position),c=[],a.length<1&&throwError(e,"directive name must not be less than one character in length");g!==0;){for(;is_WHITE_SPACE(g);)g=e.input.charCodeAt(++e.position);if(g===35){do g=e.input.charCodeAt(++e.position);while(g!==0&&!is_EOL(g));break}if(is_EOL(g))break;for(s=e.position;g!==0&&!is_WS_OR_EOL(g);)g=e.input.charCodeAt(++e.position);c.push(e.input.slice(s,e.position))}g!==0&&readLineBreak(e),_hasOwnProperty$1.call(directiveHandlers,a)?directiveHandlers[a](e,a,c):throwWarning(e,'unknown document directive "'+a+'"')}if(skipSeparationSpace(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,skipSeparationSpace(e,!0,-1)):h&&throwError(e,"directives end mark is expected"),composeNode(e,e.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(e,!0,-1),e.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(e.input.slice(o,e.position))&&throwWarning(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&testDocumentSeparator(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,skipSeparationSpace(e,!0,-1));return}if(e.position<e.length-1)throwError(e,"end of the stream or a document separator is expected");else return}function loadDocuments(e,o){e=String(e),o=o||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var s=new State$1(e,o),a=e.indexOf("\0");for(a!==-1&&(s.position=a,throwError(s,"null byte is not allowed in input")),s.input+="\0";s.input.charCodeAt(s.position)===32;)s.lineIndent+=1,s.position+=1;for(;s.position<s.length-1;)readDocument(s);return s.documents}function loadAll$1(e,o,s){o!==null&&typeof o=="object"&&typeof s>"u"&&(s=o,o=null);var a=loadDocuments(e,s);if(typeof o!="function")return a;for(var c=0,h=a.length;c<h;c+=1)o(a[c])}function load$1(e,o){var s=loadDocuments(e,o);if(s.length!==0){if(s.length===1)return s[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},JSON_SCHEMA=json,load=loader.load;function extractFrontMatter(e){const o=e.match(frontMatterRegex);if(!o)return{text:e,metadata:{}};let s=load(o[1],{schema:JSON_SCHEMA})??{};s=typeof s=="object"&&!Array.isArray(s)?s:{};const a={};return s.displayMode&&(a.displayMode=s.displayMode.toString()),s.title&&(a.title=s.title.toString()),s.config&&(a.config=s.config),{text:e.slice(o[0].length),metadata:a}}const cleanupText=e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(o,s,a)=>"<"+s+a.replace(/="([^"]*)"/g,"='$1'")+">"),processFrontmatter=e=>{const{text:o,metadata:s}=extractFrontMatter(e),{displayMode:a,title:c,config:h={}}=s;return a&&(h.gantt||(h.gantt={}),h.gantt.displayMode=a),{title:c,config:h,text:o}},processDirectives=e=>{const o=utils$1.detectInit(e)??{},s=utils$1.detectDirective(e,"wrap");return Array.isArray(s)?o.wrap=s.some(({type:a})=>{}):(s==null?void 0:s.type)==="wrap"&&(o.wrap=!0),{text:removeDirectives(e),directive:o}};function preprocessDiagram(e){const o=cleanupText(e),s=processFrontmatter(o),a=processDirectives(s.text),c=cleanAndMerge(s.config,a.directive);return e=cleanupComments(a.text),{code:e,title:s.title,config:c}}const MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(e){const o=preprocessDiagram(e);return reset(),addDirective(o.config??{}),o}async function parse$1(e,o){addDiagrams(),e=processAndSetConfigs(e).code;try{await getDiagramFromText(e)}catch(s){if(o!=null&&o.suppressErrors)return!1;throw s}return!0}const cssImportantStyles=(e,o,s=[])=>`
.${e} ${o} { ${s.join(" !important; ")} !important; }`,createCssStyles=(e,o={})=>{var s;let a="";if(e.themeCSS!==void 0&&(a+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(a+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(a+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),!isEmpty$1(o)){const _=e.htmlLabels||((s=e.flowchart)==null?void 0:s.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const et in o){const rt=o[et];isEmpty$1(rt.styles)||_.forEach(it=>{a+=cssImportantStyles(rt.id,it,rt.styles)}),isEmpty$1(rt.textStyles)||(a+=cssImportantStyles(rt.id,"tspan",rt.textStyles))}}return a},createUserStyles=(e,o,s,a)=>{const c=createCssStyles(e,s),h=getStyles$1(o,c,e.themeVariables);return serialize(compile(`${a}{${h}}`),stringify)},cleanUpSvgCode=(e="",o,s)=>{let a=e;return!s&&!o&&(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),a=decodeEntities(a),a=a.replace(/<br>/g,"<br/>"),a},putIntoIFrame=(e="",o)=>{var s,a;const c=(a=(s=o==null?void 0:o.viewBox)==null?void 0:s.baseVal)!=null&&a.height?o.viewBox.baseVal.height+"px":IFRAME_HEIGHT,h=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+e+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${c};${IFRAME_STYLES}" src="data:text/html;base64,${h}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(e,o,s,a,c)=>{const h=e.append("div");h.attr("id",s),a&&h.attr("style",a);const g=h.append("svg").attr("id",o).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return c&&g.attr("xmlns:xlink",c),g.append("g"),e};function sandboxedIframe(e,o){return e.append("iframe").attr("id",o).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(e,o,s,a)=>{var c,h,g;(c=e.getElementById(o))==null||c.remove(),(h=e.getElementById(s))==null||h.remove(),(g=e.getElementById(a))==null||g.remove()},render$1=async function(e,o,s){var a,c,h,g,_,et;addDiagrams();const rt=processAndSetConfigs(o);o=rt.code;const it=getConfig$1();log$1.debug(it),o.length>((it==null?void 0:it.maxTextSize)??MAX_TEXTLENGTH)&&(o=MAX_TEXTLENGTH_EXCEEDED_MSG);const ot="#"+e,st="i"+e,ct="#"+st,dt="d"+e,Tt="#"+dt;let Et=select$1("body");const mt=it.securityLevel===SECURITY_LVL_SANDBOX,gt=it.securityLevel===SECURITY_LVL_LOOSE,xt=it.fontFamily;if(s!==void 0){if(s&&(s.innerHTML=""),mt){const rr=sandboxedIframe(select$1(s),st);Et=select$1(rr.nodes()[0].contentDocument.body),Et.node().style.margin=0}else Et=select$1(s);appendDivSvgG(Et,e,dt,`font-family: ${xt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,e,dt,st),mt){const rr=sandboxedIframe(select$1("body"),st);Et=select$1(rr.nodes()[0].contentDocument.body),Et.node().style.margin=0}else Et=select$1("body");appendDivSvgG(Et,e,dt)}let bt,It;try{bt=await getDiagramFromText(o,{title:rt.title})}catch(rr){bt=new Diagram("error"),It=rr}const Ut=Et.select(Tt).node(),Ft=bt.type,Bt=Ut.firstChild,cr=Bt.firstChild,Ht=(c=(a=bt.renderer).getClasses)==null?void 0:c.call(a,o,bt),pr=createUserStyles(it,Ft,Ht,ot),Ar=document.createElement("style");Ar.innerHTML=pr,Bt.insertBefore(Ar,cr);try{await bt.renderer.draw(o,e,version$5,bt)}catch(rr){throw errorRenderer.draw(o,e,version$5),rr}const Rr=Et.select(`${Tt} svg`),dr=(g=(h=bt.db).getAccTitle)==null?void 0:g.call(h),Yt=(et=(_=bt.db).getAccDescription)==null?void 0:et.call(_);addA11yInfo(Ft,Rr,dr,Yt),Et.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Pt=Et.select(Tt).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",it.arrowMarkerAbsolute),Pt=cleanUpSvgCode(Pt,mt,evaluate(it.arrowMarkerAbsolute)),mt){const rr=Et.select(Tt+" svg").node();Pt=putIntoIFrame(Pt,rr)}else gt||(Pt=purify.sanitize(Pt,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(attachFunctions(),It)throw It;const Lt=select$1(mt?ct:Tt).node();return Lt&&"remove"in Lt&&Lt.remove(),{svg:Pt,bindFunctions:bt.db.bindFunctions}};function initialize$1(e={}){var o;e!=null&&e.fontFamily&&!((o=e.themeVariables)!=null&&o.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),saveConfigFromInitialize(e),e!=null&&e.theme&&e.theme in theme?e.themeVariables=theme[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=theme.default.getThemeVariables(e.themeVariables));const s=typeof e=="object"?setSiteConfig(e):getSiteConfig();setLogLevel$1(s.logLevel),addDiagrams()}const getDiagramFromText=(e,o={})=>{const{code:s}=preprocessDiagram(e);return getDiagramFromText$1(s,o)};function addA11yInfo(e,o,s,a){setA11yDiagramInfo(o,e),addSVGa11yTitleDescription(o,s,a,o.attr("id"))}const mermaidAPI=Object.freeze({render:render$1,parse:parse$1,getDiagramFromText,initialize:initialize$1,getConfig:getConfig$1,setConfig:setConfig$1,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig$1)},defaultConfig:defaultConfig$1});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());const loadRegisteredDiagrams=async()=>{log$1.debug("Loading registered diagrams");const o=(await Promise.allSettled(Object.entries(detectors).map(async([s,{detector:a,loader:c}])=>{if(c)try{getDiagram(s)}catch{try{const{diagram:g,id:_}=await c();registerDiagram(_,g,a)}catch(g){throw log$1.error(`Failed to load external diagram with key ${s}. Removing from detectors.`),delete detectors[s],g}}}))).filter(s=>s.status==="rejected");if(o.length>0){log$1.error(`Failed to load ${o.length} external diagrams`);for(const s of o)log$1.error(s);throw new Error(`Failed to load ${o.length} external diagrams`)}},handleError=(e,o,s)=>{log$1.warn(e),isDetailedError(e)?(s&&s(e.str,e.hash),o.push({...e,message:e.str,error:e})):(s&&s(e),e instanceof Error&&o.push({str:e.message,message:e.message,hash:e.name,error:e}))},run=async function(e={querySelector:".mermaid"}){try{await runThrowsErrors(e)}catch(o){if(isDetailedError(o)&&log$1.error(o.str),mermaid.parseError&&mermaid.parseError(o),!e.suppressErrors)throw log$1.error("Use the suppressErrors option to suppress these errors"),o}},runThrowsErrors=async function({postRenderCallback:e,querySelector:o,nodes:s}={querySelector:".mermaid"}){const a=mermaidAPI.getConfig();log$1.debug(`${e?"":"No "}Callback function found`);let c;if(s)c=s;else if(o)c=document.querySelectorAll(o);else throw new Error("Nodes and querySelector are both undefined");log$1.debug(`Found ${c.length} diagrams`),(a==null?void 0:a.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(a==null?void 0:a.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:a==null?void 0:a.startOnLoad}));const h=new utils$1.InitIDGenerator(a.deterministicIds,a.deterministicIDSeed);let g;const _=[];for(const et of Array.from(c)){log$1.info("Rendering diagram: "+et.id);/*! Check if previously processed */if(et.getAttribute("data-processed"))continue;et.setAttribute("data-processed","true");const rt=`mermaid-${h.next()}`;g=et.innerHTML,g=dedent(utils$1.entityDecode(g)).trim().replace(/<br\s*\/?>/gi,"<br/>");const it=utils$1.detectInit(g);it&&log$1.debug("Detected early reinit: ",it);try{const{svg:ot,bindFunctions:st}=await render(rt,g,et);et.innerHTML=ot,e&&await e(rt),st&&st(et)}catch(ot){handleError(ot,_,mermaid.parseError)}}if(_.length>0)throw _[0]},initialize=function(e){mermaidAPI.initialize(e)},init=async function(e,o,s){log$1.warn("mermaid.init is deprecated. Please use run instead."),e&&initialize(e);const a={postRenderCallback:s,querySelector:".mermaid"};typeof o=="string"?a.querySelector=o:o&&(o instanceof HTMLElement?a.nodes=[o]:a.nodes=o),await run(a)},registerExternalDiagrams=async(e,{lazyLoad:o=!0}={})=>{registerLazyLoadedDiagrams(...e),o===!1&&await loadRegisteredDiagrams()},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:e}=mermaidAPI.getConfig();e&&mermaid.run().catch(o=>log$1.error("Mermaid failed to initialize",o))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(e){mermaid.parseError=e},executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const e=executionQueue.shift();if(e)try{await e()}catch(o){log$1.error("Error executing queue",o)}}executionQueueRunning=!1}},parse=async(e,o)=>new Promise((s,a)=>{const c=()=>new Promise((h,g)=>{mermaidAPI.parse(e,o).then(_=>{h(_),s(_)},_=>{var et;log$1.error("Error parsing",_),(et=mermaid.parseError)==null||et.call(mermaid,_),g(_),a(_)})});executionQueue.push(c),executeQueue().catch(a)}),render=(e,o,s)=>new Promise((a,c)=>{const h=()=>new Promise((g,_)=>{mermaidAPI.render(e,o,s).then(et=>{g(et),a(et)},et=>{var rt;log$1.error("Error parsing",et),(rt=mermaid.parseError)==null||rt.call(mermaid,et),_(et),c(et)})});executionQueue.push(h),executeQueue().catch(c)}),mermaid={startOnLoad:!0,mermaidAPI,parse,render,init,run,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler,detectType},MermaidGraph=({generateGraph:e,treeProductComps:o,components:s,treeCompsDetail:a,product:c})=>{const h=e({treeProductComps:o,components:s,treeCompsDetail:a,product:c});return reactExports.useEffect(()=>{mermaid.initialize({startOnLoad:!1,theme:"default",logLevel:"info",securityLevel:"strict",flowchart:{useMaxWidth:!0,htmlLabels:!0,curve:"linear"}}),mermaid.init(void 0,".mermaid")},[]),jsxRuntimeExports.jsx("div",{className:"mermaid",children:h})},Component$2=()=>{const isMounted=reactExports.useRef(!1),{productId}=useParams(),[product,useProduct]=reactExports.useState(null),[Tree,setTree]=reactExports.useState(!0),[ComponentsProduct,useComponentsProduct]=reactExports.useState(null),[TreeComps,useTreeComps]=reactExports.useState(null),[TreeCompsDetail,useTreeCompsDetail]=reactExports.useState(null),[TreeProductComps,useTreeProductComps]=reactExports.useState(null),[selectedComponent,useSelectedComponent]=reactExports.useState([]),[SelectedComponentToDelete,useSelectedComponentToDelete]=reactExports.useState(""),InventoryContextAll=reactExports.useContext(InventoryContext),{productServices,TreesComponent,treeComponentServices,componentServices,Components,useComponent,useTreesComponent:useComponentDetail,useProductsComponents,ProductsComponents,productComponentsServices,TreesComponentDetail,useTreesComponentDetail,treeComponentDetailServices}=InventoryContextAll;reactExports.useEffect(()=>{isMounted.current=!0;const e=productId?productServices.ProductById(productId):Promise.resolve(null),o=Components===null?componentServices.Read():Promise.resolve(null),s=ProductsComponents===null?productComponentsServices.Read():Promise.resolve(null),a=TreesComponent===null?treeComponentServices.Read():Promise.resolve(null),c=TreesComponentDetail===null?treeComponentDetailServices.Read():Promise.resolve(null);Promise.all([e,s,o,a,c]).then(([h,g,_,et,rt])=>{if(isMounted.current){if(h&&useProduct(h),et&&(useTreeComps(et),useTreeCompsDetail(rt)),g){const it=g.find(ot=>ot.IdProduct===productId);if(useComponentsProduct(it??null),ComponentsProduct&&(ComponentsProduct==null?void 0:ComponentsProduct.IdComponents.length)>0){const ot=et==null?void 0:et.filter(st=>ComponentsProduct==null?void 0:ComponentsProduct.IdComponents.includes(st.IdParent));useTreeProductComps(ot??null)}}_&&useComponent(_)}})},[]),reactExports.useEffect(()=>{var e;if(ComponentsProduct&&((e=ComponentsProduct==null?void 0:ComponentsProduct.IdComponents)==null?void 0:e.length)>0&&TreeComps){const o=TreeComps==null?void 0:TreeComps.filter(s=>ComponentsProduct==null?void 0:ComponentsProduct.IdComponents.includes(s.IdParent));useTreeProductComps(o)}},[ComponentsProduct,TreeComps]);const generateMermaidGraph=({treeProductComps:e,components:o,treeCompsDetail:s,product:a})=>{let c=[];if(e&&(e==null?void 0:e.length)>0){let h={graph:`graph TD
`};return e.forEach(g=>{const _=o==null?void 0:o.find(it=>it.IdComponent===g.IdParent),et=s==null?void 0:s.filter(it=>it.IdTreeComponent===g.IdTreeComponent);let rt=_==null?void 0:_.Name;g.Quantity>1&&(rt+=`(${g.Quantity})`),h.graph+=`
            ${a==null?void 0:a.ProductName.replace(/\s+/g,"")}[${a==null?void 0:a.ProductName}] --> ${_==null?void 0:_.Name.replace(/\s+/g,"")}["${rt}"]
            `,c.push(g.IdParent),iterationCompsDetail(h,_,et,c)}),h.graph}else return""},iterationCompsDetail=(e,o,s,a)=>{s==null||s.forEach(c=>{const h=Components==null?void 0:Components.find(_=>_.IdComponent===c.IdComponent);let g=h==null?void 0:h.Name;c.Quantity>1&&(g+=`(${c.Quantity})`),e.graph+=`
        ${o==null?void 0:o.Name.replace(/\s+/g,"")} --> ${h==null?void 0:h.Name.replace(/\s+/g,"")}["${g}"]
        `}),s==null||s.forEach(c=>{if(a.includes(c.IdComponent))return;a.push(c.IdComponent);const h=Components==null?void 0:Components.find(_=>_.IdComponent===c.IdComponent),g=TreeComps==null?void 0:TreeComps.find(_=>_.IdParent===c.IdComponent);if(g){const _=(TreeCompsDetail==null?void 0:TreeCompsDetail.filter(et=>et.IdTreeComponent===g.IdTreeComponent))??[];(_==null?void 0:_.length)>0&&iterationCompsDetail(e,h,_,a)}})},handleComponentSelect=e=>{useSelectedComponent(o=>o.includes(e)?o.filter(s=>s!==e):[...o,e])},handleSelectedComponentToDelete=e=>{useSelectedComponentToDelete(o=>o===e?"":e)},handleAddComponents=()=>{const e=(TreeComps==null?void 0:TreeComps.filter(o=>selectedComponent.includes(o.IdTreeComponent)))??[];if(TreeProductComps&&e.length>0){const o=e.filter(s=>!TreeProductComps.find(a=>a.IdTreeComponent===s.IdTreeComponent));o.length>0&&useTreeProductComps(s=>[...s,...o])}else useTreeProductComps(e);useSelectedComponent([])},handleDeleteComponents=()=>{useTreeProductComps(e=>e==null?e:e.filter(o=>o.IdTreeComponent!==SelectedComponentToDelete)),useSelectedComponentToDelete("")},iterableCalculateQuantity=(listQuantity,componentsChildren,products)=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:componentsChildren==null?void 0:componentsChildren.map(compChildren=>{let productExpression="";const componentChildren=Components==null?void 0:Components.find(e=>e.IdComponent===compChildren.IdComponent);listQuantity.forEach((e,o)=>{o===listQuantity.length-1?productExpression+=`${e} * ${compChildren.Quantity}`:productExpression+=`${e} * `});const expressionPattern=/-?\d+(\.\d+)?([+\-*/]-?\d+(\.\d+)?)*\b/g,matches=productExpression.match(expressionPattern),results=matches?matches.map(expr=>eval(expr)):[],operationProducts=results.length>0?results.reduce((e,o)=>e*o,1):0,result=jsxRuntimeExports.jsx("p",{children:`${componentChildren==null?void 0:componentChildren.Name} = ${productExpression} = ${operationProducts}`},compChildren.IdComponent),childrens=TreeComps==null?void 0:TreeComps.find(e=>e.IdParent===compChildren.IdComponent);let childComponents;if(childrens){const e=(TreeCompsDetail==null?void 0:TreeCompsDetail.filter(o=>o.IdTreeComponent===childrens.IdTreeComponent))??[];e.length>0&&(listQuantity.push(compChildren.Quantity),childComponents=iterableCalculateQuantity(listQuantity,e),listQuantity.pop())}return jsxRuntimeExports.jsxs("div",{children:[result,childComponents]},compChildren.IdComponent)})}),calculateQuantity=()=>{if(TreeProductComps&&TreeProductComps.length>0){let e=[];return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{children:"Cálculo del MRP"}),jsxRuntimeExports.jsx("div",{children:TreeProductComps==null?void 0:TreeProductComps.map(o=>{const s=TreeCompsDetail==null?void 0:TreeCompsDetail.filter(c=>c.IdTreeComponent===o.IdTreeComponent),a=Components==null?void 0:Components.find(c=>c.IdComponent===o.IdParent);return e.push(product.Quantity),e.push(o.Quantity),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:`${a==null?void 0:a.Name} = ${o.Quantity} * ${product==null?void 0:product.Quantity} = ${o.Quantity*product.Quantity}`}),iterableCalculateQuantity(e,s)]},o.IdTreeComponent)})})]})}return jsxRuntimeExports.jsx("div",{})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("main",{className:componentStyles.main,children:product===null?jsxRuntimeExports.jsx(ReactLoading,{type:"spinningBubbles",color:"blue",height:"20%",width:"20%"}):jsxRuntimeExports.jsxs("section",{className:componentStyles.section,children:[jsxRuntimeExports.jsxs("div",{className:componentStyles.ProductInformation,children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{className:componentStyles.ImageContainer,style:{backgroundImage:`url(${product.Images[0]})`}}),jsxRuntimeExports.jsx("h3",{children:product.ProductName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{onClick:()=>setTree(!1),style:{backgroundColor:"transparent",padding:"10px",marginRight:"10px",color:"#B4B4B8",border:"1px solid #B4B4B8",borderRadius:"10px"},children:"Visualizar arbol"}),selectedComponent.length>0&&jsxRuntimeExports.jsx("button",{onClick:()=>handleAddComponents(),style:{backgroundColor:"transparent",padding:"10px",color:"#B4B4B8",border:"1px solid #B4B4B8",borderRadius:"10px"},children:"Agregar componentes"})]})]}),jsxRuntimeExports.jsxs("div",{style:{height:"300px",overflowY:"auto"},children:[jsxRuntimeExports.jsx("h3",{style:{color:"#B4B4B4"},children:"Componentes"}),jsxRuntimeExports.jsxs("table",{className:componentStyles.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Cantidad a utilizar"})]})}),jsxRuntimeExports.jsx("tbody",{children:TreeProductComps==null?void 0:TreeProductComps.map(e=>{const o=Components==null?void 0:Components.find(c=>c.IdComponent===e.IdParent),s=(TreeCompsDetail==null?void 0:TreeCompsDetail.filter(c=>c.IdTreeComponent===e.IdTreeComponent))??[],a=!((s==null?void 0:s.length)>0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{style:a?{borderBottom:"2px solid black"}:{},children:[jsxRuntimeExports.jsx("td",{onClick:()=>handleSelectedComponentToDelete(e.IdTreeComponent),children:SelectedComponentToDelete.includes(e.IdTreeComponent)?jsxRuntimeExports.jsx(MdCheckBox,{}):jsxRuntimeExports.jsx(MdOutlineCheckBoxOutlineBlank,{})}),jsxRuntimeExports.jsx("td",{children:o==null?void 0:o.Name}),jsxRuntimeExports.jsx("td",{style:{paddingLeft:"60px"},children:e==null?void 0:e.Quantity}),jsxRuntimeExports.jsx("td",{children:SelectedComponentToDelete.includes(e.IdTreeComponent)?jsxRuntimeExports.jsx(MdDelete,{onClick:()=>handleDeleteComponents()}):jsxRuntimeExports.jsx("div",{})})]},e.IdTreeComponent),s==null?void 0:s.map((c,h)=>{const g=Components==null?void 0:Components.find(et=>et.IdComponent===c.IdComponent),_=h===s.length-1;return jsxRuntimeExports.jsxs("tr",{style:_?{borderBottom:"2px solid black"}:{},children:[jsxRuntimeExports.jsx("td",{style:{paddingLeft:"30px"},children:jsxRuntimeExports.jsx(CgMathMinus,{})}),jsxRuntimeExports.jsx("td",{style:{paddingLeft:"30px"},children:g==null?void 0:g.Name}),jsxRuntimeExports.jsx("td",{style:{paddingLeft:"60px"},children:c.Quantity})]},`${e.IdTreeComponent}-${c.IdTreeComponentDetail}`)})]})})})]})]}),jsxRuntimeExports.jsx("div",{style:{height:"300px",overflowY:"auto",display:"flex",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{style:{color:"#B4B4B4"},children:"Arbol de componentes"}),jsxRuntimeExports.jsxs("table",{className:componentStyles.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Cantidad a utilizar"})]})}),jsxRuntimeExports.jsx("tbody",{children:TreeComps==null?void 0:TreeComps.map(e=>{const o=Components==null?void 0:Components.find(c=>c.IdComponent===e.IdParent),s=(TreeCompsDetail==null?void 0:TreeCompsDetail.filter(c=>c.IdTreeComponent===e.IdTreeComponent))??[],a=!((s==null?void 0:s.length)>0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{style:a?{borderBottom:"2px solid black"}:{},children:[jsxRuntimeExports.jsx("td",{onClick:()=>handleComponentSelect(e.IdTreeComponent),children:selectedComponent.includes(e.IdTreeComponent)?jsxRuntimeExports.jsx(MdCheckBox,{}):jsxRuntimeExports.jsx(MdOutlineCheckBoxOutlineBlank,{})}),jsxRuntimeExports.jsx("td",{children:o==null?void 0:o.Name}),jsxRuntimeExports.jsx("td",{style:{textAlign:"center"},children:e==null?void 0:e.Quantity})]},e.IdTreeComponent),s==null?void 0:s.map((c,h)=>{const g=Components==null?void 0:Components.find(et=>et.IdComponent===c.IdComponent),_=h===s.length-1;return jsxRuntimeExports.jsxs("tr",{style:_?{borderBottom:"2px solid black"}:{},children:[jsxRuntimeExports.jsx("td",{style:{paddingLeft:"30px"},children:jsxRuntimeExports.jsx(CgMathMinus,{})}),jsxRuntimeExports.jsx("td",{style:{paddingLeft:"30px"},children:g==null?void 0:g.Name}),jsxRuntimeExports.jsx("td",{style:{textAlign:"center"},children:c.Quantity})]},`${e.IdTreeComponent}-${c.IdTreeComponentDetail}`)})]})})})]})]})})]})}),jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",background:"rgb(0,0,0,0.5)",zIndex:"6666",display:Tree?"none":"flex",position:"fixed",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{className:componentStyles.contentForm,onClick:e=>{e.stopPropagation()},children:[jsxRuntimeExports.jsx("button",{onClick:()=>setTree(!0),style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",top:"10px",zIndex:"300",right:"10px"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),!Tree&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:componentStyles.containerCenter,children:[jsxRuntimeExports.jsx("h2",{style:{textAlign:"center"},children:"Árbol de componentes"}),jsxRuntimeExports.jsx(MermaidGraph,{generateGraph:generateMermaidGraph,treeProductComps:TreeProductComps,components:Components,treeCompsDetail:TreeCompsDetail,product}),calculateQuantity()]})})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>{const e=(TreeProductComps==null?void 0:TreeProductComps.map(o=>o.IdParent))??[];if(productComponentsServices.Delete(ComponentsProduct),e.length>0){const o=new ProductComponents("",e,product.IdProduct);productComponentsServices.Create(o)}window.history.back()},style:{cursor:"pointer",position:"fixed",top:"10px",left:"10px",zIndex:"1000",background:"none",border:"none"},children:jsxRuntimeExports.jsx(IoArrowBack,{size:30,color:"black"})})]})};function ErrorPage(){return jsxRuntimeExports.jsx("div",{id:"error-page",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"},children:jsxRuntimeExports.jsxs("main",{children:[jsxRuntimeExports.jsx("picture",{children:jsxRuntimeExports.jsx("img",{style:{borderRadius:"8px"},src:"https://midu.dev/images/this-is-fine-404.gif",alt:"error"})}),jsxRuntimeExports.jsx("h1",{children:"¡Error en la búsqueda de página!"}),jsxRuntimeExports.jsx("p",{children:"Ha ocurrido un error, vuelve a la página principal"})]})})}const main="_main_1b36b_1",titlePage="_titlePage_1b36b_13",contentForm="_contentForm_1b36b_27",ContentPageCSS={main,titlePage,contentForm},table$1="_table_37hvk_1",InventaryMain="_InventaryMain_37hvk_45",AddImage="_AddImage_37hvk_93",Detail$1="_Detail_37hvk_95",MoreDetail$1="_MoreDetail_37hvk_97",ButtonContainer="_ButtonContainer_37hvk_99",Title="_Title_37hvk_101",Form="_Form_37hvk_103",ContentFormInventary="_ContentFormInventary_37hvk_141",SelectGroup$1="_SelectGroup_37hvk_187",SelectCollection$1="_SelectCollection_37hvk_205",InventaryStyle={table:table$1,InventaryMain,AddImage,Detail:Detail$1,MoreDetail:MoreDetail$1,ButtonContainer,Title,Form,ContentFormInventary,SelectGroup:SelectGroup$1,SelectCollection:SelectCollection$1};class Product{constructor(o,s,a,c,h,g,_,et,rt,it,ot){Er(this,"IdProduct");Er(this,"ProductName");Er(this,"Date");Er(this,"Quantity");Er(this,"Group");Er(this,"Price");Er(this,"Collection");Er(this,"Select");Er(this,"Tags");Er(this,"Cost");Er(this,"Images");this.IdProduct=o,this.ProductName=s,this.Date=a,this.Quantity=c,this.Group=h,this.Price=g,this.Collection=_,this.Select=et,this.Cost=it,this.Tags=rt,this.Images=ot}}let Component$1=class{constructor(o,s,a){Er(this,"IdComponent");Er(this,"Name");Er(this,"Quantity");Er(this,"Select",!1);this.IdComponent=o,this.Name=s,this.Quantity=a}};const ImageContainer="_ImageContainer_1c7dk_1",SelectGroup="_SelectGroup_1c7dk_17",Delete="_Delete_1c7dk_35",SelectCollection="_SelectCollection_1c7dk_47",Container="_Container_1c7dk_65",Button$1="_Button_1c7dk_73",Collapse="_Collapse_1c7dk_83",container="_container_1c7dk_99",ButtonUpdate="_ButtonUpdate_1c7dk_121",Images="_Images_1c7dk_155",Detail="_Detail_1c7dk_167",MoreDetail="_MoreDetail_1c7dk_179",ButtonGrid="_ButtonGrid_1c7dk_191",Selection="_Selection_1c7dk_203",ProductStyle={ImageContainer,SelectGroup,Delete,SelectCollection,Container,Button:Button$1,Collapse,container,ButtonUpdate,Images,Detail,MoreDetail,ButtonGrid,Selection};function RxEyeOpen(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor"},child:[]}]})(e)}const form__group="_form__group_1qlm1_1",form__field="_form__field_1qlm1_17",form__label="_form__label_1qlm1_49",TextFieldCSS={form__group,form__field,form__label};function TextField({title:e,value:o,id:s,type:a,autoFocus:c,onChangeInputValue:h,isRequired:g,readOnly:_,compareValue:et}){return jsxRuntimeExports.jsxs("div",{className:`${TextFieldCSS.form__group}`,children:[jsxRuntimeExports.jsx("input",{onInvalid:rt=>{const it=rt.target;it.value===""&&it.setCustomValidity("Campo requerido, coloca: "+e),a==="number"&&((it.value==="--"||it.value==="e")&&it.setCustomValidity("Solamente números"),et!=null&&et>=Number.parseInt(it.value)&&it.setCustomValidity(e+" no puede ser menor o igual que: "+et))},onInput:rt=>{const it=rt.target;et!=null&&et>Number.parseInt(it.value)?it.setCustomValidity(e+" no puede ser menor o igual que: "+et):it.setCustomValidity("")},max:a==="date"?new Date().toISOString().split("T")[0]:"1000000",min:"0",step:"any",title:e,autoFocus:c,value:o,onChange:h,type:a,className:TextFieldCSS.form__field,placeholder:s,name:s,id:s,required:g,readOnly:_}),jsxRuntimeExports.jsx("label",{htmlFor:s,className:TextFieldCSS.form__label,children:e})]})}function RiImageAddLine(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934V13H20V5H4V18.999L14 9L17 12V14.829L14 11.8284L6.827 19H14V21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z"},child:[]}]})(e)}function RiEyeCloseLine(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.34268 18.7819L7.41083 18.2642L8.1983 15.3254C7.00919 14.8874 5.91661 14.2498 4.96116 13.4534L2.80783 15.6067L1.39362 14.1925L3.54695 12.0392C2.35581 10.6103 1.52014 8.87466 1.17578 6.96818L3.14386 6.61035C3.90289 10.8126 7.57931 14.0001 12.0002 14.0001C16.4211 14.0001 20.0976 10.8126 20.8566 6.61035L22.8247 6.96818C22.4803 8.87466 21.6446 10.6103 20.4535 12.0392L22.6068 14.1925L21.1926 15.6067L19.0393 13.4534C18.0838 14.2498 16.9912 14.8874 15.8021 15.3254L16.5896 18.2642L14.6578 18.7819L13.87 15.8418C13.2623 15.9459 12.6376 16.0001 12.0002 16.0001C11.3629 16.0001 10.7381 15.9459 10.1305 15.8418L9.34268 18.7819Z"},child:[]}]})(e)}var lib={},mode$1={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},mode=mode$1;function QR8bitByte(e){this.mode=mode.MODE_8BIT_BYTE,this.data=e}QR8bitByte.prototype={getLength:function(e){return this.data.length},write:function(e){for(var o=0;o<this.data.length;o++)e.put(this.data.charCodeAt(o),8)}};var _8BitByte=QR8bitByte,ErrorCorrectLevel={L:1,M:0,Q:3,H:2},ECL=ErrorCorrectLevel;function QRRSBlock(e,o){this.totalCount=e,this.dataCount=o}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(e,o){var s=QRRSBlock.getRsBlockTable(e,o);if(s==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+o);for(var a=s.length/3,c=new Array,h=0;h<a;h++)for(var g=s[h*3+0],_=s[h*3+1],et=s[h*3+2],rt=0;rt<g;rt++)c.push(new QRRSBlock(_,et));return c};QRRSBlock.getRsBlockTable=function(e,o){switch(o){case ECL.L:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+0];case ECL.M:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+1];case ECL.Q:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+2];case ECL.H:return QRRSBlock.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var RSBlock$1=QRRSBlock;function QRBitBuffer(){this.buffer=new Array,this.length=0}QRBitBuffer.prototype={get:function(e){var o=Math.floor(e/8);return(this.buffer[o]>>>7-e%8&1)==1},put:function(e,o){for(var s=0;s<o;s++)this.putBit((e>>>o-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}};var BitBuffer$1=QRBitBuffer,QRMath={glog:function(e){if(e<1)throw new Error("glog("+e+")");return QRMath.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return QRMath.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;i<255;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;var math$2=QRMath,math$1=math$2;function QRPolynomial(e,o){if(e.length==null)throw new Error(e.length+"/"+o);for(var s=0;s<e.length&&e[s]==0;)s++;this.num=new Array(e.length-s+o);for(var a=0;a<e.length-s;a++)this.num[a]=e[a+s]}QRPolynomial.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var o=new Array(this.getLength()+e.getLength()-1),s=0;s<this.getLength();s++)for(var a=0;a<e.getLength();a++)o[s+a]^=math$1.gexp(math$1.glog(this.get(s))+math$1.glog(e.get(a)));return new QRPolynomial(o,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var o=math$1.glog(this.get(0))-math$1.glog(e.get(0)),s=new Array(this.getLength()),a=0;a<this.getLength();a++)s[a]=this.get(a);for(var a=0;a<e.getLength();a++)s[a]^=math$1.gexp(math$1.glog(e.get(a))+o);return new QRPolynomial(s,0).mod(e)}};var Polynomial$2=QRPolynomial,Mode=mode$1,Polynomial$1=Polynomial$2,math=math$2,QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var o=e<<10;QRUtil.getBCHDigit(o)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)o^=QRUtil.G15<<QRUtil.getBCHDigit(o)-QRUtil.getBCHDigit(QRUtil.G15);return(e<<10|o)^QRUtil.G15_MASK},getBCHTypeNumber:function(e){for(var o=e<<12;QRUtil.getBCHDigit(o)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)o^=QRUtil.G18<<QRUtil.getBCHDigit(o)-QRUtil.getBCHDigit(QRUtil.G18);return e<<12|o},getBCHDigit:function(e){for(var o=0;e!=0;)o++,e>>>=1;return o},getPatternPosition:function(e){return QRUtil.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,o,s){switch(e){case QRMaskPattern.PATTERN000:return(o+s)%2==0;case QRMaskPattern.PATTERN001:return o%2==0;case QRMaskPattern.PATTERN010:return s%3==0;case QRMaskPattern.PATTERN011:return(o+s)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(o/2)+Math.floor(s/3))%2==0;case QRMaskPattern.PATTERN101:return o*s%2+o*s%3==0;case QRMaskPattern.PATTERN110:return(o*s%2+o*s%3)%2==0;case QRMaskPattern.PATTERN111:return(o*s%3+(o+s)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var o=new Polynomial$1([1],0),s=0;s<e;s++)o=o.multiply(new Polynomial$1([1,math.gexp(s)],0));return o},getLengthInBits:function(e,o){if(1<=o&&o<10)switch(e){case Mode.MODE_NUMBER:return 10;case Mode.MODE_ALPHA_NUM:return 9;case Mode.MODE_8BIT_BYTE:return 8;case Mode.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(o<27)switch(e){case Mode.MODE_NUMBER:return 12;case Mode.MODE_ALPHA_NUM:return 11;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(o<41)switch(e){case Mode.MODE_NUMBER:return 14;case Mode.MODE_ALPHA_NUM:return 13;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+o)},getLostPoint:function(e){for(var o=e.getModuleCount(),s=0,a=0;a<o;a++)for(var c=0;c<o;c++){for(var h=0,g=e.isDark(a,c),_=-1;_<=1;_++)if(!(a+_<0||o<=a+_))for(var et=-1;et<=1;et++)c+et<0||o<=c+et||_==0&&et==0||g==e.isDark(a+_,c+et)&&h++;h>5&&(s+=3+h-5)}for(var a=0;a<o-1;a++)for(var c=0;c<o-1;c++){var rt=0;e.isDark(a,c)&&rt++,e.isDark(a+1,c)&&rt++,e.isDark(a,c+1)&&rt++,e.isDark(a+1,c+1)&&rt++,(rt==0||rt==4)&&(s+=3)}for(var a=0;a<o;a++)for(var c=0;c<o-6;c++)e.isDark(a,c)&&!e.isDark(a,c+1)&&e.isDark(a,c+2)&&e.isDark(a,c+3)&&e.isDark(a,c+4)&&!e.isDark(a,c+5)&&e.isDark(a,c+6)&&(s+=40);for(var c=0;c<o;c++)for(var a=0;a<o-6;a++)e.isDark(a,c)&&!e.isDark(a+1,c)&&e.isDark(a+2,c)&&e.isDark(a+3,c)&&e.isDark(a+4,c)&&!e.isDark(a+5,c)&&e.isDark(a+6,c)&&(s+=40);for(var it=0,c=0;c<o;c++)for(var a=0;a<o;a++)e.isDark(a,c)&&it++;var ot=Math.abs(100*it/o/o-50)/5;return s+=ot*10,s}},util$1=QRUtil,BitByte=_8BitByte,RSBlock=RSBlock$1,BitBuffer=BitBuffer$1,util=util$1,Polynomial=Polynomial$2;function QRCode$1(e,o){this.typeNumber=e,this.errorCorrectLevel=o,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var proto=QRCode$1.prototype;proto.addData=function(e){var o=new BitByte(e);this.dataList.push(o),this.dataCache=null};proto.isDark=function(e,o){if(e<0||this.moduleCount<=e||o<0||this.moduleCount<=o)throw new Error(e+","+o);return this.modules[e][o]};proto.getModuleCount=function(){return this.moduleCount};proto.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var o=RSBlock.getRSBlocks(e,this.errorCorrectLevel),s=new BitBuffer,a=0,c=0;c<o.length;c++)a+=o[c].dataCount;for(var c=0;c<this.dataList.length;c++){var h=this.dataList[c];s.put(h.mode,4),s.put(h.getLength(),util.getLengthInBits(h.mode,e)),h.write(s)}if(s.getLengthInBits()<=a*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};proto.makeImpl=function(e,o){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[s][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,o),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=QRCode$1.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,o)};proto.setupPositionProbePattern=function(e,o){for(var s=-1;s<=7;s++)if(!(e+s<=-1||this.moduleCount<=e+s))for(var a=-1;a<=7;a++)o+a<=-1||this.moduleCount<=o+a||(0<=s&&s<=6&&(a==0||a==6)||0<=a&&a<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=a&&a<=4?this.modules[e+s][o+a]=!0:this.modules[e+s][o+a]=!1)};proto.getBestMaskPattern=function(){for(var e=0,o=0,s=0;s<8;s++){this.makeImpl(!0,s);var a=util.getLostPoint(this);(s==0||e>a)&&(e=a,o=s)}return o};proto.createMovieClip=function(e,o,s){var a=e.createEmptyMovieClip(o,s),c=1;this.make();for(var h=0;h<this.modules.length;h++)for(var g=h*c,_=0;_<this.modules[h].length;_++){var et=_*c,rt=this.modules[h][_];rt&&(a.beginFill(0,100),a.moveTo(et,g),a.lineTo(et+c,g),a.lineTo(et+c,g+c),a.lineTo(et,g+c),a.endFill())}return a};proto.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var o=8;o<this.moduleCount-8;o++)this.modules[6][o]==null&&(this.modules[6][o]=o%2==0)};proto.setupPositionAdjustPattern=function(){for(var e=util.getPatternPosition(this.typeNumber),o=0;o<e.length;o++)for(var s=0;s<e.length;s++){var a=e[o],c=e[s];if(this.modules[a][c]==null)for(var h=-2;h<=2;h++)for(var g=-2;g<=2;g++)h==-2||h==2||g==-2||g==2||h==0&&g==0?this.modules[a+h][c+g]=!0:this.modules[a+h][c+g]=!1}};proto.setupTypeNumber=function(e){for(var o=util.getBCHTypeNumber(this.typeNumber),s=0;s<18;s++){var a=!e&&(o>>s&1)==1;this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=a}for(var s=0;s<18;s++){var a=!e&&(o>>s&1)==1;this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=a}};proto.setupTypeInfo=function(e,o){for(var s=this.errorCorrectLevel<<3|o,a=util.getBCHTypeInfo(s),c=0;c<15;c++){var h=!e&&(a>>c&1)==1;c<6?this.modules[c][8]=h:c<8?this.modules[c+1][8]=h:this.modules[this.moduleCount-15+c][8]=h}for(var c=0;c<15;c++){var h=!e&&(a>>c&1)==1;c<8?this.modules[8][this.moduleCount-c-1]=h:c<9?this.modules[8][15-c-1+1]=h:this.modules[8][15-c-1]=h}this.modules[this.moduleCount-8][8]=!e};proto.mapData=function(e,o){for(var s=-1,a=this.moduleCount-1,c=7,h=0,g=this.moduleCount-1;g>0;g-=2)for(g==6&&g--;;){for(var _=0;_<2;_++)if(this.modules[a][g-_]==null){var et=!1;h<e.length&&(et=(e[h]>>>c&1)==1);var rt=util.getMask(o,a,g-_);rt&&(et=!et),this.modules[a][g-_]=et,c--,c==-1&&(h++,c=7)}if(a+=s,a<0||this.moduleCount<=a){a-=s,s=-s;break}}};QRCode$1.PAD0=236;QRCode$1.PAD1=17;QRCode$1.createData=function(e,o,s){for(var a=RSBlock.getRSBlocks(e,o),c=new BitBuffer,h=0;h<s.length;h++){var g=s[h];c.put(g.mode,4),c.put(g.getLength(),util.getLengthInBits(g.mode,e)),g.write(c)}for(var _=0,h=0;h<a.length;h++)_+=a[h].dataCount;if(c.getLengthInBits()>_*8)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+_*8+")");for(c.getLengthInBits()+4<=_*8&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=_*8||(c.put(QRCode$1.PAD0,8),c.getLengthInBits()>=_*8));)c.put(QRCode$1.PAD1,8);return QRCode$1.createBytes(c,a)};QRCode$1.createBytes=function(e,o){for(var s=0,a=0,c=0,h=new Array(o.length),g=new Array(o.length),_=0;_<o.length;_++){var et=o[_].dataCount,rt=o[_].totalCount-et;a=Math.max(a,et),c=Math.max(c,rt),h[_]=new Array(et);for(var it=0;it<h[_].length;it++)h[_][it]=255&e.buffer[it+s];s+=et;var ot=util.getErrorCorrectPolynomial(rt),st=new Polynomial(h[_],ot.getLength()-1),ct=st.mod(ot);g[_]=new Array(ot.getLength()-1);for(var it=0;it<g[_].length;it++){var dt=it+ct.getLength()-g[_].length;g[_][it]=dt>=0?ct.get(dt):0}}for(var Tt=0,it=0;it<o.length;it++)Tt+=o[it].totalCount;for(var Et=new Array(Tt),mt=0,it=0;it<a;it++)for(var _=0;_<o.length;_++)it<h[_].length&&(Et[mt++]=h[_][it]);for(var it=0;it<c;it++)for(var _=0;_<o.length;_++)it<g[_].length&&(Et[mt++]=g[_][it]);return Et};var QRCode_1=QRCode$1,propTypes$2={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(a,c,h,g,_,et){if(et!==ReactPropTypesSecret){var rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw rt.name="Invariant Violation",rt}}e.isRequired=e;function o(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,elementType:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes$2.exports=factoryWithThrowingShims();var propTypesExports=propTypes$2.exports,QRCodeSvg$1={};Object.defineProperty(QRCodeSvg$1,"__esModule",{value:!0});var _extends$2=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_propTypes$1=propTypesExports,_propTypes2$1=_interopRequireDefault$1(_propTypes$1),_react$1=reactExports,_react2$1=_interopRequireDefault$1(_react$1);function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties$1(e,o){var s={};for(var a in e)o.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}var propTypes$1={bgColor:_propTypes2$1.default.oneOfType([_propTypes2$1.default.object,_propTypes2$1.default.string]).isRequired,bgD:_propTypes2$1.default.string.isRequired,fgColor:_propTypes2$1.default.oneOfType([_propTypes2$1.default.object,_propTypes2$1.default.string]).isRequired,fgD:_propTypes2$1.default.string.isRequired,size:_propTypes2$1.default.number.isRequired,title:_propTypes2$1.default.string,viewBoxSize:_propTypes2$1.default.number.isRequired,xmlns:_propTypes2$1.default.string},defaultProps$2={title:void 0,xmlns:"http://www.w3.org/2000/svg"},QRCodeSvg=(0,_react$1.forwardRef)(function(e,o){var s=e.bgColor,a=e.bgD,c=e.fgD,h=e.fgColor,g=e.size,_=e.title,et=e.viewBoxSize,rt=_objectWithoutProperties$1(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return _react2$1.default.createElement("svg",_extends$2({},rt,{height:g,ref:o,viewBox:"0 0 "+et+" "+et,width:g}),_?_react2$1.default.createElement("title",null,_):null,_react2$1.default.createElement("path",{d:a,fill:s}),_react2$1.default.createElement("path",{d:c,fill:h}))});QRCodeSvg.displayName="QRCodeSvg";QRCodeSvg.propTypes=propTypes$1;QRCodeSvg.defaultProps=defaultProps$2;QRCodeSvg$1.default=QRCodeSvg;Object.defineProperty(lib,"__esModule",{value:!0});lib.QRCode=void 0;var _extends$1=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_QRCode=QRCode_1,_QRCode2=_interopRequireDefault(_QRCode),_ErrorCorrectLevel=ErrorCorrectLevel,_ErrorCorrectLevel2=_interopRequireDefault(_ErrorCorrectLevel),_propTypes=propTypesExports,_propTypes2=_interopRequireDefault(_propTypes),_react=reactExports,_react2=_interopRequireDefault(_react),_QRCodeSvg=QRCodeSvg$1,_QRCodeSvg2=_interopRequireDefault(_QRCodeSvg);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _objectWithoutProperties(e,o){var s={};for(var a in e)o.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}var propTypes={bgColor:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.string]),fgColor:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.string]),level:_propTypes2.default.string,size:_propTypes2.default.number,value:_propTypes2.default.string.isRequired},defaultProps$1={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},QRCode=(0,_react.forwardRef)(function(e,o){var s=e.bgColor,a=e.fgColor,c=e.level,h=e.size,g=e.value,_=_objectWithoutProperties(e,["bgColor","fgColor","level","size","value"]),et=new _QRCode2.default(-1,_ErrorCorrectLevel2.default[c]);et.addData(g),et.make();var rt=et.modules;return _react2.default.createElement(_QRCodeSvg2.default,_extends$1({},_,{bgColor:s,bgD:rt.map(function(it,ot){return it.map(function(st,ct){return st?"":"M "+ct+" "+ot+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:a,fgD:rt.map(function(it,ot){return it.map(function(st,ct){return st?"M "+ct+" "+ot+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:o,size:h,viewBoxSize:rt.length}))});lib.QRCode=QRCode;QRCode.displayName="QRCode";QRCode.propTypes=propTypes;QRCode.defaultProps=defaultProps$1;var _default$1=lib.default=QRCode,{entries:ke,setPrototypeOf:Ne,isFrozen:Ze,getPrototypeOf:Je,getOwnPropertyDescriptor:Qe}=Object,{freeze:O$1,seal:X$1,create:Be}=Object,{apply:ce$1,construct:de}=typeof Reflect<"u"&&Reflect;O$1||(O$1=function(e){return e});X$1||(X$1=function(e){return e});ce$1||(ce$1=function(e,o,s){return e.apply(o,s)});de||(de=function(e,o){return new e(...o)});var Zt=F$2(Array.prototype.forEach),De=F$2(Array.prototype.pop),jt=F$2(Array.prototype.push),te$1=F$2(String.prototype.toLowerCase),ae$2=F$2(String.prototype.toString),Ie$1=F$2(String.prototype.match),$t=F$2(String.prototype.replace),tn=F$2(String.prototype.indexOf),en=F$2(String.prototype.trim),Q$1=F$2(Object.prototype.hasOwnProperty),U$1=F$2(RegExp.prototype.test),Vt=nn(TypeError);function F$2(e){return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return ce$1(e,o,a)}}function nn(e){return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return de(e,s)}}function d(e,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:te$1;Ne&&Ne(e,null);let a=o.length;for(;a--;){let c=o[a];if(typeof c=="string"){let h=s(c);h!==c&&(Ze(o)||(o[a]=h),c=h)}e[c]=!0}return e}function on(e){for(let o=0;o<e.length;o++)Q$1(e,o)||(e[o]=null);return e}function Nt(e){let o=Be(null);for(let[s,a]of ke(e))Q$1(e,s)&&(Array.isArray(a)?o[s]=on(a):a&&typeof a=="object"&&a.constructor===Object?o[s]=Nt(a):o[s]=a);return o}function Jt(e,o){for(;e!==null;){let a=Qe(e,o);if(a){if(a.get)return F$2(a.get);if(typeof a.value=="function")return F$2(a.value)}e=Je(e)}function s(){return null}return s}var Ce=O$1(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),re=O$1(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),se$1=O$1(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),an=O$1(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ie$1=O$1(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),rn=O$1(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Le=O$1(["#text"]),Me=O$1(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),le=O$1(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pe$1=O$1(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Qt=O$1(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),sn=X$1(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ln=X$1(/<%[\w\W]*|[\w\W]*%>/gm),cn=X$1(/\${[\w\W]*}/gm),dn=X$1(/^data-[\-\w.\u00B7-\uFFFF]/),un=X$1(/^aria-[\-\w]+$/),He=X$1(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fn=X$1(/^(?:\w+script|data):/i),mn=X$1(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ue=X$1(/^html$/i),pn=X$1(/^[a-z][a-z\d]*(-[a-z\d]+)+$/i),Oe=Object.freeze({__proto__:null,MUSTACHE_EXPR:sn,ERB_EXPR:ln,TMPLIT_EXPR:cn,DATA_ATTR:dn,ARIA_ATTR:un,IS_ALLOWED_URI:He,IS_SCRIPT_OR_DATA:fn,ATTR_WHITESPACE:mn,DOCTYPE_NAME:Ue,CUSTOM_ELEMENT:pn}),gn=function(){return typeof window>"u"?null:window},hn=function(e,o){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null,a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(s=o.getAttribute(a));let c="dompurify"+(s?"#"+s:"");try{return e.createPolicy(c,{createHTML(h){return h},createScriptURL(h){return h}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}};function Fe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gn(),o=wt=>Fe(wt);if(o.version="3.0.10",o.removed=[],!e||!e.document||e.document.nodeType!==9)return o.isSupported=!1,o;let{document:s}=e,a=s,c=a.currentScript,{DocumentFragment:h,HTMLTemplateElement:g,Node:_,Element:et,NodeFilter:rt,NamedNodeMap:it=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:ot,DOMParser:st,trustedTypes:ct}=e,dt=et.prototype,Tt=Jt(dt,"cloneNode"),Et=Jt(dt,"nextSibling"),mt=Jt(dt,"childNodes"),gt=Jt(dt,"parentNode");if(typeof g=="function"){let wt=s.createElement("template");wt.content&&wt.content.ownerDocument&&(s=wt.content.ownerDocument)}let xt,bt="",{implementation:It,createNodeIterator:Ut,createDocumentFragment:Ft,getElementsByTagName:Bt}=s,{importNode:cr}=a,Ht={};o.isSupported=typeof ke=="function"&&typeof gt=="function"&&It&&It.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:pr,ERB_EXPR:Ar,TMPLIT_EXPR:Rr,DATA_ATTR:dr,ARIA_ATTR:Yt,IS_SCRIPT_OR_DATA:Pt,ATTR_WHITESPACE:ur,CUSTOM_ELEMENT:Lt}=Oe,{IS_ALLOWED_URI:rr}=Oe,tr=null,Kt=d({},[...Ce,...re,...se$1,...ie$1,...Le]),Dt=null,hr=d({},[...Me,...le,...Pe$1,...Qt]),ar=Object.seal(Be(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tr=null,yr=null,Mt=!0,sr=!0,xr=!1,ir=!0,nr=!1,lr=!1,Cr=!1,Pr=!1,$r=!1,Mr=!1,Qn=!1,eo=!0,On=!1,ao="user-content-",Yn=!0,io=!1,Vn={},Kn=null,to=d({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),wo=null,So=d({},["audio","video","img","source","image","track"]),mo=null,Xn=d({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),To="http://www.w3.org/1998/Math/MathML",oo="http://www.w3.org/2000/svg",kn="http://www.w3.org/1999/xhtml",qn=kn,jr=!1,or=null,Fr=d({},[To,oo,kn],ae$2),Hr=null,Hn=["application/xhtml+xml","text/html"],so="text/html",Wr=null,Gr=null,Ro=s.createElement("form"),Bo=function(wt){return wt instanceof RegExp||wt instanceof Function},ro=function(){let wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Gr&&Gr===wt)){if((!wt||typeof wt!="object")&&(wt={}),wt=Nt(wt),Hr=Hn.indexOf(wt.PARSER_MEDIA_TYPE)===-1?so:wt.PARSER_MEDIA_TYPE,Wr=Hr==="application/xhtml+xml"?ae$2:te$1,tr=Q$1(wt,"ALLOWED_TAGS")?d({},wt.ALLOWED_TAGS,Wr):Kt,Dt=Q$1(wt,"ALLOWED_ATTR")?d({},wt.ALLOWED_ATTR,Wr):hr,or=Q$1(wt,"ALLOWED_NAMESPACES")?d({},wt.ALLOWED_NAMESPACES,ae$2):Fr,mo=Q$1(wt,"ADD_URI_SAFE_ATTR")?d(Nt(Xn),wt.ADD_URI_SAFE_ATTR,Wr):Xn,wo=Q$1(wt,"ADD_DATA_URI_TAGS")?d(Nt(So),wt.ADD_DATA_URI_TAGS,Wr):So,Kn=Q$1(wt,"FORBID_CONTENTS")?d({},wt.FORBID_CONTENTS,Wr):to,Tr=Q$1(wt,"FORBID_TAGS")?d({},wt.FORBID_TAGS,Wr):{},yr=Q$1(wt,"FORBID_ATTR")?d({},wt.FORBID_ATTR,Wr):{},Vn=Q$1(wt,"USE_PROFILES")?wt.USE_PROFILES:!1,Mt=wt.ALLOW_ARIA_ATTR!==!1,sr=wt.ALLOW_DATA_ATTR!==!1,xr=wt.ALLOW_UNKNOWN_PROTOCOLS||!1,ir=wt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,nr=wt.SAFE_FOR_TEMPLATES||!1,lr=wt.WHOLE_DOCUMENT||!1,$r=wt.RETURN_DOM||!1,Mr=wt.RETURN_DOM_FRAGMENT||!1,Qn=wt.RETURN_TRUSTED_TYPE||!1,Pr=wt.FORCE_BODY||!1,eo=wt.SANITIZE_DOM!==!1,On=wt.SANITIZE_NAMED_PROPS||!1,Yn=wt.KEEP_CONTENT!==!1,io=wt.IN_PLACE||!1,rr=wt.ALLOWED_URI_REGEXP||He,qn=wt.NAMESPACE||kn,ar=wt.CUSTOM_ELEMENT_HANDLING||{},wt.CUSTOM_ELEMENT_HANDLING&&Bo(wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ar.tagNameCheck=wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),wt.CUSTOM_ELEMENT_HANDLING&&Bo(wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ar.attributeNameCheck=wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),wt.CUSTOM_ELEMENT_HANDLING&&typeof wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ar.allowCustomizedBuiltInElements=wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),nr&&(sr=!1),Mr&&($r=!0),Vn&&(tr=d({},Le),Dt=[],Vn.html===!0&&(d(tr,Ce),d(Dt,Me)),Vn.svg===!0&&(d(tr,re),d(Dt,le),d(Dt,Qt)),Vn.svgFilters===!0&&(d(tr,se$1),d(Dt,le),d(Dt,Qt)),Vn.mathMl===!0&&(d(tr,ie$1),d(Dt,Pe$1),d(Dt,Qt))),wt.ADD_TAGS&&(tr===Kt&&(tr=Nt(tr)),d(tr,wt.ADD_TAGS,Wr)),wt.ADD_ATTR&&(Dt===hr&&(Dt=Nt(Dt)),d(Dt,wt.ADD_ATTR,Wr)),wt.ADD_URI_SAFE_ATTR&&d(mo,wt.ADD_URI_SAFE_ATTR,Wr),wt.FORBID_CONTENTS&&(Kn===to&&(Kn=Nt(Kn)),d(Kn,wt.FORBID_CONTENTS,Wr)),Yn&&(tr["#text"]=!0),lr&&d(tr,["html","head","body"]),tr.table&&(d(tr,["tbody"]),delete Tr.tbody),wt.TRUSTED_TYPES_POLICY){if(typeof wt.TRUSTED_TYPES_POLICY.createHTML!="function")throw Vt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof wt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Vt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');xt=wt.TRUSTED_TYPES_POLICY,bt=xt.createHTML("")}else xt===void 0&&(xt=hn(ct,c)),xt!==null&&typeof bt=="string"&&(bt=xt.createHTML(""));O$1&&O$1(wt),Gr=wt}},lo=d({},["mi","mo","mn","ms","mtext"]),co=d({},["foreignobject","desc","title","annotation-xml"]),No=d({},["title","style","font","a","script"]),jo=d({},[...re,...se$1,...an]),Ho=d({},[...ie$1,...rn]),Wo=function(wt){let vr=gt(wt);(!vr||!vr.tagName)&&(vr={namespaceURI:qn,tagName:"template"});let Wt=te$1(wt.tagName),At=te$1(vr.tagName);return or[wt.namespaceURI]?wt.namespaceURI===oo?vr.namespaceURI===kn?Wt==="svg":vr.namespaceURI===To?Wt==="svg"&&(At==="annotation-xml"||lo[At]):!!jo[Wt]:wt.namespaceURI===To?vr.namespaceURI===kn?Wt==="math":vr.namespaceURI===oo?Wt==="math"&&co[At]:!!Ho[Wt]:wt.namespaceURI===kn?vr.namespaceURI===oo&&!co[At]||vr.namespaceURI===To&&!lo[At]?!1:!Ho[Wt]&&(No[Wt]||!jo[Wt]):!!(Hr==="application/xhtml+xml"&&or[wt.namespaceURI]):!1},Eo=function(wt){jt(o.removed,{element:wt});try{wt.parentNode.removeChild(wt)}catch{wt.remove()}},Ao=function(wt,vr){try{jt(o.removed,{attribute:vr.getAttributeNode(wt),from:vr})}catch{jt(o.removed,{attribute:null,from:vr})}if(vr.removeAttribute(wt),wt==="is"&&!Dt[wt])if($r||Mr)try{Eo(vr)}catch{}else try{vr.setAttribute(wt,"")}catch{}},Lr=function(wt){let vr=null,Wt=null;if(Pr)wt="<remove></remove>"+wt;else{let _r=Ie$1(wt,/^[\r\n\t ]+/);Wt=_r&&_r[0]}Hr==="application/xhtml+xml"&&qn===kn&&(wt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+wt+"</body></html>");let At=xt?xt.createHTML(wt):wt;if(qn===kn)try{vr=new st().parseFromString(At,Hr)}catch{}if(!vr||!vr.documentElement){vr=It.createDocument(qn,"template",null);try{vr.documentElement.innerHTML=jr?bt:At}catch{}}let yt=vr.body||vr.documentElement;return wt&&Wt&&yt.insertBefore(s.createTextNode(Wt),yt.childNodes[0]||null),qn===kn?Bt.call(vr,lr?"html":"body")[0]:lr?vr.documentElement:yt},lt=function(wt){return Ut.call(wt.ownerDocument||wt,wt,rt.SHOW_ELEMENT|rt.SHOW_COMMENT|rt.SHOW_TEXT|rt.SHOW_PROCESSING_INSTRUCTION,null)},ut=function(wt){return wt instanceof ot&&(typeof wt.nodeName!="string"||typeof wt.textContent!="string"||typeof wt.removeChild!="function"||!(wt.attributes instanceof it)||typeof wt.removeAttribute!="function"||typeof wt.setAttribute!="function"||typeof wt.namespaceURI!="string"||typeof wt.insertBefore!="function"||typeof wt.hasChildNodes!="function")},fr=function(wt){return typeof _=="function"&&wt instanceof _},pt=function(wt,vr,Wt){Ht[wt]&&Zt(Ht[wt],At=>{At.call(o,vr,Wt,Gr)})},St=function(wt){let vr=null;if(pt("beforeSanitizeElements",wt,null),ut(wt))return Eo(wt),!0;let Wt=Wr(wt.nodeName);if(pt("uponSanitizeElement",wt,{tagName:Wt,allowedTags:tr}),wt.hasChildNodes()&&!fr(wt.firstElementChild)&&U$1(/<[/\w]/g,wt.innerHTML)&&U$1(/<[/\w]/g,wt.textContent))return Eo(wt),!0;if(!tr[Wt]||Tr[Wt]){if(!Tr[Wt]&&br(Wt)&&(ar.tagNameCheck instanceof RegExp&&U$1(ar.tagNameCheck,Wt)||ar.tagNameCheck instanceof Function&&ar.tagNameCheck(Wt)))return!1;if(Yn&&!Kn[Wt]){let At=gt(wt)||wt.parentNode,yt=mt(wt)||wt.childNodes;if(yt&&At){let _r=yt.length;for(let Rt=_r-1;Rt>=0;--Rt)At.insertBefore(Tt(yt[Rt],!0),Et(wt))}}return Eo(wt),!0}return wt instanceof et&&!Wo(wt)||(Wt==="noscript"||Wt==="noembed"||Wt==="noframes")&&U$1(/<\/no(script|embed|frames)/i,wt.innerHTML)?(Eo(wt),!0):(nr&&wt.nodeType===3&&(vr=wt.textContent,Zt([pr,Ar,Rr],At=>{vr=$t(vr,At," ")}),wt.textContent!==vr&&(jt(o.removed,{element:wt.cloneNode()}),wt.textContent=vr)),pt("afterSanitizeElements",wt,null),!1)},Or=function(wt,vr,Wt){if(eo&&(vr==="id"||vr==="name")&&(Wt in s||Wt in Ro))return!1;if(!(sr&&!yr[vr]&&U$1(dr,vr))&&!(Mt&&U$1(Yt,vr))){if(!Dt[vr]||yr[vr]){if(!(br(wt)&&(ar.tagNameCheck instanceof RegExp&&U$1(ar.tagNameCheck,wt)||ar.tagNameCheck instanceof Function&&ar.tagNameCheck(wt))&&(ar.attributeNameCheck instanceof RegExp&&U$1(ar.attributeNameCheck,vr)||ar.attributeNameCheck instanceof Function&&ar.attributeNameCheck(vr))||vr==="is"&&ar.allowCustomizedBuiltInElements&&(ar.tagNameCheck instanceof RegExp&&U$1(ar.tagNameCheck,Wt)||ar.tagNameCheck instanceof Function&&ar.tagNameCheck(Wt))))return!1}else if(!mo[vr]&&!U$1(rr,$t(Wt,ur,""))&&!((vr==="src"||vr==="xlink:href"||vr==="href")&&wt!=="script"&&tn(Wt,"data:")===0&&wo[wt])&&!(xr&&!U$1(Pt,$t(Wt,ur,"")))&&Wt)return!1}return!0},br=function(wt){return wt!=="annotation-xml"&&Ie$1(wt,Lt)},Wn=function(wt){pt("beforeSanitizeAttributes",wt,null);let{attributes:vr}=wt;if(!vr)return;let Wt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Dt},At=vr.length;for(;At--;){let yt=vr[At],{name:_r,namespaceURI:Rt,value:Yr}=yt,Qr=Wr(_r),qr=_r==="value"?Yr:en(Yr);if(Wt.attrName=Qr,Wt.attrValue=qr,Wt.keepAttr=!0,Wt.forceKeepAttr=void 0,pt("uponSanitizeAttribute",wt,Wt),qr=Wt.attrValue,Wt.forceKeepAttr||(Ao(_r,wt),!Wt.keepAttr))continue;if(!ir&&U$1(/\/>/i,qr)){Ao(_r,wt);continue}nr&&Zt([pr,Ar,Rr],kr=>{qr=$t(qr,kr," ")});let zn=Wr(wt.nodeName);if(Or(zn,Qr,qr)){if(On&&(Qr==="id"||Qr==="name")&&(Ao(_r,wt),qr=ao+qr),xt&&typeof ct=="object"&&typeof ct.getAttributeType=="function"&&!Rt)switch(ct.getAttributeType(zn,Qr)){case"TrustedHTML":{qr=xt.createHTML(qr);break}case"TrustedScriptURL":{qr=xt.createScriptURL(qr);break}}try{Rt?wt.setAttributeNS(Rt,_r,qr):wt.setAttribute(_r,qr),De(o.removed)}catch{}}}pt("afterSanitizeAttributes",wt,null)},Co=function wt(vr){let Wt=null,At=lt(vr);for(pt("beforeSanitizeShadowDOM",vr,null);Wt=At.nextNode();)pt("uponSanitizeShadowNode",Wt,null),!St(Wt)&&(Wt.content instanceof h&&wt(Wt.content),Wn(Wt));pt("afterSanitizeShadowDOM",vr,null)};return o.sanitize=function(wt){let vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Wt=null,At=null,yt=null,_r=null;if(jr=!wt,jr&&(wt="<!-->"),typeof wt!="string"&&!fr(wt))if(typeof wt.toString=="function"){if(wt=wt.toString(),typeof wt!="string")throw Vt("dirty is not a string, aborting")}else throw Vt("toString is not a function");if(!o.isSupported)return wt;if(Cr||ro(vr),o.removed=[],typeof wt=="string"&&(io=!1),io){if(wt.nodeName){let Qr=Wr(wt.nodeName);if(!tr[Qr]||Tr[Qr])throw Vt("root node is forbidden and cannot be sanitized in-place")}}else if(wt instanceof _)Wt=Lr("<!---->"),At=Wt.ownerDocument.importNode(wt,!0),At.nodeType===1&&At.nodeName==="BODY"||At.nodeName==="HTML"?Wt=At:Wt.appendChild(At);else{if(!$r&&!nr&&!lr&&wt.indexOf("<")===-1)return xt&&Qn?xt.createHTML(wt):wt;if(Wt=Lr(wt),!Wt)return $r?null:Qn?bt:""}Wt&&Pr&&Eo(Wt.firstChild);let Rt=lt(io?wt:Wt);for(;yt=Rt.nextNode();)St(yt)||(yt.content instanceof h&&Co(yt.content),Wn(yt));if(io)return wt;if($r){if(Mr)for(_r=Ft.call(Wt.ownerDocument);Wt.firstChild;)_r.appendChild(Wt.firstChild);else _r=Wt;return(Dt.shadowroot||Dt.shadowrootmode)&&(_r=cr.call(a,_r,!0)),_r}let Yr=lr?Wt.outerHTML:Wt.innerHTML;return lr&&tr["!doctype"]&&Wt.ownerDocument&&Wt.ownerDocument.doctype&&Wt.ownerDocument.doctype.name&&U$1(Ue,Wt.ownerDocument.doctype.name)&&(Yr="<!DOCTYPE "+Wt.ownerDocument.doctype.name+`>
`+Yr),nr&&Zt([pr,Ar,Rr],Qr=>{Yr=$t(Yr,Qr," ")}),xt&&Qn?xt.createHTML(Yr):Yr},o.setConfig=function(){let wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ro(wt),Cr=!0},o.clearConfig=function(){Gr=null,Cr=!1},o.isValidAttribute=function(wt,vr,Wt){Gr||ro({});let At=Wr(wt),yt=Wr(vr);return Or(At,yt,Wt)},o.addHook=function(wt,vr){typeof vr=="function"&&(Ht[wt]=Ht[wt]||[],jt(Ht[wt],vr))},o.removeHook=function(wt){if(Ht[wt])return De(Ht[wt])},o.removeHooks=function(wt){Ht[wt]&&(Ht[wt]=[])},o.removeAllHooks=function(){Ht={}},o}var ze=Fe(),We=e=>{switch(e){case"success":return bn;case"info":return En;case"warning":return yn;case"error":return wn;default:return null}},Tn=Array(12).fill(0),Ye=({visible:e})=>React.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},React.createElement("div",{className:"sonner-spinner"},Tn.map((o,s)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),bn=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yn=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),En=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wn=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),je=()=>{let[e,o]=React.useState(!1);return React.useEffect(()=>{let s=()=>{o(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},ue$1=1,fe$1=class{constructor(){this.subscribe=o=>(this.subscribers.push(o),()=>{let s=this.subscribers.indexOf(o);this.subscribers.splice(s,1)}),this.publish=o=>{this.subscribers.forEach(s=>s(o))},this.addToast=o=>{this.publish(o),this.toasts=[...this.toasts,o]},this.create=o=>{var s;let{message:a,...c}=o,h=typeof(o==null?void 0:o.id)=="number"||((s=o.id)==null?void 0:s.length)>0?o.id:ue$1++,g=this.toasts.find(et=>et.id===h),_=o.dismissible===void 0?!0:o.dismissible;return g?this.toasts=this.toasts.map(et=>et.id===h?(this.publish({...et,...o,id:h,title:a}),{...et,...o,id:h,dismissible:_,title:a}):et):this.addToast({title:a,...c,dismissible:_,id:h}),h},this.dismiss=o=>(o||this.toasts.forEach(s=>{this.subscribers.forEach(a=>a({id:s.id,dismiss:!0}))}),this.subscribers.forEach(s=>s({id:o,dismiss:!0})),o),this.message=(o,s)=>this.create({...s,message:o}),this.error=(o,s)=>this.create({...s,message:o,type:"error"}),this.success=(o,s)=>this.create({...s,type:"success",message:o}),this.info=(o,s)=>this.create({...s,type:"info",message:o}),this.warning=(o,s)=>this.create({...s,type:"warning",message:o}),this.loading=(o,s)=>this.create({...s,type:"loading",message:o}),this.promise=(o,s)=>{if(!s)return;let a;s.loading!==void 0&&(a=this.create({...s,promise:o,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));let c=o instanceof Promise?o:o(),h=a!==void 0;return c.then(g=>{if(g&&typeof g.ok=="boolean"&&!g.ok){h=!1;let _=typeof s.error=="function"?s.error(`HTTP error! status: ${g.status}`):s.error,et=typeof s.description=="function"?s.description(`HTTP error! status: ${g.status}`):s.description;this.create({id:a,type:"error",message:_,description:et})}else if(s.success!==void 0){h=!1;let _=typeof s.success=="function"?s.success(g):s.success,et=typeof s.description=="function"?s.description(g):s.description;this.create({id:a,type:"success",message:_,description:et})}}).catch(g=>{if(s.error!==void 0){h=!1;let _=typeof s.error=="function"?s.error(g):s.error,et=typeof s.description=="function"?s.description(g):s.description;this.create({id:a,type:"error",message:_,description:et})}}).finally(()=>{var g;h&&(this.dismiss(a),a=void 0),(g=s.finally)==null||g.call(s)}),a},this.custom=(o,s)=>{let a=(s==null?void 0:s.id)||ue$1++;return this.create({jsx:o(a),id:a,...s}),a},this.subscribers=[],this.toasts=[]}},K$1=new fe$1,xn=(e,o)=>{let s=(o==null?void 0:o.id)||ue$1++;return K$1.addToast({title:e,...o,id:s}),s},vn=xn,An=Object.assign(vn,{success:K$1.success,info:K$1.info,warning:K$1.warning,error:K$1.error,custom:K$1.custom,message:K$1.message,promise:K$1.promise,dismiss:K$1.dismiss,loading:K$1.loading});function me$1(e,{insertAt:o}={}){if(!e||typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",o==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}me$1(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xt(e){return e.label!==void 0&&typeof e.onClick=="function"}var Sn=3,Rn="32px",Nn=4e3,Dn=356,In=14,Cn=20,Ln=200;function Mn(...e){return e.filter(Boolean).join(" ")}var Pn=e=>{var o,s,a,c,h,g,_;let{invert:et,toast:rt,unstyled:it,interacting:ot,setHeights:st,visibleToasts:ct,heights:dt,index:Tt,toasts:Et,expanded:mt,removeToast:gt,closeButton:xt,style:bt,cancelButtonStyle:It,actionButtonStyle:Ut,className:Ft="",descriptionClassName:Bt="",duration:cr,position:Ht,gap:pr,loadingIcon:Ar,expandByDefault:Rr,classNames:dr,icons:Yt,closeButtonAriaLabel:Pt="Close toast",pauseWhenPageIsHidden:ur,cn:Lt}=e,[rr,tr]=React.useState(!1),[Kt,Dt]=React.useState(!1),[hr,ar]=React.useState(!1),[Tr,yr]=React.useState(!1),[Mt,sr]=React.useState(0),[xr,ir]=React.useState(0),nr=React.useRef(null),lr=React.useRef(null),Cr=Tt===0,Pr=Tt+1<=ct,$r=rt.type,Mr=rt.dismissible!==!1,Qn=rt.className||"",eo=rt.descriptionClassName||"",On=React.useMemo(()=>dt.findIndex(or=>or.toastId===rt.id)||0,[dt,rt.id]),ao=React.useMemo(()=>{var or;return(or=rt.closeButton)!=null?or:xt},[rt.closeButton,xt]),Yn=React.useMemo(()=>rt.duration||cr||Nn,[rt.duration,cr]),io=React.useRef(0),Vn=React.useRef(0),Kn=React.useRef(0),to=React.useRef(null),[wo,So]=Ht.split("-"),mo=React.useMemo(()=>dt.reduce((or,Fr,Hr)=>Hr>=On?or:or+Fr.height,0),[dt,On]),Xn=je(),To=rt.invert||et,oo=$r==="loading";Vn.current=React.useMemo(()=>On*pr+mo,[On,mo]),React.useEffect(()=>{tr(!0)},[]),React.useLayoutEffect(()=>{if(!rr)return;let or=lr.current,Fr=or.style.height;or.style.height="auto";let Hr=or.getBoundingClientRect().height;or.style.height=Fr,ir(Hr),st(Hn=>Hn.find(so=>so.toastId===rt.id)?Hn.map(so=>so.toastId===rt.id?{...so,height:Hr}:so):[{toastId:rt.id,height:Hr,position:rt.position},...Hn])},[rr,rt.title,rt.description,st,rt.id]);let kn=React.useCallback(()=>{Dt(!0),sr(Vn.current),st(or=>or.filter(Fr=>Fr.toastId!==rt.id)),setTimeout(()=>{gt(rt)},Ln)},[rt,gt,st,Vn]);React.useEffect(()=>{if(rt.promise&&$r==="loading"||rt.duration===1/0||rt.type==="loading")return;let or,Fr=Yn;return mt||ot||ur&&Xn?(()=>{if(Kn.current<io.current){let Hr=new Date().getTime()-io.current;Fr=Fr-Hr}Kn.current=new Date().getTime()})():Fr!==1/0&&(io.current=new Date().getTime(),or=setTimeout(()=>{var Hr;(Hr=rt.onAutoClose)==null||Hr.call(rt,rt),kn()},Fr)),()=>clearTimeout(or)},[mt,ot,Rr,rt,Yn,kn,rt.promise,$r,ur,Xn]),React.useEffect(()=>{let or=lr.current;if(or){let Fr=or.getBoundingClientRect().height;return ir(Fr),st(Hr=>[{toastId:rt.id,height:Fr,position:rt.position},...Hr]),()=>st(Hr=>Hr.filter(Hn=>Hn.toastId!==rt.id))}},[st,rt.id]),React.useEffect(()=>{rt.delete&&kn()},[kn,rt.delete]);function qn(){return Yt!=null&&Yt.loading?React.createElement("div",{className:"sonner-loader","data-visible":$r==="loading"},Yt.loading):Ar?React.createElement("div",{className:"sonner-loader","data-visible":$r==="loading"},Ar):React.createElement(Ye,{visible:$r==="loading"})}function jr(or){return{__html:ze.sanitize(or)}}return React.createElement("li",{"aria-live":rt.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:lr,className:Lt(Ft,Qn,dr==null?void 0:dr.toast,(o=rt==null?void 0:rt.classNames)==null?void 0:o.toast,dr==null?void 0:dr.default,dr==null?void 0:dr[$r],(s=rt==null?void 0:rt.classNames)==null?void 0:s[$r]),"data-sonner-toast":"","data-styled":!(rt.jsx||rt.unstyled||it),"data-mounted":rr,"data-promise":!!rt.promise,"data-removed":Kt,"data-visible":Pr,"data-y-position":wo,"data-x-position":So,"data-index":Tt,"data-front":Cr,"data-swiping":hr,"data-dismissible":Mr,"data-type":$r,"data-invert":To,"data-swipe-out":Tr,"data-expanded":!!(mt||Rr&&rr),style:{"--index":Tt,"--toasts-before":Tt,"--z-index":Et.length-Tt,"--offset":`${Kt?Mt:Vn.current}px`,"--initial-height":Rr?"auto":`${xr}px`,...bt,...rt.style},onPointerDown:or=>{oo||!Mr||(nr.current=new Date,sr(Vn.current),or.target.setPointerCapture(or.pointerId),or.target.tagName!=="BUTTON"&&(ar(!0),to.current={x:or.clientX,y:or.clientY}))},onPointerUp:()=>{var or,Fr,Hr,Hn;if(Tr||!Mr)return;to.current=null;let so=Number(((or=lr.current)==null?void 0:or.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Wr=new Date().getTime()-((Fr=nr.current)==null?void 0:Fr.getTime()),Gr=Math.abs(so)/Wr;if(Math.abs(so)>=Cn||Gr>.11){sr(Vn.current),(Hr=rt.onDismiss)==null||Hr.call(rt,rt),kn(),yr(!0);return}(Hn=lr.current)==null||Hn.style.setProperty("--swipe-amount","0px"),ar(!1)},onPointerMove:or=>{var Fr;if(!to.current||!Mr)return;let Hr=or.clientY-to.current.y,Hn=or.clientX-to.current.x,so=(wo==="top"?Math.min:Math.max)(0,Hr),Wr=or.pointerType==="touch"?10:2;Math.abs(so)>Wr?(Fr=lr.current)==null||Fr.style.setProperty("--swipe-amount",`${Hr}px`):Math.abs(Hn)>Wr&&(to.current=null)}},ao&&!rt.jsx?React.createElement("button",{"aria-label":Pt,"data-disabled":oo,"data-close-button":!0,onClick:oo||!Mr?()=>{}:()=>{var or;kn(),(or=rt.onDismiss)==null||or.call(rt,rt)},className:Lt(dr==null?void 0:dr.closeButton,(a=rt==null?void 0:rt.classNames)==null?void 0:a.closeButton)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,rt.jsx||React.isValidElement(rt.title)?rt.jsx||rt.title:React.createElement(React.Fragment,null,$r||rt.icon||rt.promise?React.createElement("div",{"data-icon":"",className:Lt(dr==null?void 0:dr.icon)},rt.promise||rt.type==="loading"&&!rt.icon?rt.icon||qn():null,rt.type!=="loading"?rt.icon||(Yt==null?void 0:Yt[$r])||We($r):null):null,React.createElement("div",{"data-content":"",className:Lt(dr==null?void 0:dr.content)},React.createElement("div",{"data-title":"",className:Lt(dr==null?void 0:dr.title,(c=rt==null?void 0:rt.classNames)==null?void 0:c.title),dangerouslySetInnerHTML:jr(rt.title)}),rt.description?React.createElement("div",{"data-description":"",className:Lt(Bt,eo,dr==null?void 0:dr.description,(h=rt==null?void 0:rt.classNames)==null?void 0:h.description),dangerouslySetInnerHTML:jr(rt.description)}):null),React.isValidElement(rt.cancel)?rt.cancel:rt.cancel&&Xt(rt.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:rt.cancelButtonStyle||It,onClick:or=>{Xt(rt.cancel)&&Mr&&(kn(),rt.cancel.onClick(or))},className:Lt(dr==null?void 0:dr.cancelButton,(g=rt==null?void 0:rt.classNames)==null?void 0:g.cancelButton)},rt.cancel.label):null,React.isValidElement(rt.action)?rt.action:rt.action&&Xt(rt.action)?React.createElement("button",{"data-button":"",style:rt.actionButtonStyle||Ut,onClick:or=>{Xt(rt.action)&&(rt.action.onClick(or),!or.defaultPrevented&&kn())},className:Lt(dr==null?void 0:dr.actionButton,(_=rt==null?void 0:rt.classNames)==null?void 0:_.actionButton)},rt.action.label):null))};function $e(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Jn=e=>{let{invert:o,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:h,className:g,offset:_,theme:et="light",richColors:rt,duration:it,style:ot,visibleToasts:st=Sn,toastOptions:ct,dir:dt=$e(),gap:Tt=In,loadingIcon:Et,icons:mt,containerAriaLabel:gt="Notifications",pauseWhenPageIsHidden:xt,cn:bt=Mn}=e,[It,Ut]=React.useState([]),Ft=React.useMemo(()=>Array.from(new Set([s].concat(It.filter(Kt=>Kt.position).map(Kt=>Kt.position)))),[It,s]),[Bt,cr]=React.useState([]),[Ht,pr]=React.useState(!1),[Ar,Rr]=React.useState(!1),[dr,Yt]=React.useState(et!=="system"?et:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Pt=React.useRef(null),ur=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Lt=React.useRef(null),rr=React.useRef(!1),tr=React.useCallback(Kt=>Ut(Dt=>Dt.filter(({id:hr})=>hr!==Kt.id)),[]);return React.useEffect(()=>K$1.subscribe(Kt=>{if(Kt.dismiss){Ut(Dt=>Dt.map(hr=>hr.id===Kt.id?{...hr,delete:!0}:hr));return}setTimeout(()=>{_n.flushSync(()=>{Ut(Dt=>{let hr=Dt.findIndex(ar=>ar.id===Kt.id);return hr!==-1?[...Dt.slice(0,hr),{...Dt[hr],...Kt},...Dt.slice(hr+1)]:[Kt,...Dt]})})})}),[]),React.useEffect(()=>{if(et!=="system"){Yt(et);return}et==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Yt("dark"):Yt("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Kt})=>{Yt(Kt?"dark":"light")})},[et]),React.useEffect(()=>{It.length<=1&&pr(!1)},[It]),React.useEffect(()=>{let Kt=Dt=>{var hr,ar;a.every(Tr=>Dt[Tr]||Dt.code===Tr)&&(pr(!0),(hr=Pt.current)==null||hr.focus()),Dt.code==="Escape"&&(document.activeElement===Pt.current||(ar=Pt.current)!=null&&ar.contains(document.activeElement))&&pr(!1)};return document.addEventListener("keydown",Kt),()=>document.removeEventListener("keydown",Kt)},[a]),React.useEffect(()=>{if(Pt.current)return()=>{Lt.current&&(Lt.current.focus({preventScroll:!0}),Lt.current=null,rr.current=!1)}},[Pt.current]),It.length?React.createElement("section",{"aria-label":`${gt} ${ur}`,tabIndex:-1},Ft.map((Kt,Dt)=>{var hr;let[ar,Tr]=Kt.split("-");return React.createElement("ol",{key:Kt,dir:dt==="auto"?$e():dt,tabIndex:-1,ref:Pt,className:g,"data-sonner-toaster":!0,"data-theme":dr,"data-rich-colors":rt,"data-y-position":ar,"data-x-position":Tr,style:{"--front-toast-height":`${((hr=Bt[0])==null?void 0:hr.height)||0}px`,"--offset":typeof _=="number"?`${_}px`:_||Rn,"--width":`${Dn}px`,"--gap":`${Tt}px`,...ot},onBlur:yr=>{rr.current&&!yr.currentTarget.contains(yr.relatedTarget)&&(rr.current=!1,Lt.current&&(Lt.current.focus({preventScroll:!0}),Lt.current=null))},onFocus:yr=>{yr.target instanceof HTMLElement&&yr.target.dataset.dismissible==="false"||rr.current||(rr.current=!0,Lt.current=yr.relatedTarget)},onMouseEnter:()=>pr(!0),onMouseMove:()=>pr(!0),onMouseLeave:()=>{Ar||pr(!1)},onPointerDown:yr=>{yr.target instanceof HTMLElement&&yr.target.dataset.dismissible==="false"||Rr(!0)},onPointerUp:()=>Rr(!1)},It.filter(yr=>!yr.position&&Dt===0||yr.position===Kt).map((yr,Mt)=>{var sr,xr;return React.createElement(Pn,{key:yr.id,icons:mt,index:Mt,toast:yr,duration:(sr=ct==null?void 0:ct.duration)!=null?sr:it,className:ct==null?void 0:ct.className,descriptionClassName:ct==null?void 0:ct.descriptionClassName,invert:o,visibleToasts:st,closeButton:(xr=ct==null?void 0:ct.closeButton)!=null?xr:h,interacting:Ar,position:Kt,style:ct==null?void 0:ct.style,unstyled:ct==null?void 0:ct.unstyled,classNames:ct==null?void 0:ct.classNames,cancelButtonStyle:ct==null?void 0:ct.cancelButtonStyle,actionButtonStyle:ct==null?void 0:ct.actionButtonStyle,removeToast:tr,toasts:It.filter(ir=>ir.position==yr.position),heights:Bt.filter(ir=>ir.position==yr.position),setHeights:cr,expandByDefault:c,gap:Tt,loadingIcon:Et,expanded:Ht,pauseWhenPageIsHidden:xt,cn:bt})}))})):null};/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.0.10 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.10/LICENSE *)
*/function IoIosAddCircleOutline(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M346.5 240H272v-74.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-74.5c-8.8 0-16 6-16 16s7.5 16 16 16H240v74.5c0 9.5 7 16 16 16s16-7.2 16-16V272h74.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"},child:[]}]})(e)}function IoIosAdd(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M368.5 240H272v-96.5c0-8.8-7.2-16-16-16s-16 7.2-16 16V240h-96.5c-8.8 0-16 7.2-16 16 0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7H240v96.5c0 4.4 1.8 8.4 4.7 11.3 2.9 2.9 6.9 4.7 11.3 4.7 8.8 0 16-7.2 16-16V272h96.5c8.8 0 16-7.2 16-16s-7.2-16-16-16z"},child:[]}]})(e)}function ProductRow({product:Product}){const UserContextAll=reactExports.useContext(InventoryContext),{Collections,Groups,productServices,useProduct,Products,Components,useComponent,componentServices,TreesComponent,treeComponentServices,TreesComponentDetail,treeComponentDetailServices,ProductsComponents,productComponentsServices}=UserContextAll,isMounted=reactExports.useRef(!1),[expand,changeExpand]=reactExports.useState(!1),[ChangedProduct,useChangedProduct]=reactExports.useState(Product),[ComponentsProduct,useComponentsProduct]=reactExports.useState(null),[TreeComps,useTreeComps]=reactExports.useState(null),[TreeCompsDetail,useTreeCompsDetail]=reactExports.useState(null),[TreeProductComps,useTreeProductComps]=reactExports.useState(null),[fetchDataTrigger,setFetchDataTrigger]=reactExports.useState(!1),onChange=e=>{useChangedProduct({...Product,[e.currentTarget.name]:e.currentTarget.name=="Date"?new Date(e.currentTarget.value):e.currentTarget.value})};reactExports.useEffect(()=>((async()=>{isMounted.current=!0;const o=componentServices.Read(),s=TreesComponent===null?treeComponentServices.Read():Promise.resolve(null),a=TreesComponentDetail===null?treeComponentDetailServices.Read():Promise.resolve(null),c=ProductsComponents===null?productComponentsServices.Read():Promise.resolve(null),[h,g,_,et]=await Promise.all([c,o,s,a]);if(isMounted.current){if(_&&et&&(useTreeComps(_),useTreeCompsDetail(et)),h){const rt=h.find(it=>it.IdProduct===Product.IdProduct);if(useComponentsProduct(rt??null),rt&&rt.IdComponents.length>0){const it=_==null?void 0:_.filter(ot=>rt.IdComponents.includes(ot.IdParent));useTreeProductComps(it??null)}}g&&useComponent(g)}})(),()=>{isMounted.current=!1}),[Components,TreesComponent,TreesComponentDetail,ProductsComponents,componentServices,treeComponentServices,treeComponentDetailServices,productComponentsServices,Product.IdProduct,fetchDataTrigger]);const onSubmite=async e=>{if(e.preventDefault(),ChangedProduct===Product)return An.error("Tienes que cambiar por lo menos un campo");if(calculateQuantity(ChangedProduct.Quantity)){if(await productServices.Update(ChangedProduct)){const a=Products.map(c=>ChangedProduct.IdProduct!==c.IdProduct?c:{...ChangedProduct});return useProduct(a),changeExpand(!1),setFetchDataTrigger(c=>!c),An.success("Producto actualizado")}return An.error("Hubo un error, intentalo más tarde.")}},iterableCalculateQuantity=(listQuantity,componentsChildren,products,components,flagObj)=>{componentsChildren==null||componentsChildren.map(compChildren=>{if(flagObj.flag){let productExpression="";const componentChildren=Components==null?void 0:Components.find(e=>e.IdComponent===compChildren.IdComponent);listQuantity.forEach((e,o)=>{o===listQuantity.length-1?productExpression+=`${e} * ${compChildren.Quantity}`:productExpression+=`${e} * `});const expressionPattern=/-?\d+(\.\d+)?([+\-*/]-?\d+(\.\d+)?)*\b/g,matches=productExpression.match(expressionPattern),results=matches?matches.map(expr=>eval(expr)):[],operationProducts=results.length>0?results.reduce((e,o)=>e*o,1):0,result=componentChildren.Quantity-operationProducts;if(result<0)return flagObj.flag=!1,An.error(`Piezas incompletas del componente: ${componentChildren==null?void 0:componentChildren.Name}, se requieren: ${Math.abs(result)}`);components.push(new Component$1(compChildren.IdComponent,componentChildren.Name,Math.abs(result)));const childrens=TreeComps==null?void 0:TreeComps.find(e=>e.IdParent===compChildren.IdComponent);if(childrens){const e=(TreeCompsDetail==null?void 0:TreeCompsDetail.filter(o=>o.IdTreeComponent===childrens.IdTreeComponent))??[];e.length>0&&(listQuantity.push(compChildren.Quantity),iterableCalculateQuantity(listQuantity,e,products,components,flagObj),listQuantity.pop())}}else return})},calculateQuantity=e=>{let o="",s=0;const a={flag:!0};if(TreeProductComps&&TreeProductComps.length>0){let c=[],h=[];TreeProductComps==null||TreeProductComps.map(g=>{if(a.flag){const _=TreeCompsDetail==null?void 0:TreeCompsDetail.filter(rt=>rt.IdTreeComponent===g.IdTreeComponent),et=Components==null?void 0:Components.find(rt=>rt.IdComponent===g.IdParent);if(c.push(e),c.push(g.Quantity),s=g.Quantity-e,s<0)return a.flag=!1,An.error(`Piezas incompletas del componente: ${et==null?void 0:et.Name}, se requieren: ${Math.abs(s)}`);h.push(new Component$1(g.IdParent,et.Name,Math.abs(s))),iterableCalculateQuantity(c,_,o,h,a),h.map(rt=>{componentServices.Update(rt)})}else return})}return a.flag},ChangeExpand=()=>{Product.Select||changeExpand(!expand)};return[jsxRuntimeExports.jsxs("tr",{className:ProductStyle.Container,children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{onChange:e=>{e.target.checked&&expand&&changeExpand(!1);const o=Products.map(s=>s.IdProduct!==s.IdProduct?s:{...s,Select:e.target.checked});useProduct(o)},checked:Product.Select,type:"checkbox",name:Product.ProductName,id:Product.IdProduct+1,"aria-label":"Mostrar detalles"})}),jsxRuntimeExports.jsx("td",{onClick:ChangeExpand,children:jsxRuntimeExports.jsx("div",{className:ProductStyle.ImageContainer,style:{backgroundImage:`url(${Product.Images[0]})`}})}),jsxRuntimeExports.jsx("td",{onClick:ChangeExpand,children:Product.ProductName}),jsxRuntimeExports.jsx("td",{onClick:ChangeExpand,children:jsxRuntimeExports.jsx("select",{"aria-label":"Grupos",name:"Group",id:Product.IdProduct+2,disabled:!0,className:ProductStyle.SelectGroup,children:jsxRuntimeExports.jsx("option",{value:Product.Group,children:Product.Group})})}),jsxRuntimeExports.jsx("td",{onClick:ChangeExpand,children:jsxRuntimeExports.jsx("select",{name:"Category",id:Product.IdProduct+3,disabled:!0,className:ProductStyle.SelectCollection,children:jsxRuntimeExports.jsx("option",{value:Product.Collection,children:Product.Collection})})}),jsxRuntimeExports.jsxs("td",{onClick:ChangeExpand,children:["C$",Product.Price]}),jsxRuntimeExports.jsx("td",{onClick:ChangeExpand,children:Product.Quantity}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"10px"},children:[jsxRuntimeExports.jsx("button",{onClick:ChangeExpand,className:ProductStyle.Button,"aria-label":"Actualizar producto",children:expand?jsxRuntimeExports.jsx(RxEyeOpen,{color:"blue",size:30}):jsxRuntimeExports.jsx(RiEyeCloseLine,{size:30})}),jsxRuntimeExports.jsx(MdDelete,{className:ProductStyle.Delete,"aria-label":"Eliminar producto",size:30,onClick:async e=>{if(!await productServices.Delete(Product))return An.error("Error, intenta eliminarlo más tarde.");const s=Products==null?void 0:Products.filter(a=>Product.IdProduct!=a.IdProduct);return useProduct(s),An.success("Producto eliminado")}})]})})]},Product.IdProduct+5),expand&&jsxRuntimeExports.jsx("tr",{className:ProductStyle.Collapse,children:jsxRuntimeExports.jsx("td",{colSpan:8,children:jsxRuntimeExports.jsxs("form",{className:ProductStyle.container,onSubmit:onSubmite,children:[jsxRuntimeExports.jsx("div",{className:ProductStyle.Images,children:jsxRuntimeExports.jsx("div",{style:{width:"100px",height:"100px",backgroundColor:"blue",borderRadius:"13px",backgroundImage:`url(${Product.Images[0]})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}})}),jsxRuntimeExports.jsxs("div",{className:ProductStyle.Detail,children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!0,isRequired:!0,id:"ProductName",readOnly:!1,title:"Nombre de producto",type:"text",onChangeInputValue:onChange,value:ChangedProduct.ProductName}),jsxRuntimeExports.jsx(TextField,{isRequired:!0,id:"Quantity",readOnly:!1,title:"Cantidad",autoFocus:!1,onChangeInputValue:onChange,type:"number",value:ChangedProduct.Quantity.toString()}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{style:{color:"grey",display:"flex",flexDirection:"column",gap:"5px"},children:"QR"}),jsxRuntimeExports.jsx(_default$1,{value:Product.ProductName,size:80})]})]}),jsxRuntimeExports.jsxs("div",{className:ProductStyle.MoreDetail,children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!1,isRequired:!0,id:"Price",readOnly:!1,title:"Precio de venta",type:"number",onChangeInputValue:onChange,value:ChangedProduct.Price.toString()}),jsxRuntimeExports.jsx(TextField,{isRequired:!0,id:"Cost",readOnly:!1,title:"Costo",autoFocus:!1,onChangeInputValue:onChange,type:"number",value:ChangedProduct.Cost.toString()}),jsxRuntimeExports.jsx(TextField,{isRequired:!0,id:"Date",readOnly:!1,title:"Fecha de creación",autoFocus:!1,onChangeInputValue:onChange,type:"date",value:ChangedProduct.Date.getFullYear().toString()+"-"+(ChangedProduct.Date.getMonth()<10?"0"+ChangedProduct.Date.getMonth().toString():ChangedProduct.Date.getMonth())+"-"+(ChangedProduct.Date.getDate()<10?"0"+ChangedProduct.Date.getDate().toString():ChangedProduct.Date.getDate())})]}),jsxRuntimeExports.jsxs("div",{className:ProductStyle.Selection,children:[jsxRuntimeExports.jsxs("label",{htmlFor:"Collection",style:{display:"flex",flexDirection:"column",color:"grey",gap:"10px"},children:["Categoría",jsxRuntimeExports.jsx("select",{className:ProductStyle.SelectCollection,name:"Collection",id:"Collection",defaultValue:ChangedProduct.Collection,onChange:e=>{useChangedProduct({...ChangedProduct,Collection:e.currentTarget.value})},children:Collections.map(e=>jsxRuntimeExports.jsx("option",{value:e.CollectionName,children:e.CollectionName},e.CollectionName+2))},"Collection")]}),jsxRuntimeExports.jsxs("label",{htmlFor:"Group",style:{display:"flex",flexDirection:"column",color:"grey",gap:"10px"},children:["Grupos",jsxRuntimeExports.jsx("select",{style:{width:"100px"},className:ProductStyle.SelectGroup,name:"Group",id:"Group",defaultValue:ChangedProduct.Group,onChange:e=>{console.log(e.currentTarget.value),useChangedProduct({...ChangedProduct,Group:e.currentTarget.value})},children:Groups.map(e=>jsxRuntimeExports.jsx("option",{value:e.GroupName,children:e.GroupName},e.GroupName+22))})]}),jsxRuntimeExports.jsx(Link,{to:`component/${Product.IdProduct}`,children:jsxRuntimeExports.jsxs("button",{style:{border:"none",cursor:"pointer",display:"flex",gap:"10px",alignItems:"center",color:"rgb(205, 205, 205)",backgroundColor:"transparent"},children:[jsxRuntimeExports.jsx(IoIosAddCircleOutline,{size:30}),"Agregar componentes"]})})]}),jsxRuntimeExports.jsx("div",{className:ProductStyle.ButtonGrid,children:jsxRuntimeExports.jsx("button",{className:ProductStyle.ButtonUpdate,type:"submit",children:"Actualizar"})})]})})},Product.IdProduct+3333)]}function VscEmptyWindow(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4h3v1H4v3H3V5H0V4h3V1h1v3zM1 14.5V9h1v5h12V7H8V6h6V4H8V3h6.5l.5.5v11l-.5.5h-13l-.5-.5z"},child:[]}]})(e)}function VscKebabVertical(e){return GenIcon({tag:"svg",attr:{fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.444 13.832a1 1 0 1 0 1.111-1.663 1 1 0 0 0-1.11 1.662zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"},child:[]}]})(e)}const buttonSend$1="_buttonSend_1c37r_1",ButtonStyle$1={buttonSend:buttonSend$1};function Button({title:e,onSubmit:o}){return jsxRuntimeExports.jsx("button",{className:ButtonStyle$1.buttonSend,type:"submit",onSubmit:o,children:e})}var dist={},utils={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getListFiles=e.getImage=e.getBase64=e.getAcceptTypeString=e.openFileDialog=void 0,e.openFileDialog=function(o){o.current&&o.current.click()},e.getAcceptTypeString=function(o,s){return o!=null&&o.length?o.map(function(a){return"."+a}).join(", "):s?"":"image/*"},e.getBase64=function(o){var s=new FileReader;return new Promise(function(a){s.addEventListener("load",function(){return a(String(s.result))}),s.readAsDataURL(o)})},e.getImage=function(o){var s=new Image;return new Promise(function(a){s.addEventListener("load",function(){return a(s)}),s.src=URL.createObjectURL(o)})},e.getListFiles=function(o,s){for(var a=[],c=0;c<o.length;c+=1)a.push(e.getBase64(o[c]));return Promise.all(a).then(function(h){var g=h.map(function(_,et){var rt;return rt={},rt[s]=_,rt.file=o[et],rt});return g})}})(utils);var validation={},constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.DEFAULT_DATA_URL_KEY=constants.INIT_MAX_NUMBER=constants.DEFAULT_NULL_INDEX=void 0;constants.DEFAULT_NULL_INDEX=-1;constants.INIT_MAX_NUMBER=1e3;constants.DEFAULT_DATA_URL_KEY="dataURL";(function(e){var o=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(h,g,_,et){function rt(it){return it instanceof _?it:new _(function(ot){ot(it)})}return new(_||(_=Promise))(function(it,ot){function st(Tt){try{dt(et.next(Tt))}catch(Et){ot(Et)}}function ct(Tt){try{dt(et.throw(Tt))}catch(Et){ot(Et)}}function dt(Tt){Tt.done?it(Tt.value):rt(Tt.value).then(st,ct)}dt((et=et.apply(h,g||[])).next())})},s=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(h,g){var _={label:0,sent:function(){if(it[0]&1)throw it[1];return it[1]},trys:[],ops:[]},et,rt,it,ot;return ot={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function st(dt){return function(Tt){return ct([dt,Tt])}}function ct(dt){if(et)throw new TypeError("Generator is already executing.");for(;_;)try{if(et=1,rt&&(it=dt[0]&2?rt.return:dt[0]?rt.throw||((it=rt.return)&&it.call(rt),0):rt.next)&&!(it=it.call(rt,dt[1])).done)return it;switch(rt=0,it&&(dt=[dt[0]&2,it.value]),dt[0]){case 0:case 1:it=dt;break;case 4:return _.label++,{value:dt[1],done:!1};case 5:_.label++,rt=dt[1],dt=[0];continue;case 7:dt=_.ops.pop(),_.trys.pop();continue;default:if(it=_.trys,!(it=it.length>0&&it[it.length-1])&&(dt[0]===6||dt[0]===2)){_=0;continue}if(dt[0]===3&&(!it||dt[1]>it[0]&&dt[1]<it[3])){_.label=dt[1];break}if(dt[0]===6&&_.label<it[1]){_.label=it[1],it=dt;break}if(it&&_.label<it[2]){_.label=it[2],_.ops.push(dt);break}it[2]&&_.ops.pop(),_.trys.pop();continue}dt=g.call(h,_)}catch(Tt){dt=[6,Tt],rt=0}finally{et=it=0}if(dt[0]&5)throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorValidation=e.isMaxNumberValid=e.isAcceptTypeValid=e.isMaxFileSizeValid=e.isImageValid=e.isResolutionValid=void 0;var a=constants,c=utils;e.isResolutionValid=function(h,g,_,et){if(_===void 0&&(_=0),et===void 0&&(et=1),!_||!et||!h.width||!h.height)return!0;switch(g){case"absolute":{if(h.width===_&&h.height===et)return!0;break}case"ratio":{var rt=_/et;if(h.width/h.height===rt)return!0;break}case"less":{if(h.width<=_&&h.height<=et)return!0;break}case"more":{if(h.width>=_&&h.height>=et)return!0;break}}return!1},e.isImageValid=function(h){return!!h.includes("image")},e.isMaxFileSizeValid=function(h,g){return g?h<=g:!0},e.isAcceptTypeValid=function(h,g){if(h&&h.length>0){var _=g.split(".").pop()||"";if(h.findIndex(function(et){return et.toLowerCase()===_.toLowerCase()})<0)return!1}return!0},e.isMaxNumberValid=function(h,g,_){if(g!==0&&!g)return!0;if(_===a.DEFAULT_NULL_INDEX){if(h<=g)return!0}else if(h<=g+1)return!0;return!1},e.getErrorValidation=function(h){var g=h.fileList,_=h.value,et=h.maxNumber,rt=h.keyUpdate,it=h.acceptType,ot=h.maxFileSize,st=h.resolutionType,ct=h.resolutionWidth,dt=h.resolutionHeight,Tt=h.allowNonImageType;return o(void 0,void 0,void 0,function(){var Et,mt,gt,xt,bt;return s(this,function(It){switch(It.label){case 0:return Et={},e.isMaxNumberValid(g.length+_.length,et,rt)?[3,1]:(Et.maxNumber=!0,[3,5]);case 1:mt=0,It.label=2;case 2:return mt<g.length?(gt=g[mt].file,gt?!Tt&&!e.isImageValid(gt.type)?(Et.acceptType=!0,[3,5]):e.isAcceptTypeValid(it,gt.name)?e.isMaxFileSizeValid(gt.size,ot)?st?[4,c.getImage(gt)]:[3,4]:(Et.maxFileSize=!0,[3,5]):(Et.acceptType=!0,[3,5]):[3,4]):[3,5];case 3:if(xt=It.sent(),bt=e.isResolutionValid(xt,st,ct,dt),!bt)return Et.resolution=!0,[3,5];It.label=4;case 4:return mt+=1,[3,2];case 5:return Object.values(Et).find(Boolean)?[2,Et]:[2,null]}})})}})(validation);var __assign=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign=Object.assign||function(e){for(var o,s=1,a=arguments.length;s<a;s++){o=arguments[s];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])}return e},__assign.apply(this,arguments)},__createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(e,o,s,a){a===void 0&&(a=s),Object.defineProperty(e,a,{enumerable:!0,get:function(){return o[s]}})}:function(e,o,s,a){a===void 0&&(a=s),e[a]=o[s]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(e,o){Object.defineProperty(e,"default",{enumerable:!0,value:o})}:function(e,o){e.default=o}),__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(e){if(e&&e.__esModule)return e;var o={};if(e!=null)for(var s in e)s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)&&__createBinding(o,e,s);return __setModuleDefault(o,e),o},__awaiter=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(e,o,s,a){function c(h){return h instanceof s?h:new s(function(g){g(h)})}return new(s||(s=Promise))(function(h,g){function _(it){try{rt(a.next(it))}catch(ot){g(ot)}}function et(it){try{rt(a.throw(it))}catch(ot){g(ot)}}function rt(it){it.done?h(it.value):c(it.value).then(_,et)}rt((a=a.apply(e,o||[])).next())})},__generator=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(e,o){var s={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,c,h,g;return g={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function _(rt){return function(it){return et([rt,it])}}function et(rt){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,c&&(h=rt[0]&2?c.return:rt[0]?c.throw||((h=c.return)&&h.call(c),0):c.next)&&!(h=h.call(c,rt[1])).done)return h;switch(c=0,h&&(rt=[rt[0]&2,h.value]),rt[0]){case 0:case 1:h=rt;break;case 4:return s.label++,{value:rt[1],done:!1};case 5:s.label++,c=rt[1],rt=[0];continue;case 7:rt=s.ops.pop(),s.trys.pop();continue;default:if(h=s.trys,!(h=h.length>0&&h[h.length-1])&&(rt[0]===6||rt[0]===2)){s=0;continue}if(rt[0]===3&&(!h||rt[1]>h[0]&&rt[1]<h[3])){s.label=rt[1];break}if(rt[0]===6&&s.label<h[1]){s.label=h[1],h=rt;break}if(h&&s.label<h[2]){s.label=h[2],s.ops.push(rt);break}h[2]&&s.ops.pop(),s.trys.pop();continue}rt=o.call(e,s)}catch(it){rt=[6,it],c=0}finally{a=h=0}if(rt[0]&5)throw rt[1];return{value:rt[0]?rt[1]:void 0,done:!0}}},__spreadArrays=commonjsGlobal$1&&commonjsGlobal$1.__spreadArrays||function(){for(var e=0,o=0,s=arguments.length;o<s;o++)e+=arguments[o].length;for(var a=Array(e),c=0,o=0;o<s;o++)for(var h=arguments[o],g=0,_=h.length;g<_;g++,c++)a[c]=h[g];return a};Object.defineProperty(dist,"__esModule",{value:!0});var react_1=__importStar(reactExports),utils_1=utils,validation_1=validation,constants_1=constants,ReactImageUploading=function(e){var o=e.value,s=o===void 0?[]:o,a=e.onChange,c=e.onError,h=e.children,g=e.dataURLKey,_=g===void 0?constants_1.DEFAULT_DATA_URL_KEY:g,et=e.multiple,rt=et===void 0?!1:et,it=e.maxNumber,ot=it===void 0?constants_1.INIT_MAX_NUMBER:it,st=e.acceptType,ct=e.maxFileSize,dt=e.resolutionWidth,Tt=e.resolutionHeight,Et=e.resolutionType,mt=e.inputProps,gt=mt===void 0?{}:mt,xt=e.allowNonImageType,bt=xt===void 0?!1:xt,It=s||[],Ut=react_1.useRef(null),Ft=react_1.useState(constants_1.DEFAULT_NULL_INDEX),Bt=Ft[0],cr=Ft[1],Ht=react_1.useState(null),pr=Ht[0],Ar=Ht[1],Rr=react_1.useState(!1),dr=Rr[0],Yt=Rr[1],Pt=react_1.useCallback(function(){return utils_1.openFileDialog(Ut)},[Ut]),ur=react_1.useCallback(function(){cr(constants_1.DEFAULT_NULL_INDEX),Pt()},[Pt]),Lt=react_1.useCallback(function(){a==null||a([])},[a]),rr=function(ir){var nr=__spreadArrays(It);Array.isArray(ir)?ir.forEach(function(lr){nr.splice(lr,1)}):nr.splice(ir,1),a==null||a(nr)},tr=function(ir){cr(ir),Pt()},Kt=function(ir){return __awaiter(void 0,void 0,void 0,function(){var nr;return __generator(this,function(lr){switch(lr.label){case 0:return[4,validation_1.getErrorValidation({fileList:ir,maxFileSize:ct,maxNumber:ot,acceptType:st,keyUpdate:Bt,resolutionType:Et,resolutionWidth:dt,resolutionHeight:Tt,value:It,allowNonImageType:bt})];case 1:return nr=lr.sent(),nr?(Ar(nr),c==null||c(nr,ir),[2,!1]):(pr&&Ar(null),[2,!0])}})})},Dt=function(ir){return __awaiter(void 0,void 0,void 0,function(){var nr,lr,Cr,Pr,$r,Mr;return __generator(this,function(Qn){switch(Qn.label){case 0:return ir?[4,utils_1.getListFiles(ir,_)]:[2];case 1:return nr=Qn.sent(),nr.length?[4,Kt(nr)]:[2];case 2:if(lr=Qn.sent(),!lr)return[2];if(Pr=[],Bt>constants_1.DEFAULT_NULL_INDEX)$r=nr[0],Cr=__spreadArrays(It),Cr[Bt]=$r,Pr.push(Bt);else if(rt)for(Cr=__spreadArrays(It,nr),Mr=It.length;Mr<Cr.length;Mr+=1)Pr.push(Mr);else Cr=[nr[0]],Pr.push(0);return a==null||a(Cr,Pr),[2]}})})},hr=function(ir){return __awaiter(void 0,void 0,void 0,function(){return __generator(this,function(nr){switch(nr.label){case 0:return[4,Dt(ir.target.files)];case 1:return nr.sent(),Bt>constants_1.DEFAULT_NULL_INDEX&&cr(constants_1.DEFAULT_NULL_INDEX),Ut.current&&(Ut.current.value=""),[2]}})})},ar=react_1.useMemo(function(){return utils_1.getAcceptTypeString(st,bt)},[st,bt]),Tr=function(ir){ir.preventDefault(),ir.stopPropagation()},yr=function(ir){ir.preventDefault(),ir.stopPropagation(),ir.dataTransfer.items&&ir.dataTransfer.items.length>0&&Yt(!0)},Mt=function(ir){ir.preventDefault(),ir.stopPropagation(),Yt(!1)},sr=function(ir){ir.preventDefault(),ir.stopPropagation(),Yt(!1),ir.dataTransfer.files&&ir.dataTransfer.files.length>0&&Dt(ir.dataTransfer.files)},xr=function(ir){ir.preventDefault(),ir.stopPropagation(),ir.dataTransfer.clearData()};return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("input",__assign({type:"file",accept:ar,ref:Ut,multiple:rt&&Bt===constants_1.DEFAULT_NULL_INDEX,onChange:hr,style:{display:"none"}},gt)),h==null?void 0:h({imageList:It,onImageUpload:ur,onImageRemoveAll:Lt,onImageUpdate:tr,onImageRemove:rr,errors:pr,dragProps:{onDrop:sr,onDragEnter:yr,onDragLeave:Mt,onDragOver:Tr,onDragStart:xr},isDragging:dr}))},_default=dist.default=ReactImageUploading,MapShim=function(){if(typeof Map<"u")return Map;function e(o,s){var a=-1;return o.some(function(c,h){return c[0]===s?(a=h,!0):!1}),a}return function(){function o(){this.__entries__=[]}return Object.defineProperty(o.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),o.prototype.get=function(s){var a=e(this.__entries__,s),c=this.__entries__[a];return c&&c[1]},o.prototype.set=function(s,a){var c=e(this.__entries__,s);~c?this.__entries__[c][1]=a:this.__entries__.push([s,a])},o.prototype.delete=function(s){var a=this.__entries__,c=e(a,s);~c&&a.splice(c,1)},o.prototype.has=function(s){return!!~e(this.__entries__,s)},o.prototype.clear=function(){this.__entries__.splice(0)},o.prototype.forEach=function(s,a){a===void 0&&(a=null);for(var c=0,h=this.__entries__;c<h.length;c++){var g=h[c];s.call(a,g[1],g[0])}},o}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(e,o){var s=!1,a=!1,c=0;function h(){s&&(s=!1,e()),a&&_()}function g(){requestAnimationFrame$1(h)}function _(){var et=Date.now();if(s){if(et-c<trailingTimeout)return;a=!0}else s=!0,a=!1,setTimeout(g,o);c=et}return _}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return e.prototype.addObserver=function(o){~this.observers_.indexOf(o)||this.observers_.push(o),this.connected_||this.connect_()},e.prototype.removeObserver=function(o){var s=this.observers_,a=s.indexOf(o);~a&&s.splice(a,1),!s.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var o=this.updateObservers_();o&&this.refresh()},e.prototype.updateObservers_=function(){var o=this.observers_.filter(function(s){return s.gatherActive(),s.hasActive()});return o.forEach(function(s){return s.broadcastActive()}),o.length>0},e.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(o){var s=o.propertyName,a=s===void 0?"":s,c=transitionKeys.some(function(h){return!!~a.indexOf(h)});c&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),defineConfigurable=function(e,o){for(var s=0,a=Object.keys(o);s<a.length;s++){var c=a[s];Object.defineProperty(e,c,{value:o[c],enumerable:!1,writable:!1,configurable:!0})}return e},getWindowOf=function(e){var o=e&&e.ownerDocument&&e.ownerDocument.defaultView;return o||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return o.reduce(function(a,c){var h=e["border-"+c+"-width"];return a+toFloat(h)},0)}function getPaddings(e){for(var o=["top","right","bottom","left"],s={},a=0,c=o;a<c.length;a++){var h=c[a],g=e["padding-"+h];s[h]=toFloat(g)}return s}function getSVGContentRect(e){var o=e.getBBox();return createRectInit(0,0,o.width,o.height)}function getHTMLElementContentRect(e){var o=e.clientWidth,s=e.clientHeight;if(!o&&!s)return emptyRect;var a=getWindowOf(e).getComputedStyle(e),c=getPaddings(a),h=c.left+c.right,g=c.top+c.bottom,_=toFloat(a.width),et=toFloat(a.height);if(a.boxSizing==="border-box"&&(Math.round(_+h)!==o&&(_-=getBordersSize(a,"left","right")+h),Math.round(et+g)!==s&&(et-=getBordersSize(a,"top","bottom")+g)),!isDocumentElement(e)){var rt=Math.round(_+h)-o,it=Math.round(et+g)-s;Math.abs(rt)!==1&&(_-=rt),Math.abs(it)!==1&&(et-=it)}return createRectInit(c.left,c.top,_,et)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof getWindowOf(e).SVGGraphicsElement}:function(e){return e instanceof getWindowOf(e).SVGElement&&typeof e.getBBox=="function"}}();function isDocumentElement(e){return e===getWindowOf(e).document.documentElement}function getContentRect(e){return isBrowser?isSVGGraphicsElement(e)?getSVGContentRect(e):getHTMLElementContentRect(e):emptyRect}function createReadOnlyRect(e){var o=e.x,s=e.y,a=e.width,c=e.height,h=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,g=Object.create(h.prototype);return defineConfigurable(g,{x:o,y:s,width:a,height:c,top:s,right:o+a,bottom:c+s,left:o}),g}function createRectInit(e,o,s,a){return{x:e,y:o,width:s,height:a}}var ResizeObservation=function(){function e(o){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=o}return e.prototype.isActive=function(){var o=getContentRect(this.target);return this.contentRect_=o,o.width!==this.broadcastWidth||o.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var o=this.contentRect_;return this.broadcastWidth=o.width,this.broadcastHeight=o.height,o},e}(),ResizeObserverEntry=function(){function e(o,s){var a=createReadOnlyRect(s);defineConfigurable(this,{target:o,contentRect:a})}return e}(),ResizeObserverSPI=function(){function e(o,s,a){if(this.activeObservations_=[],this.observations_=new MapShim,typeof o!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=o,this.controller_=s,this.callbackCtx_=a}return e.prototype.observe=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(o instanceof getWindowOf(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var s=this.observations_;s.has(o)||(s.set(o,new ResizeObservation(o)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(o instanceof getWindowOf(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var s=this.observations_;s.has(o)&&(s.delete(o),s.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var o=this;this.clearActive(),this.observations_.forEach(function(s){s.isActive()&&o.activeObservations_.push(s)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var o=this.callbackCtx_,s=this.activeObservations_.map(function(a){return new ResizeObserverEntry(a.target,a.broadcastRect())});this.callback_.call(o,s,o),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver=function(){function e(o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var s=ResizeObserverController.getInstance(),a=new ResizeObserverSPI(o,s,this);observers.set(this,a)}return e}();["observe","unobserve","disconnect"].forEach(function(e){ResizeObserver.prototype[e]=function(){var o;return(o=observers.get(this))[e].apply(o,arguments)}});var index=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver}(),Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var o=1.70158;return e*e*((o+1)*e-o)},Out:function(e){var o=1.70158;return--e*e*((o+1)*e+o)+1},InOut:function(e){var o=2.5949095;return(e*=2)<1?.5*(e*e*((o+1)*e-o)):.5*((e-=2)*e*((o+1)*e+o)+2)}},Bounce:{In:function(e){return 1-Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Easing.Bounce.In(e*2)*.5:Easing.Bounce.Out(e*2-1)*.5+.5}}},now;typeof self>"u"&&typeof process<"u"&&process.hrtime?now=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?now=self.performance.now.bind(self.performance):Date.now!==void 0?now=Date.now:now=function(){return new Date().getTime()};var now$1=now,Group$1=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var o=this;return Object.keys(this._tweens).map(function(s){return o._tweens[s]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(o){this._tweens[o.getId()]=o,this._tweensAddedDuringUpdate[o.getId()]=o},e.prototype.remove=function(o){delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]},e.prototype.update=function(o,s){o===void 0&&(o=now$1()),s===void 0&&(s=!1);var a=Object.keys(this._tweens);if(a.length===0)return!1;for(;a.length>0;){this._tweensAddedDuringUpdate={};for(var c=0;c<a.length;c++){var h=this._tweens[a[c]],g=!s;h&&h.update(o,g)===!1&&!s&&delete this._tweens[a[c]]}a=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Interpolation={Linear:function(e,o){var s=e.length-1,a=s*o,c=Math.floor(a),h=Interpolation.Utils.Linear;return o<0?h(e[0],e[1],a):o>1?h(e[s],e[s-1],s-a):h(e[c],e[c+1>s?s:c+1],a-c)},Bezier:function(e,o){for(var s=0,a=e.length-1,c=Math.pow,h=Interpolation.Utils.Bernstein,g=0;g<=a;g++)s+=c(1-o,a-g)*c(o,g)*e[g]*h(a,g);return s},CatmullRom:function(e,o){var s=e.length-1,a=s*o,c=Math.floor(a),h=Interpolation.Utils.CatmullRom;return e[0]===e[s]?(o<0&&(c=Math.floor(a=s*(1+o))),h(e[(c-1+s)%s],e[c],e[(c+1)%s],e[(c+2)%s],a-c)):o<0?e[0]-(h(e[0],e[0],e[1],e[1],-a)-e[0]):o>1?e[s]-(h(e[s],e[s],e[s-1],e[s-1],a-s)-e[s]):h(e[c?c-1:0],e[c],e[s<c+1?s:c+1],e[s<c+2?s:c+2],a-c)},Utils:{Linear:function(e,o,s){return(o-e)*s+e},Bernstein:function(e,o){var s=Interpolation.Utils.Factorial;return s(e)/s(o)/s(e-o)},Factorial:function(){var e=[1];return function(o){var s=1;if(e[o])return e[o];for(var a=o;a>1;a--)s*=a;return e[o]=s,s}}(),CatmullRom:function(e,o,s,a,c){var h=(s-e)*.5,g=(a-o)*.5,_=c*c,et=c*_;return(2*o-2*s+h+g)*et+(-3*o+3*s-2*h-g)*_+h*c+o}}},Sequence=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),mainGroup=new Group$1,Tween=function(){function e(o,s){s===void 0&&(s=mainGroup),this._object=o,this._group=s,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Easing.Linear.None,this._interpolationFunction=Interpolation.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Sequence.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(o,s){return this._valuesEnd=Object.create(o),s!==void 0&&(this._duration=s),this},e.prototype.duration=function(o){return this._duration=o,this},e.prototype.start=function(o){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=o!==void 0?typeof o=="string"?now$1()+parseFloat(o):o:now$1(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(o,s,a,c){for(var h in a){var g=o[h],_=Array.isArray(g),et=_?"array":typeof g,rt=!_&&Array.isArray(a[h]);if(!(et==="undefined"||et==="function")){if(rt){var it=a[h];if(it.length===0)continue;it=it.map(this._handleRelativeValue.bind(this,g)),a[h]=[g].concat(it)}if((et==="object"||_)&&g&&!rt){s[h]=_?[]:{};for(var ot in g)s[h][ot]=g[ot];c[h]=_?[]:{},this._setupProperties(g,s[h],a[h],c[h])}else typeof s[h]>"u"&&(s[h]=g),_||(s[h]*=1),rt?c[h]=a[h].slice().reverse():c[h]=s[h]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(o){return o===void 0&&(o=now$1()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=o,this._group&&this._group.remove(this),this)},e.prototype.resume=function(o){return o===void 0&&(o=now$1()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=o-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var o=0,s=this._chainedTweens.length;o<s;o++)this._chainedTweens[o].stop();return this},e.prototype.group=function(o){return this._group=o,this},e.prototype.delay=function(o){return this._delayTime=o,this},e.prototype.repeat=function(o){return this._initialRepeat=o,this._repeat=o,this},e.prototype.repeatDelay=function(o){return this._repeatDelayTime=o,this},e.prototype.yoyo=function(o){return this._yoyo=o,this},e.prototype.easing=function(o){return this._easingFunction=o,this},e.prototype.interpolation=function(o){return this._interpolationFunction=o,this},e.prototype.chain=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return this._chainedTweens=o,this},e.prototype.onStart=function(o){return this._onStartCallback=o,this},e.prototype.onUpdate=function(o){return this._onUpdateCallback=o,this},e.prototype.onRepeat=function(o){return this._onRepeatCallback=o,this},e.prototype.onComplete=function(o){return this._onCompleteCallback=o,this},e.prototype.onStop=function(o){return this._onStopCallback=o,this},e.prototype.update=function(o,s){if(o===void 0&&(o=now$1()),s===void 0&&(s=!0),this._isPaused)return!0;var a,c,h=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(o>h)return!1;s&&this.start(o)}if(this._goToEnd=!1,o<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),c=(o-this._startTime)/this._duration,c=this._duration===0||c>1?1:c;var g=this._easingFunction(c);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,g),this._onUpdateCallback&&this._onUpdateCallback(this._object,c),c===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=o+this._repeatDelayTime:this._startTime=o+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var _=0,et=this._chainedTweens.length;_<et;_++)this._chainedTweens[_].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(o,s,a,c){for(var h in a)if(s[h]!==void 0){var g=s[h]||0,_=a[h],et=Array.isArray(o[h]),rt=Array.isArray(_),it=!et&&rt;it?o[h]=this._interpolationFunction(_,c):typeof _=="object"&&_?this._updateProperties(o[h],g,_,c):(_=this._handleRelativeValue(g,_),typeof _=="number"&&(o[h]=g+(_-g)*c))}},e.prototype._handleRelativeValue=function(o,s){return typeof s!="string"?s:s.charAt(0)==="+"||s.charAt(0)==="-"?o+parseFloat(s):parseFloat(s)},e.prototype._swapEndStartRepeatValues=function(o){var s=this._valuesStartRepeat[o],a=this._valuesEnd[o];typeof a=="string"?this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(a):this._valuesStartRepeat[o]=this._valuesEnd[o],this._valuesEnd[o]=s},e}(),TWEEN=mainGroup;TWEEN.getAll.bind(TWEEN);TWEEN.removeAll.bind(TWEEN);TWEEN.add.bind(TWEEN);TWEEN.remove.bind(TWEEN);TWEEN.update.bind(TWEEN);function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},_extends.apply(this,arguments)}var getStartingIndex=function e(o,s){return s&&s<React.Children.count(o)?s:0},getResponsiveSettings=function e(o,s){if(typeof window<"u"&&Array.isArray(s))return s.find(function(a){return a.breakpoint<=o})},EASING_METHODS={linear:Easing.Linear.None,ease:Easing.Quadratic.InOut,"ease-in":Easing.Quadratic.In,"ease-out":Easing.Quadratic.Out,cubic:Easing.Cubic.InOut,"cubic-in":Easing.Cubic.In,"cubic-out":Easing.Cubic.Out},getEasing=function e(o){return o?EASING_METHODS[o]:EASING_METHODS.linear},showPreviousArrow=function e(o,s,a){var c=o.prevArrow,h=o.infinite,g=s<=0&&!h,_={"data-type":"prev","aria-label":"Previous Slide",disabled:g,onClick:a};if(c)return React.cloneElement(c,_extends({className:(c.props.className||"")+" nav "+(g?"disabled":"")},_));var et="nav default-nav "+(g?"disabled":"");return React.createElement("button",Object.assign({type:"button",className:et},_),React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})))},showNextArrow=function e(o,s,a,c){var h=o.nextArrow,g=o.infinite,_=o.children,et=1;c?et=c==null?void 0:c.settings.slidesToScroll:"slidesToScroll"in o&&(et=o.slidesToScroll||1);var rt=s>=React.Children.count(_)-et&&!g,it={"data-type":"next","aria-label":"Next Slide",disabled:rt,onClick:a};if(h)return React.cloneElement(h,_extends({className:(h.props.className||"")+" nav "+(rt?"disabled":"")},it));var ot="nav default-nav "+(rt?"disabled":"");return React.createElement("button",Object.assign({type:"button",className:ot},it),React.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})))},showDefaultIndicator=function e(o,s,a){return React.createElement("li",{key:s},React.createElement("button",Object.assign({type:"button",className:"each-slideshow-indicator "+(o?"active":"")},a)))},showCustomIndicator=function e(o,s,a,c){return React.cloneElement(c,_extends({className:c.props.className+" "+(o?"active":""),key:s},a))},showIndicators=function e(o,s,a,c){var h=o.children,g=o.indicators,_=1;c?_=c==null?void 0:c.settings.slidesToScroll:"slidesToScroll"in o&&(_=o.slidesToScroll||1);var et=Math.ceil(React.Children.count(h)/_);return React.createElement("ul",{className:"indicators"},Array.from({length:et},function(rt,it){var ot={"data-key":it,"aria-label":"Go to slide "+(it+1),onClick:a},st=Math.floor((s+_-1)/_)===it;return typeof g=="function"?showCustomIndicator(st,it,ot,g(it)):showDefaultIndicator(st,it,ot)}))},defaultProps={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},FadeZoom=React.forwardRef(function(e,o){var s=reactExports.useState(getStartingIndex(e.children,e.defaultIndex)),a=s[0],c=s[1],h=reactExports.useRef(null),g=reactExports.useRef(null),_=reactExports.useRef(new Group$1),et=reactExports.useRef(),rt=reactExports.useRef(),it=reactExports.useMemo(function(){return React.Children.count(e.children)},[e.children]),ot=reactExports.useCallback(function(){if(g.current&&h.current){var Bt=h.current.clientWidth,cr=Bt*it;g.current.style.width=cr+"px";for(var Ht=0;Ht<g.current.children.length;Ht++){var pr=g.current.children[Ht];pr&&(pr.style.width=Bt+"px",pr.style.left=Ht*-Bt+"px",pr.style.display="block")}}},[h,g,it]),st=reactExports.useCallback(function(){h.current&&(rt.current=new index(function(Bt){Bt&&ot()}),rt.current.observe(h.current))},[h,ot]),ct=reactExports.useCallback(function(){var Bt=e.autoplay,cr=e.children,Ht=e.duration,pr=e.infinite;Bt&&React.Children.count(cr)>1&&(pr||a<React.Children.count(cr)-1)&&(et.current=setTimeout(mt,Ht))},[e,a]);reactExports.useEffect(function(){return st(),function(){_.current.removeAll(),clearTimeout(et.current),dt()}},[st,_]),reactExports.useEffect(function(){clearTimeout(et.current),ct()},[a,e.autoplay,ct]),reactExports.useEffect(function(){ot()},[it,ot]),reactExports.useImperativeHandle(o,function(){return{goNext:function(){mt()},goBack:function(){gt()},goTo:function(cr,Ht){Ht!=null&&Ht.skipTransition?c(cr):Ut(cr)}}});var dt=function(){rt.current&&h.current&&rt.current.unobserve(h.current)},Tt=function(){e.pauseOnHover&&clearTimeout(et.current)},Et=function(){var cr=e.pauseOnHover,Ht=e.autoplay,pr=e.duration;cr&&Ht&&(et.current=setTimeout(function(){return mt()},pr))},mt=function(){var cr=e.children,Ht=e.infinite;!Ht&&a===React.Children.count(cr)-1||It((a+1)%React.Children.count(cr))},gt=function(){var cr=e.children,Ht=e.infinite;!Ht&&a===0||It(a===0?React.Children.count(cr)-1:a-1)},xt=function(cr){var Ht=cr.currentTarget;Ht.dataset.type==="prev"?gt():mt()},bt=function Bt(){requestAnimationFrame(Bt),_.current.update()},It=function(cr){var Ht=_.current.getAll();if(!Ht.length){var pr;(pr=g.current)!=null&&pr.children[cr]||(cr=0),clearTimeout(et.current);var Ar={opacity:0,scale:1};bt();var Rr=new Tween(Ar,_.current).to({opacity:1,scale:e.scale},e.transitionDuration).onUpdate(function(dr){g.current&&(g.current.children[cr].style.opacity=dr.opacity,g.current.children[a].style.opacity=1-dr.opacity,g.current.children[a].style.transform="scale("+dr.scale+")")});Rr.easing(getEasing(e.easing)),Rr.onStart(function(){typeof e.onStartChange=="function"&&e.onStartChange(a,cr)}),Rr.onComplete(function(){g.current&&(c(cr),g.current.children[a].style.transform="scale(1)"),typeof e.onChange=="function"&&e.onChange(a,cr)}),Rr.start()}},Ut=function(cr){cr!==a&&It(cr)},Ft=function(cr){var Ht=cr.currentTarget;Ht.dataset.key&&parseInt(Ht.dataset.key)!==a&&Ut(parseInt(Ht.dataset.key))};return React.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},React.createElement("div",{className:"react-slideshow-container "+(e.cssClass||""),onMouseEnter:Tt,onMouseOver:Tt,onMouseLeave:Et},e.arrows&&showPreviousArrow(e,a,xt),React.createElement("div",{className:"react-slideshow-fadezoom-wrapper "+e.cssClass,ref:h},React.createElement("div",{className:"react-slideshow-fadezoom-images-wrap",ref:g},(React.Children.map(e.children,function(Bt){return Bt})||[]).map(function(Bt,cr){return React.createElement("div",{style:{opacity:cr===a?"1":"0",zIndex:cr===a?"1":"0"},"data-index":cr,key:cr,"aria-roledescription":"slide","aria-hidden":cr===a?"false":"true"},Bt)}))),e.arrows&&showNextArrow(e,a,xt)),e.indicators&&showIndicators(e,a,Ft))});FadeZoom.defaultProps=defaultProps;var Fade=React.forwardRef(function(e,o){return React.createElement(FadeZoom,Object.assign({},e,{scale:1,ref:o}))});Fade.defaultProps=defaultProps;var Zoom=React.forwardRef(function(e,o){return React.createElement(FadeZoom,Object.assign({},e,{ref:o}))});Zoom.defaultProps=defaultProps;var Slide=React.forwardRef(function(e,o){var s=reactExports.useState(getStartingIndex(e.children,e.defaultIndex)),a=s[0],c=s[1],h=reactExports.useState(0),g=h[0],_=h[1],et=reactExports.useRef(null),rt=reactExports.useRef(null),it=reactExports.useRef(new Group$1),ot=reactExports.useMemo(function(){return getResponsiveSettings(g,e.responsive)},[g,e.responsive]),st=reactExports.useMemo(function(){return ot?ot.settings.slidesToScroll:e.slidesToScroll||1},[ot,e.slidesToScroll]),ct=reactExports.useMemo(function(){return ot?ot.settings.slidesToShow:e.slidesToShow||1},[ot,e.slidesToShow]),dt=reactExports.useMemo(function(){return React.Children.count(e.children)},[e.children]),Tt=reactExports.useMemo(function(){return g/ct},[g,ct]),Et=reactExports.useRef(),mt=reactExports.useRef(),gt,xt=!1,bt=0,It=e.vertical?"translateY":"translateX",Ut=e.vertical?"clientY":"clientX",Ft=e.vertical?"pageY":"pageX",Bt=reactExports.useCallback(function(){if(rt.current){var nr=g*rt.current.children.length,lr=e.vertical?"height":"width";rt.current.style[lr]=nr+"px",e.vertical&&et.current&&(et.current.style[lr]=g+"px");for(var Cr=0;Cr<rt.current.children.length;Cr++){var Pr=rt.current.children[Cr];Pr&&(e.vertical||(Pr.style[lr]=Tt+"px"),Pr.style.display="block")}}},[g,Tt]),cr=reactExports.useCallback(function(){et.current&&(mt.current=new index(function(nr){nr&&hr()}),mt.current.observe(et.current))},[et]),Ht=reactExports.useCallback(function(){var nr=e.autoplay,lr=e.infinite,Cr=e.duration;nr&&(lr||a<dt-1)&&(Et.current=setTimeout(dr,Cr))},[e,dt,a]);reactExports.useEffect(function(){Bt()},[g,Bt]),reactExports.useEffect(function(){return cr(),function(){it.current.removeAll(),clearTimeout(Et.current),pr()}},[et,cr,it]),reactExports.useEffect(function(){clearTimeout(Et.current),Ht()},[a,g,e.autoplay,Ht]),reactExports.useImperativeHandle(o,function(){return{goNext:function(){dr()},goBack:function(){Yt()},goTo:function(lr,Cr){Cr!=null&&Cr.skipTransition?c(lr):ur(lr)}}});var pr=function(){mt&&et.current&&mt.current.unobserve(et.current)},Ar=function(){e.pauseOnHover&&clearTimeout(Et.current)},Rr=function(lr){if(e.canSwipe&&xt){var Cr;if(window.TouchEvent&&lr.nativeEvent instanceof TouchEvent?Cr=lr.nativeEvent.touches[0][Ft]:Cr=lr.nativeEvent[Ut],Cr&&gt){var Pr=Tt*(a+xr()),$r=Cr-gt;if(!e.infinite&&a===dt-st&&$r<0||!e.infinite&&a===0&&$r>0)return;bt=$r,Pr-=bt,rt.current.style.transform=It+"(-"+Pr+"px)"}}},dr=function(){if(!(!e.infinite&&a===dt-st)){var lr=Lt(a+st);Mt(lr)}},Yt=function(){if(!(!e.infinite&&a===0)){var lr=a-st;lr%st&&(lr=Math.ceil(lr/st)*st),Mt(lr)}},Pt=function(lr){var Cr=lr.currentTarget;if(Cr.dataset.key){var Pr=parseInt(Cr.dataset.key);ur(Pr*st)}},ur=function(lr){Mt(Lt(lr))},Lt=function(lr){return lr<dt&&lr+st>dt&&(dt-st)%st?dt-st:lr},rr=function(){xt?Tr():e.pauseOnHover&&e.autoplay&&(Et.current=setTimeout(dr,e.duration))},tr=function(lr){var Cr=lr.currentTarget.dataset;Cr.type==="next"?dr():Yt()},Kt=function(){return React.Children.toArray(e.children).slice(-ct).map(function(lr,Cr){return React.createElement("div",{"data-index":Cr-ct,"aria-roledescription":"slide","aria-hidden":"true",key:Cr-ct},lr)})},Dt=function(){if(!(!e.infinite&&ct===st))return React.Children.toArray(e.children).slice(0,ct).map(function(lr,Cr){return React.createElement("div",{"data-index":dt+Cr,"aria-roledescription":"slide","aria-hidden":"true",key:dt+Cr},lr)})},hr=function(){var lr=e.vertical?"clientHeight":"clientWidth";e.vertical?rt.current&&_(rt.current.children[0][lr]):et.current&&_(et.current[lr])},ar=function(lr){e.canSwipe&&(window.TouchEvent&&lr.nativeEvent instanceof TouchEvent?gt=lr.nativeEvent.touches[0][Ft]:gt=lr.nativeEvent[Ut],clearTimeout(Et.current),xt=!0)},Tr=function(){e.canSwipe&&(xt=!1,Math.abs(bt)/g>.2?bt<0?dr():Yt():Math.abs(bt)>0&&Mt(a,300))},yr=function nr(){requestAnimationFrame(nr),it.current.update()},Mt=function(lr,Cr){var Pr=Cr||e.transitionDuration,$r=a,Mr=it.current.getAll();if(et.current){var Qn=e.vertical?"clientHeight":"clientWidth",eo=et.current[Qn]/ct;if(!Mr.length){clearTimeout(Et.current);var On={margin:-eo*($r+xr())+bt},ao=new Tween(On,it.current).to({margin:-eo*(lr+xr())},Pr).onUpdate(function(io){rt.current&&(rt.current.style.transform=It+"("+io.margin+"px)")});ao.easing(getEasing(e.easing)),yr();var Yn=lr;Yn<0?Yn=dt-st:Yn>=dt&&(Yn=0),ao.onStart(function(){typeof e.onStartChange=="function"&&e.onStartChange(a,Yn)}),ao.onComplete(function(){bt=0,typeof e.onChange=="function"&&e.onChange(a,Yn),c(Yn)}),ao.start()}}},sr=function(lr){return lr<a+ct&&lr>=a},xr=function(){return e.infinite?ct:0},ir={transform:It+"(-"+(a+xr())*Tt+"px)"};return React.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},React.createElement("div",{className:"react-slideshow-container",onMouseEnter:Ar,onMouseOver:Ar,onMouseLeave:rr,onMouseDown:ar,onMouseUp:Tr,onMouseMove:Rr,onTouchStart:ar,onTouchEnd:Tr,onTouchCancel:Tr,onTouchMove:Rr},e.arrows&&showPreviousArrow(e,a,tr),React.createElement("div",{className:"react-slideshow-wrapper slide "+(e.cssClass||""),ref:et},React.createElement("div",{className:"images-wrap "+(e.vertical?"vertical":"horizontal"),style:ir,ref:rt},e.infinite&&Kt(),(React.Children.map(e.children,function(nr){return nr})||[]).map(function(nr,lr){var Cr=sr(lr);return React.createElement("div",{"data-index":lr,key:lr,className:Cr?"active":"","aria-roledescription":"slide","aria-hidden":Cr?"false":"true"},nr)}),Dt())),e.arrows&&showNextArrow(e,a,tr,ot)),!!e.indicators&&showIndicators(e,a,Pt,ot))});Slide.defaultProps=defaultProps;class Collection{constructor(o,s){Er(this,"CollectionId");Er(this,"CollectionName");Er(this,"Select",!1);this.CollectionId=o,this.CollectionName=s}}const CollectionPage=({onSubmit:e})=>{const o=reactExports.useContext(InventoryContext),[s,a]=reactExports.useState(!1),[c,h]=reactExports.useState(null),[g,_]=reactExports.useState(new Collection("cero","")),et=ct=>{c!==null?h({...c,CollectionName:ct.currentTarget.value}):_({...g,CollectionName:ct.currentTarget.value})},{Collections:rt,productServices:it,useCollection:ot}=o;reactExports.useEffect(()=>{rt==null&&it.ReadCollection().then(ct=>{ot(ct)})},[]);const st=async ct=>{if(ct.preventDefault(),c===null)try{const dt=await it.CreateCollection(g);return g.CollectionId=dt,ot([...rt,g]),a(!1),_({...g,CollectionName:""}),An.success("Categoría creado exitosamente")}catch{return An.error("Error, intente más tarde")}else if(await it.UpdateCollection(c)){const Tt=rt.map(Et=>Et.CollectionId!==c.CollectionId?Et:{...c});return ot(Tt),a(!1),h(null),An.success("Categoría actualizado")}else return An.error("Hubo un error, intentalo más tarde.")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("main",{className:`${ContentPageCSS.main} ${InventaryStyle.InventaryMain}`,style:{overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx(FaArrowLeft,{color:"grey",style:{cursor:"pointer"},onClick:ct=>{e("")}}),jsxRuntimeExports.jsx("h2",{className:ContentPageCSS.titlePage,children:"Categoría"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("h5",{style:{color:"grey"},children:"Toca cualquier Categoría"}),jsxRuntimeExports.jsx(CgTapDouble,{size:20})]})]}),jsxRuntimeExports.jsx("section",{style:{overflowX:"auto",width:"100%",display:"block"},children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:InventaryStyle.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Nombre"})]})}),jsxRuntimeExports.jsx("tbody",{children:rt.map(ct=>jsxRuntimeExports.jsxs("tr",{onClick:dt=>{dt.target.tagName!=="INPUT"&&(h(ct),a(!0))},style:{backgroundColor:ct.Select?"rgba(82, 92, 235,0.2)":"",color:ct.Select?"white":"",fontWeight:ct.Select?"bold":""},children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{onChange:dt=>{dt.target.checked;const Tt=rt.map(Et=>ct.CollectionId!==Et.CollectionId?Et:{...ct,Select:dt.target.checked});ot(Tt)},checked:ct.Select,type:"checkbox",name:ct.CollectionName,id:ct.CollectionId+1,"aria-label":"Mostrar detalles"})}),jsxRuntimeExports.jsx("td",{children:ct.CollectionName})]},ct.CollectionId))})]})})}),jsxRuntimeExports.jsx("button",{onClick:ct=>{a(!0)},style:{cursor:"pointer",position:"fixed",right:"20px",bottom:"90px",width:"50px",height:"50px",backgroundColor:"transparent",borderRadius:"50%",borderColor:"green"},name:"CollectionButton",children:jsxRuntimeExports.jsx(IoAdd,{color:"green",size:20})},"buttonCollection")]}),jsxRuntimeExports.jsx("div",{onClick:ct=>{a(!1)},style:{width:"100vw",height:"100vh",backgroundColor:"rgb(0,0,0, 25%)",zIndex:"20",display:s?"flex":"none",position:"fixed",alignItems:"center",justifyContent:"center",top:"0px"},children:jsxRuntimeExports.jsx("div",{className:InventaryStyle.ContentFormInventary,style:{height:"250px"},onClick:ct=>{ct.stopPropagation()},children:jsxRuntimeExports.jsxs("form",{style:{display:"flex",flexDirection:"column",margin:"20px",gap:"20px"},onSubmit:st,children:[jsxRuntimeExports.jsx("button",{onClick:ct=>{c!==null&&h(null),a(!1)},style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",right:"10px",top:"10px",zIndex:"300"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),jsxRuntimeExports.jsx("h2",{className:InventaryStyle.Title,children:"Crear Categoría"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,isRequired:!0,id:"CollectionName",readOnly:!1,title:"Nombre de la categoría",type:"text",value:c!==null?c.CollectionName:g.CollectionName,onChangeInputValue:et}),jsxRuntimeExports.jsx(Button,{title:c!==null?"Actualizar":"CrearCategoría",onSubmit:()=>{}})]})})})]})};class Group{constructor(o,s){Er(this,"GroupId");Er(this,"GroupName");Er(this,"Select",!1);this.GroupName=s,this.GroupId=o}}const GroupPage=({onSubmit:e})=>{const o=reactExports.useContext(InventoryContext),[s,a]=reactExports.useState(!1),[c,h]=reactExports.useState(null),[g,_]=reactExports.useState(new Group("cero","")),et=ct=>{c!==null?h({...c,GroupName:ct.currentTarget.value}):_({...g,GroupName:ct.currentTarget.value})},{Groups:rt,productServices:it,useGroup:ot}=o;reactExports.useEffect(()=>{rt==null&&it.ReadGroups().then(ct=>{ot(ct)})},[]);const st=async ct=>{if(ct.preventDefault(),c===null)try{const dt=await it.CreateGroup(g);return g.GroupId=dt,ot([...rt,g]),a(!1),_({...g,GroupName:""}),An.success("Grupo creado exitosamente")}catch{return An.error("Error, intente más tarde")}else if(await it.UpdateGroup(c)){const Tt=rt.map(Et=>Et.GroupId!==c.GroupId?Et:{...c});return ot(Tt),a(!1),h(null),An.success("Grupo actualizado")}else return An.error("Hubo un error, intentalo más tarde.")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("main",{className:`${ContentPageCSS.main} ${InventaryStyle.InventaryMain}`,style:{overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx(FaArrowLeft,{color:"grey",style:{cursor:"pointer"},onClick:ct=>{e("")}}),jsxRuntimeExports.jsx("h2",{className:ContentPageCSS.titlePage,children:"Grupo"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("h5",{style:{color:"grey"},children:"Toca cualquier Grupo"}),jsxRuntimeExports.jsx(CgTapDouble,{size:20})]})]}),jsxRuntimeExports.jsx("section",{style:{overflowX:"auto",width:"100%",display:"block"},children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:InventaryStyle.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Nombre"})]})}),jsxRuntimeExports.jsx("tbody",{children:rt.map(ct=>jsxRuntimeExports.jsxs("tr",{onClick:dt=>{dt.target.tagName!=="INPUT"&&(h(ct),a(!0))},style:{backgroundColor:ct.Select?"rgba(82, 92, 235,0.2)":"",color:ct.Select?"white":"",fontWeight:ct.Select?"bold":""},children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{onChange:dt=>{dt.target.checked;const Tt=rt.map(Et=>ct.GroupId!==Et.GroupId?Et:{...ct,Select:dt.target.checked});ot(Tt)},checked:ct.Select,type:"checkbox",name:ct.GroupName,id:ct.GroupId+1,"aria-label":"Mostrar detalles de grupo"})}),jsxRuntimeExports.jsx("td",{children:ct.GroupName})]},ct.GroupId))})]})})}),jsxRuntimeExports.jsx("button",{onClick:ct=>{a(!0)},style:{cursor:"pointer",position:"fixed",right:"20px",bottom:"90px",width:"50px",height:"50px",backgroundColor:"transparent",borderRadius:"50%",borderColor:"green"},name:"GroupButton",children:jsxRuntimeExports.jsx(IoAdd,{color:"green",size:20})},"buttonGroup")]}),jsxRuntimeExports.jsx("div",{onClick:ct=>{a(!1)},style:{width:"100vw",height:"100vh",backgroundColor:"rgb(0,0,0, 25%)",zIndex:"20",display:s?"flex":"none",position:"fixed",alignItems:"center",justifyContent:"center",top:"0px"},children:jsxRuntimeExports.jsx("div",{className:InventaryStyle.ContentFormInventary,style:{height:"250px"},onClick:ct=>{ct.stopPropagation()},children:jsxRuntimeExports.jsxs("form",{style:{display:"flex",flexDirection:"column",margin:"20px",gap:"20px"},onSubmit:st,children:[jsxRuntimeExports.jsx("button",{onClick:ct=>{c!==null&&h(null),a(!1)},style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",right:"10px",top:"10px",zIndex:"300"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),jsxRuntimeExports.jsx("h2",{className:InventaryStyle.Title,children:"Crear Grupo"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,isRequired:!0,id:"GroupName",readOnly:!1,title:"Nombre del grupo",type:"text",value:c!==null?c.GroupName:g.GroupName,onChangeInputValue:et}),jsxRuntimeExports.jsx(Button,{title:c!==null?"Actualizar":"Crear Grupo",onSubmit:()=>{}})]})})})]})},ComponentPage=({onSubmit:e})=>{const o=reactExports.useRef(!1),s=reactExports.useContext(InventoryContext),[a,c]=reactExports.useState(!1),[h,g]=reactExports.useState(null),[_,et]=reactExports.useState(new Component$1("","",0)),rt=dt=>{const{name:Tt,value:Et}=dt.currentTarget;h!==null?g({...h,[Tt]:Et}):et({..._,[Tt]:Et})},{Components:it,componentServices:ot,useComponent:st}=s;reactExports.useEffect(()=>{o.current=!0;const dt=it===null?ot.Read():Promise.resolve(null);Promise.all([dt]).then(([Tt])=>{o.current&&Tt&&st(Tt)})},[]);const ct=async dt=>{if(dt.preventDefault(),h===null)try{const Tt=await ot.Create(_);return _.IdComponent=Tt,st([...it,_]),c(!1),et({..._,Name:"",Quantity:0}),An.success("Componente creado exitosamente")}catch{return An.error("Error, intente más tarde")}else if(await ot.Update(h)){const Et=it.map(mt=>mt.IdComponent!==h.IdComponent?mt:{...h});return st(Et),c(!1),g(null),An.success("Componente actualizado")}else return An.error("Hubo un error, intentalo más tarde.")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("main",{className:`${ContentPageCSS.main} ${InventaryStyle.InventaryMain}`,style:{overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx(FaArrowLeft,{color:"grey",style:{cursor:"pointer"},onClick:dt=>{e("")}}),jsxRuntimeExports.jsx("h2",{className:ContentPageCSS.titlePage,children:"Componente"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("h5",{style:{color:"grey"},children:"Toca cualquier Componente"}),jsxRuntimeExports.jsx(CgTapDouble,{size:20})]})]}),jsxRuntimeExports.jsx("section",{style:{overflowX:"auto",width:"100%",display:"block"},children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:InventaryStyle.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Cantidad"})]})}),jsxRuntimeExports.jsx("tbody",{children:it==null?void 0:it.map(dt=>jsxRuntimeExports.jsxs("tr",{onClick:Tt=>{Tt.target.tagName!=="INPUT"&&(g(dt),c(!0))},style:{backgroundColor:dt.Select?"rgba(82, 92, 235,0.2)":"",color:dt.Select?"white":"",fontWeight:dt.Select?"bold":""},children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{onChange:Tt=>{Tt.target.checked;const Et=it.map(mt=>dt.IdComponent!==mt.IdComponent?mt:{...dt,Select:Tt.target.checked});st(Et)},checked:dt.Select,type:"checkbox",name:dt.Name,id:dt.IdComponent+1,"aria-label":"Mostrar detalles de Componente"})}),jsxRuntimeExports.jsx("td",{children:dt.Name}),jsxRuntimeExports.jsx("td",{children:dt.Quantity})]},dt.IdComponent))})]})})}),jsxRuntimeExports.jsx("button",{onClick:dt=>{c(!0)},style:{cursor:"pointer",position:"fixed",right:"20px",bottom:"90px",width:"50px",height:"50px",backgroundColor:"transparent",borderRadius:"50%",borderColor:"green"},name:"ComponentButton",children:jsxRuntimeExports.jsx(IoAdd,{color:"green",size:20})},"buttonComponent")]}),jsxRuntimeExports.jsx("div",{onClick:dt=>{c(!1)},style:{width:"100vw",height:"100vh",backgroundColor:"rgb(0,0,0, 25%)",zIndex:"20",display:a?"flex":"none",position:"fixed",alignItems:"center",justifyContent:"center",top:"0px"},children:jsxRuntimeExports.jsx("div",{className:InventaryStyle.ContentFormInventary,style:{height:"300px"},onClick:dt=>{dt.stopPropagation()},children:jsxRuntimeExports.jsxs("form",{style:{display:"flex",flexDirection:"column",margin:"20px",gap:"20px"},onSubmit:ct,children:[jsxRuntimeExports.jsx("button",{onClick:dt=>{h!==null&&g(null),c(!1)},style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",right:"10px",top:"10px",zIndex:"300"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),jsxRuntimeExports.jsx("h2",{className:InventaryStyle.Title,children:"Crear Componente"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,isRequired:!0,id:"Name",readOnly:!1,title:"Nombre del componente",type:"text",value:h?h.Name:_.Name,onChangeInputValue:rt}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,isRequired:!0,id:"Quantity",readOnly:!1,title:"Cantidad del componente",type:"number",value:h?h.Quantity:_.Quantity,onChangeInputValue:rt}),jsxRuntimeExports.jsx(Button,{title:h!==null?"Actualizar":"Crear Componente",onSubmit:()=>{}})]})})})]})};class TreeComponent{constructor(o,s,a){Er(this,"IdTreeComponent");Er(this,"IdParent");Er(this,"Quantity");this.IdTreeComponent=o,this.IdParent=s,this.Quantity=a}}const TreeComponentPage=({onSubmit:e})=>{const o=reactExports.useRef(!1),s=reactExports.useContext(InventoryContext),[a,c]=reactExports.useState(!1),[h,g]=reactExports.useState(null),[_,et]=reactExports.useState(new TreeComponent("","",0)),[rt,it]=reactExports.useState([]),[ot,st]=reactExports.useState(null),[ct,dt]=reactExports.useState(null),Tt=Yt=>{const{name:Pt,value:ur}=Yt.currentTarget;h!==null?g({...h,[Pt]:ur}):et({..._,[Pt]:ur})},{productServices:Et,TreesComponent:mt,treeComponentServices:gt,componentServices:xt,Components:bt,useComponent:It,useTreesComponent:Ut,TreesComponentDetail:Ft,useTreesComponentDetail:Bt,treeComponentDetailServices:cr}=s;reactExports.useEffect(()=>{o.current=!0;const Yt=bt===null?xt.Read():Promise.resolve(null),Pt=mt===null?gt.Read():Promise.resolve(null),ur=Ft===null?cr.Read():Promise.resolve(null);Promise.all([Pt,ur,Yt]).then(([Lt,rr,tr])=>{o.current&&(Lt&&(st(Lt),dt(rr)),tr&&It(tr))})},[]);const Ht=async Yt=>{if(Yt.preventDefault(),h===null)try{const Pt=await gt.Create(_);return _.IdTreeComponent=Pt,st([...mt,_]),c(!1),et({..._,IdParent:"",Quantity:0}),An.success("Árbol de Componente creado exitosamente")}catch{return An.error("Error, intente más tarde")}},pr=Yt=>{const Pt=new Component$1("",Yt,1);it(ur=>ur.includes(Yt)?ur.filter(Lt=>Lt!==Yt):[...ur,Pt])},Ar=Yt=>rt.some(Pt=>Pt.Name===Yt.Name),Rr=(Yt,Pt)=>{it(ur=>ur.map(Lt=>Lt.Name===Yt?{...Lt,Quantity:Pt}:Lt))},dr=Yt=>{const{name:Pt,value:ur}=Yt.target;Rr(Pt,Number(ur))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("main",{className:`${ContentPageCSS.main} ${InventaryStyle.InventaryMain}`,style:{overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx(FaArrowLeft,{color:"grey",style:{cursor:"pointer"},onClick:Yt=>{e("")}}),jsxRuntimeExports.jsx("h2",{className:ContentPageCSS.titlePage,children:"Árbol de Componente"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("h5",{style:{color:"grey"},children:"Toca cualquier Árbol de Componente"}),jsxRuntimeExports.jsx(CgTapDouble,{size:20})]})]}),jsxRuntimeExports.jsx("section",{style:{overflowX:"auto",width:"100%",display:"block"},children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:InventaryStyle.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Cantidad a utilizar"})]})}),jsxRuntimeExports.jsx("tbody",{children:ot==null?void 0:ot.map(Yt=>{const Pt=bt==null?void 0:bt.find(rr=>rr.IdComponent===Yt.IdParent),ur=(ct==null?void 0:ct.filter(rr=>rr.IdTreeComponent===Yt.IdTreeComponent))??[],Lt=!((ur==null?void 0:ur.length)>0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{style:Lt?{borderBottom:"2px solid black"}:{},onClick:()=>{},children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(MdCheckBox,{})}),jsxRuntimeExports.jsx("td",{children:Pt==null?void 0:Pt.Name}),jsxRuntimeExports.jsx("td",{style:{paddingLeft:"60px"},children:Yt==null?void 0:Yt.Quantity}),jsxRuntimeExports.jsxs("td",{children:[" ",jsxRuntimeExports.jsx(MdDelete,{onClick:()=>{}})]})]},Yt.IdTreeComponent),ur==null?void 0:ur.map((rr,tr)=>{const Kt=bt==null?void 0:bt.find(hr=>hr.IdComponent===rr.IdComponent),Dt=tr===ur.length-1;return jsxRuntimeExports.jsxs("tr",{style:Dt?{borderBottom:"2px solid black"}:{},children:[jsxRuntimeExports.jsx("td",{style:{paddingLeft:"30px"},children:jsxRuntimeExports.jsx(CgMathMinus,{})}),jsxRuntimeExports.jsx("td",{style:{paddingLeft:"30px"},children:Kt==null?void 0:Kt.Name}),jsxRuntimeExports.jsx("td",{style:{paddingLeft:"60px"},children:rr.Quantity})]},`${Yt.IdTreeComponent}-${rr.IdTreeComponentDetail}`)})]})})})]})})}),jsxRuntimeExports.jsx("button",{onClick:Yt=>{c(!0)},style:{cursor:"pointer",position:"fixed",right:"20px",bottom:"90px",width:"50px",height:"50px",backgroundColor:"transparent",borderRadius:"50%",borderColor:"green"},name:"ComponentButton",children:jsxRuntimeExports.jsx(IoAdd,{color:"green",size:20})},"buttonComponent")]}),jsxRuntimeExports.jsx("div",{onClick:Yt=>{c(!1)},style:{width:"100vw",height:"100vh",backgroundColor:"rgb(0,0,0, 25%)",zIndex:"20",display:a?"flex":"none",position:"fixed",alignItems:"center",justifyContent:"center",top:"0px"},children:jsxRuntimeExports.jsx("div",{className:InventaryStyle.ContentFormInventary,style:{height:"700px"},onClick:Yt=>{Yt.stopPropagation()},children:jsxRuntimeExports.jsxs("form",{style:{display:"flex",flexDirection:"column",margin:"20px",gap:"20px"},onSubmit:Ht,children:[jsxRuntimeExports.jsx("button",{onClick:Yt=>{h!==null&&g(null),c(!1)},style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",right:"10px",top:"10px",zIndex:"300"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),jsxRuntimeExports.jsx("h2",{className:InventaryStyle.Title,children:"Crear Componente"}),jsxRuntimeExports.jsx("label",{htmlFor:"parent",style:{fontFamily:"Arial, sans-serif",fontSize:"18px",color:"#a8a8a8",fontWeight:"normal"},children:"Componente padre"}),jsxRuntimeExports.jsxs("select",{name:"parent",id:"parent",children:[jsxRuntimeExports.jsx("option",{value:"",selected:!0,children:"Seleccione el componente"}),bt==null?void 0:bt.map(Yt=>jsxRuntimeExports.jsx("option",{value:Yt.Name,children:Yt.Name}))]}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,isRequired:!0,id:"Quantity",readOnly:!1,title:"Cantidad del componente padre",type:"number",value:h?h.Quantity:_.Quantity,onChangeInputValue:Tt}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{height:"300px",overflowY:"auto",marginRight:"10px"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{style:{color:"#B4B4B4"},children:"Componentes individuales"}),jsxRuntimeExports.jsxs("table",{className:"table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Componente"})]})}),jsxRuntimeExports.jsx("tbody",{children:bt==null?void 0:bt.map(Yt=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{onClick:()=>pr(Yt.Name),children:Ar(Yt)?jsxRuntimeExports.jsx(MdCheckBox,{}):jsxRuntimeExports.jsx(MdOutlineCheckBoxOutlineBlank,{})}),jsxRuntimeExports.jsx("td",{children:Yt.Name})]},Yt.IdComponent))})]})]})}),jsxRuntimeExports.jsx("div",{style:{height:"300px",overflowY:"auto",marginLeft:"80px"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{style:{color:"#B4B4B4"},children:"Componentes agregados"}),jsxRuntimeExports.jsxs("table",{className:"table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Componentes"}),jsxRuntimeExports.jsx("th",{children:"Cantidad"})]})}),jsxRuntimeExports.jsx("tbody",{children:rt==null?void 0:rt.map(Yt=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{paddingRight:"20px"},children:Yt.Name}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{type:"number",value:"1",min:"1",style:{width:"50px"},onChange:dr})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx(MdDelete,{style:{color:"red"},onClick:()=>pr(Yt)})})]},Yt.IdComponent))})]})]})})]}),jsxRuntimeExports.jsx(Button,{title:h!==null?"Actualizar":"Crear Árbol de componente",onSubmit:()=>{}})]})})})]})},divStyle={display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover",height:"200px"};let decision=null;const Inventory=()=>{const e=reactExports.useContext(InventoryContext),{Collections:o,Groups:s,productServices:a,useCollection:c,useGroup:h,useProduct:g,Products:_,Components:et,useComponent:rt,componentServices:it,TreesComponent:ot,useTreeComponent:st,treeComponentServices:ct}=e,[dt,Tt]=reactExports.useState([]),Et=69,mt=(Pt,ur)=>{console.log(Pt.file,ur),Tt(Pt)},[gt,xt]=reactExports.useState(""),[bt,It]=reactExports.useState(!1),[Ut,Ft]=reactExports.useState(!1),[Bt,cr]=reactExports.useState(new Product("cero","",new Date,1,"A",1,"Hogar",!1,[],1,[])),[Ht,pr]=reactExports.useState(new Component$1("","",1)),Ar=Pt=>{cr({...Bt,[Pt.currentTarget.name]:Pt.currentTarget.name=="Date"?new Date(Pt.currentTarget.value):Pt.currentTarget.value})},Rr=Pt=>{pr({...Ht,[Pt.currentTarget.name]:Pt.currentTarget.name=="Date"?new Date(Pt.currentTarget.value):Pt.currentTarget.value})},dr=async Pt=>{Pt.preventDefault();let ur=[];dt.map(rr=>{ur.push(rr.file)});const Lt=await a.UploadImages(ur);Bt.Images=Lt;try{const rr=await a.Create(Bt);return Bt.IdProduct=rr,g([..._,Bt]),Ft(!1),An.success("Producto creado exitosamente")}catch{return An.error("Error, intente más tarde")}},Yt=async Pt=>{Pt.preventDefault();const ur=await it.Create(Ht);return Ht.IdComponent=ur,An.success("Componente creado")};return reactExports.useEffect(()=>{_==null&&a.Read().then(Pt=>{g(Pt)}),s==null&&a.ReadCollection().then(Pt=>{c(Pt)}),o==null&&a.ReadGroups().then(Pt=>{h(Pt)})},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[gt!=""?Menu$1(gt,xt):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("main",{className:`${ContentPageCSS.main} ${InventaryStyle.InventaryMain}`,style:{overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[jsxRuntimeExports.jsx("h2",{className:ContentPageCSS.titlePage,children:"Inventario"}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[jsxRuntimeExports.jsx("h5",{style:{color:"grey"},children:"Toca cualquier producto"}),jsxRuntimeExports.jsx(CgTapDouble,{size:20})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("ul",{style:{fontSize:"11px",display:bt?"flex":"none",flexDirection:"column",gap:"5px",transition:"all",transitionDuration:"0.3s",paddingBottom:"5px"},children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{style:{outline:"none",background:"none",border:"none"},onClick:Pt=>{xt("Components")},children:[jsxRuntimeExports.jsx(IoIosAdd,{size:10}),"Agregar Componentes"]})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{style:{outline:"none",background:"none",border:"none"},onClick:Pt=>{xt("Groups")},children:[jsxRuntimeExports.jsx(IoIosAdd,{size:10}),"Agregar Grupos"]})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{style:{outline:"none",background:"none",border:"none"},onClick:Pt=>{xt("Collections")},children:[jsxRuntimeExports.jsx(IoIosAdd,{size:10}),"Agregar Categoría"]})}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{style:{outline:"none",background:"none",border:"none"},onClick:Pt=>{xt("TreeComponent")},children:[jsxRuntimeExports.jsx(IoIosAdd,{size:10}),"Agregar Árbol de componente"]})})]}),jsxRuntimeExports.jsx("button",{onClick:Pt=>{It(ur=>!ur)},style:{border:"none",backgroundColor:"transparent",cursor:"pointer",display:"flex",gap:"10px",alignItems:"center",color:"rgb(180, 120, 208)"},children:jsxRuntimeExports.jsx(VscKebabVertical,{size:30,color:"black"})})]})]}),jsxRuntimeExports.jsx("section",{style:{overflowX:"auto",width:"100%",display:"block"},children:_==null?jsxRuntimeExports.jsx("div",{}):_.length==0?jsxRuntimeExports.jsxs("div",{onClick:Pt=>{decision="Product",Ft(!0)},style:{cursor:"pointer",display:"flex",marginTop:"20px",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"20px"},children:[jsxRuntimeExports.jsx(VscEmptyWindow,{size:100,color:"grey"}),jsxRuntimeExports.jsx("h3",{children:"No hay productos por el momento 🥲"})]}):jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:InventaryStyle.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"#"}),jsxRuntimeExports.jsx("th",{children:"Imagen"}),jsxRuntimeExports.jsx("th",{children:"Nombre"}),jsxRuntimeExports.jsx("th",{children:"Grupo"}),jsxRuntimeExports.jsx("th",{children:"Categoría"}),jsxRuntimeExports.jsx("th",{children:"Precio"}),jsxRuntimeExports.jsx("th",{children:"Cantidad"})]})}),jsxRuntimeExports.jsx("tbody",{children:_.map(Pt=>jsxRuntimeExports.jsx(ProductRow,{product:Pt},Pt.IdProduct+44))})]})})})]}),jsxRuntimeExports.jsx("div",{onClick:Pt=>{Ft(!1),Tt([])},style:{width:"100vw",height:"100vh",backgroundColor:"rgb(0,0,0, 25%)",zIndex:"20",display:Ut?"flex":"none",position:"fixed",alignItems:"center",justifyContent:"center",top:"0px"},children:decision==="Product"?jsxRuntimeExports.jsxs("div",{className:InventaryStyle.ContentFormInventary,onClick:Pt=>{Pt.stopPropagation()},children:[jsxRuntimeExports.jsx("button",{onClick:Pt=>{Ft(!1),Tt([])},style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",right:"10px",top:"10px",zIndex:"300"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),jsxRuntimeExports.jsxs("form",{className:InventaryStyle.Form,onSubmit:dr,children:[jsxRuntimeExports.jsx("h2",{className:InventaryStyle.Title,children:"Crear producto"}),jsxRuntimeExports.jsx("div",{className:InventaryStyle.AddImage,style:{justifyContent:(dt.length==0,"center"),display:dt.length==0?"flex":"block"},children:jsxRuntimeExports.jsx(_default,{multiple:!0,value:dt,onChange:mt,maxNumber:Et,dataURLKey:"data_url",children:({imageList:Pt,onImageUpload:ur,onImageRemoveAll:Lt,onImageUpdate:rr,onImageRemove:tr,isDragging:Kt,dragProps:Dt})=>jsxRuntimeExports.jsxs("div",{children:[Pt.length===0&&jsxRuntimeExports.jsxs("button",{style:{backgroundColor:"transparent",outline:"none",border:"none",alignContent:"center",cursor:"pointer"},onClick:ur,...Dt,type:"button",children:[jsxRuntimeExports.jsx(RiImageAddLine,{size:100,color:"grey"}),jsxRuntimeExports.jsx("h4",{style:{color:"grey"},children:"Agregar imagenes"})]}),Pt.length!==0&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[jsxRuntimeExports.jsx(Slide,{children:Pt.map((hr,ar)=>jsxRuntimeExports.jsx("div",{style:{...divStyle},onDoubleClick:()=>tr(ar),children:jsxRuntimeExports.jsx("img",{src:hr.data_url,alt:"",width:"100"})},ar))}),jsxRuntimeExports.jsxs("button",{...Dt,onClick:ur,style:{backgroundColor:"transparent",outline:"none",border:"none",alignContent:"center",cursor:"pointer",display:"flex",gap:"10px",justifyContent:"center",alignItems:"center"},children:[jsxRuntimeExports.jsx(RiImageAddLine,{size:20,color:"grey"}),jsxRuntimeExports.jsx("h4",{style:{color:"grey"},children:"Agregar imagenes"})]})]})]})})}),jsxRuntimeExports.jsxs("div",{className:InventaryStyle.Detail,children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!0,isRequired:!0,id:"ProductName",readOnly:!1,title:"Nombre del producto",type:"text",value:Bt.ProductName,onChangeInputValue:Ar}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,isRequired:!0,id:"Quantity",readOnly:!1,title:"Cantidad",type:"number",value:Bt.Quantity.toString(),onChangeInputValue:Ar}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,isRequired:!0,id:"Price",readOnly:!1,title:"Precio de venta",type:"number",value:Bt.Price.toString(),onChangeInputValue:Ar}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,isRequired:!0,id:"Cost",readOnly:!1,title:"Costo",type:"number",value:Bt.Cost.toString(),onChangeInputValue:Ar})]}),jsxRuntimeExports.jsxs("div",{className:InventaryStyle.MoreDetail,children:[jsxRuntimeExports.jsx(TextField,{isRequired:!0,id:"Date",readOnly:!1,title:"Fecha de creación",autoFocus:!1,onChangeInputValue:Ar,type:"date",value:Bt.Date.getFullYear().toString()+"-"+(Bt.Date.getMonth()<10?"0"+Bt.Date.getMonth().toString():Bt.Date.getMonth())+"-"+(Bt.Date.getDate()<10?"0"+Bt.Date.getDate().toString():Bt.Date.getDate())}),o!=null&&jsxRuntimeExports.jsxs("label",{htmlFor:"Collection",style:{display:"flex",flexDirection:"column",color:"grey",gap:"10px"},children:["Categoría",jsxRuntimeExports.jsx("select",{className:InventaryStyle.SelectCollection,name:"Collection",id:"Collection",defaultValue:Bt.Collection,onChange:Pt=>{cr({...Bt,Collection:Pt.currentTarget.value})},children:o.map(Pt=>jsxRuntimeExports.jsx("option",{value:Pt.CollectionName,children:Pt.CollectionName},Pt.CollectionName+2))},"Collection")]}),s!=null&&jsxRuntimeExports.jsxs("label",{htmlFor:"Group",style:{display:"flex",flexDirection:"column",color:"grey",gap:"10px"},children:["Grupos",jsxRuntimeExports.jsx("select",{style:{width:"100px"},className:InventaryStyle.SelectGroup,name:"Group",id:"Group",defaultValue:Bt.Group,onChange:Pt=>{console.log(Pt.currentTarget.value),cr({...Bt,Group:Pt.currentTarget.value})},children:s.map(Pt=>jsxRuntimeExports.jsx("option",{value:Pt.GroupName,children:Pt.GroupName},Pt.GroupName+22))})]})]}),jsxRuntimeExports.jsx("div",{className:InventaryStyle.ButtonContainer,children:jsxRuntimeExports.jsx(Button,{title:"Crear Producto",onSubmit:()=>{}})})]})]}):jsxRuntimeExports.jsxs("div",{className:InventaryStyle.ContentFormInventary,style:{width:"400px"},onClick:Pt=>{Pt.stopPropagation()},children:[jsxRuntimeExports.jsx("button",{onClick:Pt=>{Ft(!1)},style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",right:"10px",top:"10px",zIndex:"300"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),jsxRuntimeExports.jsxs("form",{className:InventaryStyle.Form,style:{display:"flex",flexDirection:"column"},onSubmit:Yt,children:[jsxRuntimeExports.jsx("h2",{className:InventaryStyle.Title,children:"Crear componente"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,isRequired:!0,id:"Name",readOnly:!1,title:"Nombre del componente",type:"text",value:Ht.Name.toString(),onChangeInputValue:Rr}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,isRequired:!0,id:"Quantity",readOnly:!1,title:"Cantidad",type:"number",value:Ht.Quantity.toString(),onChangeInputValue:Rr}),jsxRuntimeExports.jsx(Button,{title:"Crear componente",onSubmit:()=>{}})]})]})})]}),gt===""&&jsxRuntimeExports.jsx("button",{onClick:Pt=>{decision="Product",Ft(!0)},style:{cursor:"pointer",position:"fixed",right:"20px",bottom:"90px",width:"50px",height:"50px",backgroundColor:"transparent",borderRadius:"50%",borderColor:"green"},children:jsxRuntimeExports.jsx(IoAdd,{color:"green",size:20})})]})};function Menu$1(e,o){if(e==="Collections")return jsxRuntimeExports.jsx(CollectionPage,{onSubmit:o});if(e==="Groups")return jsxRuntimeExports.jsx(GroupPage,{onSubmit:o});if(e==="Components")return jsxRuntimeExports.jsx(ComponentPage,{onSubmit:o});if(e==="TreeComponent")return jsxRuntimeExports.jsx(TreeComponentPage,{onSubmit:o})}const article="_article_osbpm_1",latex="_latex_osbpm_25",title$1="_title_osbpm_35",description="_description_osbpm_41",CalculadorCardCSS={article,latex,title:title$1,description};var reactKatex={exports:{}},katex={exports:{}},hasRequiredKatex;function requireKatex(){return hasRequiredKatex||(hasRequiredKatex=1,function(e,o){(function(a,c){e.exports=c()})(typeof self<"u"?self:commonjsGlobal$1,function(){return function(){var s={};(function(){s.d=function(j,$){for(var tt in $)s.o($,tt)&&!s.o(j,tt)&&Object.defineProperty(j,tt,{enumerable:!0,get:$[tt]})}})(),function(){s.o=function(j,$){return Object.prototype.hasOwnProperty.call(j,$)}}();var a={};s.d(a,{default:function(){return D0}});class c{constructor($,tt){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let nt="KaTeX parse error: "+$,at,ht;const ft=tt&&tt.loc;if(ft&&ft.start<=ft.end){const Ct=ft.lexer.input;at=ft.start,ht=ft.end,at===Ct.length?nt+=" at end of input: ":nt+=" at position "+(at+1)+": ";const kt=Ct.slice(at,ht).replace(/[^]/g,"$&̲");let Ot;at>15?Ot="…"+Ct.slice(at-15,at):Ot=Ct.slice(0,at);let zt;ht+15<Ct.length?zt=Ct.slice(ht,ht+15)+"…":zt=Ct.slice(ht),nt+=Ot+kt+zt}const _t=new Error(nt);return _t.name="ParseError",_t.__proto__=c.prototype,_t.position=at,at!=null&&ht!=null&&(_t.length=ht-at),_t.rawMessage=$,_t}}c.prototype.__proto__=Error.prototype;var h=c;const g=function(j,$){return j.indexOf($)!==-1},_=function(j,$){return j===void 0?$:j},et=/([A-Z])/g,rt=function(j){return j.replace(et,"-$1").toLowerCase()},it={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ot=/[&><"']/g;function st(j){return String(j).replace(ot,$=>it[$])}const ct=function(j){return j.type==="ordgroup"||j.type==="color"?j.body.length===1?ct(j.body[0]):j:j.type==="font"?ct(j.body):j},dt=function(j){const $=ct(j);return $.type==="mathord"||$.type==="textord"||$.type==="atom"},Tt=function(j){if(!j)throw new Error("Expected non-null, but got "+String(j));return j};var mt={contains:g,deflt:_,escape:st,hyphenate:rt,getBaseElem:ct,isCharacterBox:dt,protocolFromUrl:function(j){const $=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(j);return $?$[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test($[1])?null:$[1].toLowerCase():"_relative"}};const gt={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:j=>"#"+j},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(j,$)=>($.push(j),$)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:j=>Math.max(0,j),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:j=>Math.max(0,j),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:j=>Math.max(0,j),cli:"-e, --max-expand <n>",cliProcessor:j=>j==="Infinity"?1/0:parseInt(j)},globalGroup:{type:"boolean",cli:!1}};function xt(j){if(j.default)return j.default;const $=j.type,tt=Array.isArray($)?$[0]:$;if(typeof tt!="string")return tt.enum[0];switch(tt){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class bt{constructor($){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,$=$||{};for(const tt in gt)if(gt.hasOwnProperty(tt)){const nt=gt[tt];this[tt]=$[tt]!==void 0?nt.processor?nt.processor($[tt]):$[tt]:xt(nt)}}reportNonstrict($,tt,nt){let at=this.strict;if(typeof at=="function"&&(at=at($,tt,nt)),!(!at||at==="ignore")){if(at===!0||at==="error")throw new h("LaTeX-incompatible input and strict mode is set to 'error': "+(tt+" ["+$+"]"),nt);at==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(tt+" ["+$+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+at+"': "+tt+" ["+$+"]"))}}useStrictBehavior($,tt,nt){let at=this.strict;if(typeof at=="function")try{at=at($,tt,nt)}catch{at="error"}return!at||at==="ignore"?!1:at===!0||at==="error"?!0:at==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(tt+" ["+$+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+at+"': "+tt+" ["+$+"]")),!1)}isTrusted($){if($.url&&!$.protocol){const nt=mt.protocolFromUrl($.url);if(nt==null)return!1;$.protocol=nt}return!!(typeof this.trust=="function"?this.trust($):this.trust)}}class It{constructor($,tt,nt){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=$,this.size=tt,this.cramped=nt}sup(){return dr[Yt[this.id]]}sub(){return dr[Pt[this.id]]}fracNum(){return dr[ur[this.id]]}fracDen(){return dr[Lt[this.id]]}cramp(){return dr[rr[this.id]]}text(){return dr[tr[this.id]]}isTight(){return this.size>=2}}const Ut=0,Ft=1,Bt=2,cr=3,Ht=4,pr=5,Ar=6,Rr=7,dr=[new It(Ut,0,!1),new It(Ft,0,!0),new It(Bt,1,!1),new It(cr,1,!0),new It(Ht,2,!1),new It(pr,2,!0),new It(Ar,3,!1),new It(Rr,3,!0)],Yt=[Ht,pr,Ht,pr,Ar,Rr,Ar,Rr],Pt=[pr,pr,pr,pr,Rr,Rr,Rr,Rr],ur=[Bt,cr,Ht,pr,Ar,Rr,Ar,Rr],Lt=[cr,cr,pr,pr,Rr,Rr,Rr,Rr],rr=[Ft,Ft,cr,cr,pr,pr,Rr,Rr],tr=[Ut,Ft,Bt,cr,Bt,cr,Bt,cr];var Kt={DISPLAY:dr[Ut],TEXT:dr[Bt],SCRIPT:dr[Ht],SCRIPTSCRIPT:dr[Ar]};const Dt=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function hr(j){for(let $=0;$<Dt.length;$++){const tt=Dt[$];for(let nt=0;nt<tt.blocks.length;nt++){const at=tt.blocks[nt];if(j>=at[0]&&j<=at[1])return tt.name}}return null}const ar=[];Dt.forEach(j=>j.blocks.forEach($=>ar.push(...$)));function Tr(j){for(let $=0;$<ar.length;$+=2)if(j>=ar[$]&&j<=ar[$+1])return!0;return!1}const yr=80,Mt=function(j,$){return"M95,"+(622+j+$)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+j/2.075+" -"+j+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+j)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+j)+" "+$+"h400000v"+(40+j)+"h-400000z"},sr=function(j,$){return"M263,"+(601+j+$)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+j/2.084+" -"+j+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+j)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+j)+" "+$+"h400000v"+(40+j)+"h-400000z"},xr=function(j,$){return"M983 "+(10+j+$)+`
l`+j/3.13+" -"+j+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+j)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+j)+" "+$+"h400000v"+(40+j)+"h-400000z"},ir=function(j,$){return"M424,"+(2398+j+$)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+j/4.223+" -"+j+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+j)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+j)+" "+$+`
h400000v`+(40+j)+"h-400000z"},nr=function(j,$){return"M473,"+(2713+j+$)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+j/5.298+" -"+j+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+j)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+j)+" "+$+"h400000v"+(40+j)+"H1017.7z"},lr=function(j){const $=j/2;return"M400000 "+j+" H0 L"+$+" 0 l65 45 L145 "+(j-80)+" H400000z"},Cr=function(j,$,tt){const nt=tt-54-$-j;return"M702 "+(j+$)+"H400000"+(40+j)+`
H742v`+nt+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+$+"H400000v"+(40+j)+"H742z"},Pr=function(j,$,tt){$=1e3*$;let nt="";switch(j){case"sqrtMain":nt=Mt($,yr);break;case"sqrtSize1":nt=sr($,yr);break;case"sqrtSize2":nt=xr($,yr);break;case"sqrtSize3":nt=ir($,yr);break;case"sqrtSize4":nt=nr($,yr);break;case"sqrtTall":nt=Cr($,yr,tt)}return nt},$r=function(j,$){switch(j){case"⎜":return"M291 0 H417 V"+$+" H291z M291 0 H417 V"+$+" H291z";case"∣":return"M145 0 H188 V"+$+" H145z M145 0 H188 V"+$+" H145z";case"∥":return"M145 0 H188 V"+$+" H145z M145 0 H188 V"+$+" H145z"+("M367 0 H410 V"+$+" H367z M367 0 H410 V"+$+" H367z");case"⎟":return"M457 0 H583 V"+$+" H457z M457 0 H583 V"+$+" H457z";case"⎢":return"M319 0 H403 V"+$+" H319z M319 0 H403 V"+$+" H319z";case"⎥":return"M263 0 H347 V"+$+" H263z M263 0 H347 V"+$+" H263z";case"⎪":return"M384 0 H504 V"+$+" H384z M384 0 H504 V"+$+" H384z";case"⏐":return"M312 0 H355 V"+$+" H312z M312 0 H355 V"+$+" H312z";case"‖":return"M257 0 H300 V"+$+" H257z M257 0 H300 V"+$+" H257z"+("M478 0 H521 V"+$+" H478z M478 0 H521 V"+$+" H478z");default:return""}},Mr={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Qn=function(j,$){switch(j){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+$+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+$+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+$+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+$+" v1759 h84z";case"vert":return"M145 15 v585 v"+$+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-$+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+$+" v585 h43z";case"doublevert":return"M145 15 v585 v"+$+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-$+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+$+` v585 h43z
M367 15 v585 v`+$+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-$+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+$+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+$+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+$+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+$+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+$+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+$+` v602 h84z
M403 1759 V0 H319 V1759 v`+$+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+$+` v602 h84z
M347 1759 V0 h-84 V1759 v`+$+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+($+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+($+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+($+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+($+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class eo{constructor($){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=$,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass($){return mt.contains(this.classes,$)}toNode(){const $=document.createDocumentFragment();for(let tt=0;tt<this.children.length;tt++)$.appendChild(this.children[tt].toNode());return $}toMarkup(){let $="";for(let tt=0;tt<this.children.length;tt++)$+=this.children[tt].toMarkup();return $}toText(){const $=tt=>tt.toText();return this.children.map($).join("")}}var On={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const ao={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Yn={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function io(j,$){On[j]=$}function Vn(j,$,tt){if(!On[$])throw new Error("Font metrics not found for font: "+$+".");let nt=j.charCodeAt(0),at=On[$][nt];if(!at&&j[0]in Yn&&(nt=Yn[j[0]].charCodeAt(0),at=On[$][nt]),!at&&tt==="text"&&Tr(nt)&&(at=On[$][77]),at)return{depth:at[0],height:at[1],italic:at[2],skew:at[3],width:at[4]}}const Kn={};function to(j){let $;if(j>=5?$=0:j>=3?$=1:$=2,!Kn[$]){const tt=Kn[$]={cssEmPerMu:ao.quad[$]/18};for(const nt in ao)ao.hasOwnProperty(nt)&&(tt[nt]=ao[nt][$])}return Kn[$]}const wo=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],So=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],mo=function(j,$){return $.size<2?j:wo[j-1][$.size-1]};class Xn{constructor($){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=$.style,this.color=$.color,this.size=$.size||Xn.BASESIZE,this.textSize=$.textSize||this.size,this.phantom=!!$.phantom,this.font=$.font||"",this.fontFamily=$.fontFamily||"",this.fontWeight=$.fontWeight||"",this.fontShape=$.fontShape||"",this.sizeMultiplier=So[this.size-1],this.maxSize=$.maxSize,this.minRuleThickness=$.minRuleThickness,this._fontMetrics=void 0}extend($){const tt={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const nt in $)$.hasOwnProperty(nt)&&(tt[nt]=$[nt]);return new Xn(tt)}havingStyle($){return this.style===$?this:this.extend({style:$,size:mo(this.textSize,$)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize($){return this.size===$&&this.textSize===$?this:this.extend({style:this.style.text(),size:$,textSize:$,sizeMultiplier:So[$-1]})}havingBaseStyle($){$=$||this.style.text();const tt=mo(Xn.BASESIZE,$);return this.size===tt&&this.textSize===Xn.BASESIZE&&this.style===$?this:this.extend({style:$,size:tt})}havingBaseSizing(){let $;switch(this.style.id){case 4:case 5:$=3;break;case 6:case 7:$=1;break;default:$=6}return this.extend({style:this.style.text(),size:$})}withColor($){return this.extend({color:$})}withPhantom(){return this.extend({phantom:!0})}withFont($){return this.extend({font:$})}withTextFontFamily($){return this.extend({fontFamily:$,font:""})}withTextFontWeight($){return this.extend({fontWeight:$,font:""})}withTextFontShape($){return this.extend({fontShape:$,font:""})}sizingClasses($){return $.size!==this.size?["sizing","reset-size"+$.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Xn.BASESIZE?["sizing","reset-size"+this.size,"size"+Xn.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=to(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Xn.BASESIZE=6;var To=Xn;const oo={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},kn={ex:!0,em:!0,mu:!0},qn=function(j){return typeof j!="string"&&(j=j.unit),j in oo||j in kn||j==="ex"},jr=function(j,$){let tt;if(j.unit in oo)tt=oo[j.unit]/$.fontMetrics().ptPerEm/$.sizeMultiplier;else if(j.unit==="mu")tt=$.fontMetrics().cssEmPerMu;else{let nt;if($.style.isTight()?nt=$.havingStyle($.style.text()):nt=$,j.unit==="ex")tt=nt.fontMetrics().xHeight;else if(j.unit==="em")tt=nt.fontMetrics().quad;else throw new h("Invalid unit: '"+j.unit+"'");nt!==$&&(tt*=nt.sizeMultiplier/$.sizeMultiplier)}return Math.min(j.number*tt,$.maxSize)},or=function(j){return+j.toFixed(4)+"em"},Fr=function(j){return j.filter($=>$).join(" ")},Hr=function(j,$,tt){if(this.classes=j||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=tt||{},$){$.style.isTight()&&this.classes.push("mtight");const nt=$.getColor();nt&&(this.style.color=nt)}},Hn=function(j){const $=document.createElement(j);$.className=Fr(this.classes);for(const tt in this.style)this.style.hasOwnProperty(tt)&&($.style[tt]=this.style[tt]);for(const tt in this.attributes)this.attributes.hasOwnProperty(tt)&&$.setAttribute(tt,this.attributes[tt]);for(let tt=0;tt<this.children.length;tt++)$.appendChild(this.children[tt].toNode());return $},so=function(j){let $="<"+j;this.classes.length&&($+=' class="'+mt.escape(Fr(this.classes))+'"');let tt="";for(const nt in this.style)this.style.hasOwnProperty(nt)&&(tt+=mt.hyphenate(nt)+":"+this.style[nt]+";");tt&&($+=' style="'+mt.escape(tt)+'"');for(const nt in this.attributes)this.attributes.hasOwnProperty(nt)&&($+=" "+nt+'="'+mt.escape(this.attributes[nt])+'"');$+=">";for(let nt=0;nt<this.children.length;nt++)$+=this.children[nt].toMarkup();return $+="</"+j+">",$};class Wr{constructor($,tt,nt,at){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Hr.call(this,$,nt,at),this.children=tt||[]}setAttribute($,tt){this.attributes[$]=tt}hasClass($){return mt.contains(this.classes,$)}toNode(){return Hn.call(this,"span")}toMarkup(){return so.call(this,"span")}}class Gr{constructor($,tt,nt,at){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Hr.call(this,tt,at),this.children=nt||[],this.setAttribute("href",$)}setAttribute($,tt){this.attributes[$]=tt}hasClass($){return mt.contains(this.classes,$)}toNode(){return Hn.call(this,"a")}toMarkup(){return so.call(this,"a")}}class Ro{constructor($,tt,nt){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=tt,this.src=$,this.classes=["mord"],this.style=nt}hasClass($){return mt.contains(this.classes,$)}toNode(){const $=document.createElement("img");$.src=this.src,$.alt=this.alt,$.className="mord";for(const tt in this.style)this.style.hasOwnProperty(tt)&&($.style[tt]=this.style[tt]);return $}toMarkup(){let $='<img src="'+mt.escape(this.src)+'"'+(' alt="'+mt.escape(this.alt)+'"'),tt="";for(const nt in this.style)this.style.hasOwnProperty(nt)&&(tt+=mt.hyphenate(nt)+":"+this.style[nt]+";");return tt&&($+=' style="'+mt.escape(tt)+'"'),$+="'/>",$}}const Bo={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class ro{constructor($,tt,nt,at,ht,ft,_t,Ct){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=$,this.height=tt||0,this.depth=nt||0,this.italic=at||0,this.skew=ht||0,this.width=ft||0,this.classes=_t||[],this.style=Ct||{},this.maxFontSize=0;const kt=hr(this.text.charCodeAt(0));kt&&this.classes.push(kt+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Bo[this.text])}hasClass($){return mt.contains(this.classes,$)}toNode(){const $=document.createTextNode(this.text);let tt=null;this.italic>0&&(tt=document.createElement("span"),tt.style.marginRight=or(this.italic)),this.classes.length>0&&(tt=tt||document.createElement("span"),tt.className=Fr(this.classes));for(const nt in this.style)this.style.hasOwnProperty(nt)&&(tt=tt||document.createElement("span"),tt.style[nt]=this.style[nt]);return tt?(tt.appendChild($),tt):$}toMarkup(){let $=!1,tt="<span";this.classes.length&&($=!0,tt+=' class="',tt+=mt.escape(Fr(this.classes)),tt+='"');let nt="";this.italic>0&&(nt+="margin-right:"+this.italic+"em;");for(const ht in this.style)this.style.hasOwnProperty(ht)&&(nt+=mt.hyphenate(ht)+":"+this.style[ht]+";");nt&&($=!0,tt+=' style="'+mt.escape(nt)+'"');const at=mt.escape(this.text);return $?(tt+=">",tt+=at,tt+="</span>",tt):at}}class lo{constructor($,tt){this.children=void 0,this.attributes=void 0,this.children=$||[],this.attributes=tt||{}}toNode(){const tt=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const nt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,nt)&&tt.setAttribute(nt,this.attributes[nt]);for(let nt=0;nt<this.children.length;nt++)tt.appendChild(this.children[nt].toNode());return tt}toMarkup(){let $='<svg xmlns="http://www.w3.org/2000/svg"';for(const tt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,tt)&&($+=" "+tt+'="'+mt.escape(this.attributes[tt])+'"');$+=">";for(let tt=0;tt<this.children.length;tt++)$+=this.children[tt].toMarkup();return $+="</svg>",$}}class co{constructor($,tt){this.pathName=void 0,this.alternate=void 0,this.pathName=$,this.alternate=tt}toNode(){const tt=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?tt.setAttribute("d",this.alternate):tt.setAttribute("d",Mr[this.pathName]),tt}toMarkup(){return this.alternate?'<path d="'+mt.escape(this.alternate)+'"/>':'<path d="'+mt.escape(Mr[this.pathName])+'"/>'}}class No{constructor($){this.attributes=void 0,this.attributes=$||{}}toNode(){const tt=document.createElementNS("http://www.w3.org/2000/svg","line");for(const nt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,nt)&&tt.setAttribute(nt,this.attributes[nt]);return tt}toMarkup(){let $="<line";for(const tt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,tt)&&($+=" "+tt+'="'+mt.escape(this.attributes[tt])+'"');return $+="/>",$}}function jo(j){if(j instanceof ro)return j;throw new Error("Expected symbolNode but got "+String(j)+".")}function Ho(j){if(j instanceof Wr)return j;throw new Error("Expected span<HtmlDomNode> but got "+String(j)+".")}const Wo={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Eo={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ao={math:{},text:{}};var Lr=Ao;function lt(j,$,tt,nt,at,ht){Ao[j][at]={font:$,group:tt,replace:nt},ht&&nt&&(Ao[j][nt]=Ao[j][at])}const ut="math",fr="text",pt="main",St="ams",Or="accent-token",br="bin",Wn="close",Co="inner",wt="mathord",vr="op-token",Wt="open",At="punct",yt="rel",_r="spacing",Rt="textord";lt(ut,pt,yt,"≡","\\equiv",!0),lt(ut,pt,yt,"≺","\\prec",!0),lt(ut,pt,yt,"≻","\\succ",!0),lt(ut,pt,yt,"∼","\\sim",!0),lt(ut,pt,yt,"⊥","\\perp"),lt(ut,pt,yt,"⪯","\\preceq",!0),lt(ut,pt,yt,"⪰","\\succeq",!0),lt(ut,pt,yt,"≃","\\simeq",!0),lt(ut,pt,yt,"∣","\\mid",!0),lt(ut,pt,yt,"≪","\\ll",!0),lt(ut,pt,yt,"≫","\\gg",!0),lt(ut,pt,yt,"≍","\\asymp",!0),lt(ut,pt,yt,"∥","\\parallel"),lt(ut,pt,yt,"⋈","\\bowtie",!0),lt(ut,pt,yt,"⌣","\\smile",!0),lt(ut,pt,yt,"⊑","\\sqsubseteq",!0),lt(ut,pt,yt,"⊒","\\sqsupseteq",!0),lt(ut,pt,yt,"≐","\\doteq",!0),lt(ut,pt,yt,"⌢","\\frown",!0),lt(ut,pt,yt,"∋","\\ni",!0),lt(ut,pt,yt,"∝","\\propto",!0),lt(ut,pt,yt,"⊢","\\vdash",!0),lt(ut,pt,yt,"⊣","\\dashv",!0),lt(ut,pt,yt,"∋","\\owns"),lt(ut,pt,At,".","\\ldotp"),lt(ut,pt,At,"⋅","\\cdotp"),lt(ut,pt,Rt,"#","\\#"),lt(fr,pt,Rt,"#","\\#"),lt(ut,pt,Rt,"&","\\&"),lt(fr,pt,Rt,"&","\\&"),lt(ut,pt,Rt,"ℵ","\\aleph",!0),lt(ut,pt,Rt,"∀","\\forall",!0),lt(ut,pt,Rt,"ℏ","\\hbar",!0),lt(ut,pt,Rt,"∃","\\exists",!0),lt(ut,pt,Rt,"∇","\\nabla",!0),lt(ut,pt,Rt,"♭","\\flat",!0),lt(ut,pt,Rt,"ℓ","\\ell",!0),lt(ut,pt,Rt,"♮","\\natural",!0),lt(ut,pt,Rt,"♣","\\clubsuit",!0),lt(ut,pt,Rt,"℘","\\wp",!0),lt(ut,pt,Rt,"♯","\\sharp",!0),lt(ut,pt,Rt,"♢","\\diamondsuit",!0),lt(ut,pt,Rt,"ℜ","\\Re",!0),lt(ut,pt,Rt,"♡","\\heartsuit",!0),lt(ut,pt,Rt,"ℑ","\\Im",!0),lt(ut,pt,Rt,"♠","\\spadesuit",!0),lt(ut,pt,Rt,"§","\\S",!0),lt(fr,pt,Rt,"§","\\S"),lt(ut,pt,Rt,"¶","\\P",!0),lt(fr,pt,Rt,"¶","\\P"),lt(ut,pt,Rt,"†","\\dag"),lt(fr,pt,Rt,"†","\\dag"),lt(fr,pt,Rt,"†","\\textdagger"),lt(ut,pt,Rt,"‡","\\ddag"),lt(fr,pt,Rt,"‡","\\ddag"),lt(fr,pt,Rt,"‡","\\textdaggerdbl"),lt(ut,pt,Wn,"⎱","\\rmoustache",!0),lt(ut,pt,Wt,"⎰","\\lmoustache",!0),lt(ut,pt,Wn,"⟯","\\rgroup",!0),lt(ut,pt,Wt,"⟮","\\lgroup",!0),lt(ut,pt,br,"∓","\\mp",!0),lt(ut,pt,br,"⊖","\\ominus",!0),lt(ut,pt,br,"⊎","\\uplus",!0),lt(ut,pt,br,"⊓","\\sqcap",!0),lt(ut,pt,br,"∗","\\ast"),lt(ut,pt,br,"⊔","\\sqcup",!0),lt(ut,pt,br,"◯","\\bigcirc",!0),lt(ut,pt,br,"∙","\\bullet",!0),lt(ut,pt,br,"‡","\\ddagger"),lt(ut,pt,br,"≀","\\wr",!0),lt(ut,pt,br,"⨿","\\amalg"),lt(ut,pt,br,"&","\\And"),lt(ut,pt,yt,"⟵","\\longleftarrow",!0),lt(ut,pt,yt,"⇐","\\Leftarrow",!0),lt(ut,pt,yt,"⟸","\\Longleftarrow",!0),lt(ut,pt,yt,"⟶","\\longrightarrow",!0),lt(ut,pt,yt,"⇒","\\Rightarrow",!0),lt(ut,pt,yt,"⟹","\\Longrightarrow",!0),lt(ut,pt,yt,"↔","\\leftrightarrow",!0),lt(ut,pt,yt,"⟷","\\longleftrightarrow",!0),lt(ut,pt,yt,"⇔","\\Leftrightarrow",!0),lt(ut,pt,yt,"⟺","\\Longleftrightarrow",!0),lt(ut,pt,yt,"↦","\\mapsto",!0),lt(ut,pt,yt,"⟼","\\longmapsto",!0),lt(ut,pt,yt,"↗","\\nearrow",!0),lt(ut,pt,yt,"↩","\\hookleftarrow",!0),lt(ut,pt,yt,"↪","\\hookrightarrow",!0),lt(ut,pt,yt,"↘","\\searrow",!0),lt(ut,pt,yt,"↼","\\leftharpoonup",!0),lt(ut,pt,yt,"⇀","\\rightharpoonup",!0),lt(ut,pt,yt,"↙","\\swarrow",!0),lt(ut,pt,yt,"↽","\\leftharpoondown",!0),lt(ut,pt,yt,"⇁","\\rightharpoondown",!0),lt(ut,pt,yt,"↖","\\nwarrow",!0),lt(ut,pt,yt,"⇌","\\rightleftharpoons",!0),lt(ut,St,yt,"≮","\\nless",!0),lt(ut,St,yt,"","\\@nleqslant"),lt(ut,St,yt,"","\\@nleqq"),lt(ut,St,yt,"⪇","\\lneq",!0),lt(ut,St,yt,"≨","\\lneqq",!0),lt(ut,St,yt,"","\\@lvertneqq"),lt(ut,St,yt,"⋦","\\lnsim",!0),lt(ut,St,yt,"⪉","\\lnapprox",!0),lt(ut,St,yt,"⊀","\\nprec",!0),lt(ut,St,yt,"⋠","\\npreceq",!0),lt(ut,St,yt,"⋨","\\precnsim",!0),lt(ut,St,yt,"⪹","\\precnapprox",!0),lt(ut,St,yt,"≁","\\nsim",!0),lt(ut,St,yt,"","\\@nshortmid"),lt(ut,St,yt,"∤","\\nmid",!0),lt(ut,St,yt,"⊬","\\nvdash",!0),lt(ut,St,yt,"⊭","\\nvDash",!0),lt(ut,St,yt,"⋪","\\ntriangleleft"),lt(ut,St,yt,"⋬","\\ntrianglelefteq",!0),lt(ut,St,yt,"⊊","\\subsetneq",!0),lt(ut,St,yt,"","\\@varsubsetneq"),lt(ut,St,yt,"⫋","\\subsetneqq",!0),lt(ut,St,yt,"","\\@varsubsetneqq"),lt(ut,St,yt,"≯","\\ngtr",!0),lt(ut,St,yt,"","\\@ngeqslant"),lt(ut,St,yt,"","\\@ngeqq"),lt(ut,St,yt,"⪈","\\gneq",!0),lt(ut,St,yt,"≩","\\gneqq",!0),lt(ut,St,yt,"","\\@gvertneqq"),lt(ut,St,yt,"⋧","\\gnsim",!0),lt(ut,St,yt,"⪊","\\gnapprox",!0),lt(ut,St,yt,"⊁","\\nsucc",!0),lt(ut,St,yt,"⋡","\\nsucceq",!0),lt(ut,St,yt,"⋩","\\succnsim",!0),lt(ut,St,yt,"⪺","\\succnapprox",!0),lt(ut,St,yt,"≆","\\ncong",!0),lt(ut,St,yt,"","\\@nshortparallel"),lt(ut,St,yt,"∦","\\nparallel",!0),lt(ut,St,yt,"⊯","\\nVDash",!0),lt(ut,St,yt,"⋫","\\ntriangleright"),lt(ut,St,yt,"⋭","\\ntrianglerighteq",!0),lt(ut,St,yt,"","\\@nsupseteqq"),lt(ut,St,yt,"⊋","\\supsetneq",!0),lt(ut,St,yt,"","\\@varsupsetneq"),lt(ut,St,yt,"⫌","\\supsetneqq",!0),lt(ut,St,yt,"","\\@varsupsetneqq"),lt(ut,St,yt,"⊮","\\nVdash",!0),lt(ut,St,yt,"⪵","\\precneqq",!0),lt(ut,St,yt,"⪶","\\succneqq",!0),lt(ut,St,yt,"","\\@nsubseteqq"),lt(ut,St,br,"⊴","\\unlhd"),lt(ut,St,br,"⊵","\\unrhd"),lt(ut,St,yt,"↚","\\nleftarrow",!0),lt(ut,St,yt,"↛","\\nrightarrow",!0),lt(ut,St,yt,"⇍","\\nLeftarrow",!0),lt(ut,St,yt,"⇏","\\nRightarrow",!0),lt(ut,St,yt,"↮","\\nleftrightarrow",!0),lt(ut,St,yt,"⇎","\\nLeftrightarrow",!0),lt(ut,St,yt,"△","\\vartriangle"),lt(ut,St,Rt,"ℏ","\\hslash"),lt(ut,St,Rt,"▽","\\triangledown"),lt(ut,St,Rt,"◊","\\lozenge"),lt(ut,St,Rt,"Ⓢ","\\circledS"),lt(ut,St,Rt,"®","\\circledR"),lt(fr,St,Rt,"®","\\circledR"),lt(ut,St,Rt,"∡","\\measuredangle",!0),lt(ut,St,Rt,"∄","\\nexists"),lt(ut,St,Rt,"℧","\\mho"),lt(ut,St,Rt,"Ⅎ","\\Finv",!0),lt(ut,St,Rt,"⅁","\\Game",!0),lt(ut,St,Rt,"‵","\\backprime"),lt(ut,St,Rt,"▲","\\blacktriangle"),lt(ut,St,Rt,"▼","\\blacktriangledown"),lt(ut,St,Rt,"■","\\blacksquare"),lt(ut,St,Rt,"⧫","\\blacklozenge"),lt(ut,St,Rt,"★","\\bigstar"),lt(ut,St,Rt,"∢","\\sphericalangle",!0),lt(ut,St,Rt,"∁","\\complement",!0),lt(ut,St,Rt,"ð","\\eth",!0),lt(fr,pt,Rt,"ð","ð"),lt(ut,St,Rt,"╱","\\diagup"),lt(ut,St,Rt,"╲","\\diagdown"),lt(ut,St,Rt,"□","\\square"),lt(ut,St,Rt,"□","\\Box"),lt(ut,St,Rt,"◊","\\Diamond"),lt(ut,St,Rt,"¥","\\yen",!0),lt(fr,St,Rt,"¥","\\yen",!0),lt(ut,St,Rt,"✓","\\checkmark",!0),lt(fr,St,Rt,"✓","\\checkmark"),lt(ut,St,Rt,"ℶ","\\beth",!0),lt(ut,St,Rt,"ℸ","\\daleth",!0),lt(ut,St,Rt,"ℷ","\\gimel",!0),lt(ut,St,Rt,"ϝ","\\digamma",!0),lt(ut,St,Rt,"ϰ","\\varkappa"),lt(ut,St,Wt,"┌","\\@ulcorner",!0),lt(ut,St,Wn,"┐","\\@urcorner",!0),lt(ut,St,Wt,"└","\\@llcorner",!0),lt(ut,St,Wn,"┘","\\@lrcorner",!0),lt(ut,St,yt,"≦","\\leqq",!0),lt(ut,St,yt,"⩽","\\leqslant",!0),lt(ut,St,yt,"⪕","\\eqslantless",!0),lt(ut,St,yt,"≲","\\lesssim",!0),lt(ut,St,yt,"⪅","\\lessapprox",!0),lt(ut,St,yt,"≊","\\approxeq",!0),lt(ut,St,br,"⋖","\\lessdot"),lt(ut,St,yt,"⋘","\\lll",!0),lt(ut,St,yt,"≶","\\lessgtr",!0),lt(ut,St,yt,"⋚","\\lesseqgtr",!0),lt(ut,St,yt,"⪋","\\lesseqqgtr",!0),lt(ut,St,yt,"≑","\\doteqdot"),lt(ut,St,yt,"≓","\\risingdotseq",!0),lt(ut,St,yt,"≒","\\fallingdotseq",!0),lt(ut,St,yt,"∽","\\backsim",!0),lt(ut,St,yt,"⋍","\\backsimeq",!0),lt(ut,St,yt,"⫅","\\subseteqq",!0),lt(ut,St,yt,"⋐","\\Subset",!0),lt(ut,St,yt,"⊏","\\sqsubset",!0),lt(ut,St,yt,"≼","\\preccurlyeq",!0),lt(ut,St,yt,"⋞","\\curlyeqprec",!0),lt(ut,St,yt,"≾","\\precsim",!0),lt(ut,St,yt,"⪷","\\precapprox",!0),lt(ut,St,yt,"⊲","\\vartriangleleft"),lt(ut,St,yt,"⊴","\\trianglelefteq"),lt(ut,St,yt,"⊨","\\vDash",!0),lt(ut,St,yt,"⊪","\\Vvdash",!0),lt(ut,St,yt,"⌣","\\smallsmile"),lt(ut,St,yt,"⌢","\\smallfrown"),lt(ut,St,yt,"≏","\\bumpeq",!0),lt(ut,St,yt,"≎","\\Bumpeq",!0),lt(ut,St,yt,"≧","\\geqq",!0),lt(ut,St,yt,"⩾","\\geqslant",!0),lt(ut,St,yt,"⪖","\\eqslantgtr",!0),lt(ut,St,yt,"≳","\\gtrsim",!0),lt(ut,St,yt,"⪆","\\gtrapprox",!0),lt(ut,St,br,"⋗","\\gtrdot"),lt(ut,St,yt,"⋙","\\ggg",!0),lt(ut,St,yt,"≷","\\gtrless",!0),lt(ut,St,yt,"⋛","\\gtreqless",!0),lt(ut,St,yt,"⪌","\\gtreqqless",!0),lt(ut,St,yt,"≖","\\eqcirc",!0),lt(ut,St,yt,"≗","\\circeq",!0),lt(ut,St,yt,"≜","\\triangleq",!0),lt(ut,St,yt,"∼","\\thicksim"),lt(ut,St,yt,"≈","\\thickapprox"),lt(ut,St,yt,"⫆","\\supseteqq",!0),lt(ut,St,yt,"⋑","\\Supset",!0),lt(ut,St,yt,"⊐","\\sqsupset",!0),lt(ut,St,yt,"≽","\\succcurlyeq",!0),lt(ut,St,yt,"⋟","\\curlyeqsucc",!0),lt(ut,St,yt,"≿","\\succsim",!0),lt(ut,St,yt,"⪸","\\succapprox",!0),lt(ut,St,yt,"⊳","\\vartriangleright"),lt(ut,St,yt,"⊵","\\trianglerighteq"),lt(ut,St,yt,"⊩","\\Vdash",!0),lt(ut,St,yt,"∣","\\shortmid"),lt(ut,St,yt,"∥","\\shortparallel"),lt(ut,St,yt,"≬","\\between",!0),lt(ut,St,yt,"⋔","\\pitchfork",!0),lt(ut,St,yt,"∝","\\varpropto"),lt(ut,St,yt,"◀","\\blacktriangleleft"),lt(ut,St,yt,"∴","\\therefore",!0),lt(ut,St,yt,"∍","\\backepsilon"),lt(ut,St,yt,"▶","\\blacktriangleright"),lt(ut,St,yt,"∵","\\because",!0),lt(ut,St,yt,"⋘","\\llless"),lt(ut,St,yt,"⋙","\\gggtr"),lt(ut,St,br,"⊲","\\lhd"),lt(ut,St,br,"⊳","\\rhd"),lt(ut,St,yt,"≂","\\eqsim",!0),lt(ut,pt,yt,"⋈","\\Join"),lt(ut,St,yt,"≑","\\Doteq",!0),lt(ut,St,br,"∔","\\dotplus",!0),lt(ut,St,br,"∖","\\smallsetminus"),lt(ut,St,br,"⋒","\\Cap",!0),lt(ut,St,br,"⋓","\\Cup",!0),lt(ut,St,br,"⩞","\\doublebarwedge",!0),lt(ut,St,br,"⊟","\\boxminus",!0),lt(ut,St,br,"⊞","\\boxplus",!0),lt(ut,St,br,"⋇","\\divideontimes",!0),lt(ut,St,br,"⋉","\\ltimes",!0),lt(ut,St,br,"⋊","\\rtimes",!0),lt(ut,St,br,"⋋","\\leftthreetimes",!0),lt(ut,St,br,"⋌","\\rightthreetimes",!0),lt(ut,St,br,"⋏","\\curlywedge",!0),lt(ut,St,br,"⋎","\\curlyvee",!0),lt(ut,St,br,"⊝","\\circleddash",!0),lt(ut,St,br,"⊛","\\circledast",!0),lt(ut,St,br,"⋅","\\centerdot"),lt(ut,St,br,"⊺","\\intercal",!0),lt(ut,St,br,"⋒","\\doublecap"),lt(ut,St,br,"⋓","\\doublecup"),lt(ut,St,br,"⊠","\\boxtimes",!0),lt(ut,St,yt,"⇢","\\dashrightarrow",!0),lt(ut,St,yt,"⇠","\\dashleftarrow",!0),lt(ut,St,yt,"⇇","\\leftleftarrows",!0),lt(ut,St,yt,"⇆","\\leftrightarrows",!0),lt(ut,St,yt,"⇚","\\Lleftarrow",!0),lt(ut,St,yt,"↞","\\twoheadleftarrow",!0),lt(ut,St,yt,"↢","\\leftarrowtail",!0),lt(ut,St,yt,"↫","\\looparrowleft",!0),lt(ut,St,yt,"⇋","\\leftrightharpoons",!0),lt(ut,St,yt,"↶","\\curvearrowleft",!0),lt(ut,St,yt,"↺","\\circlearrowleft",!0),lt(ut,St,yt,"↰","\\Lsh",!0),lt(ut,St,yt,"⇈","\\upuparrows",!0),lt(ut,St,yt,"↿","\\upharpoonleft",!0),lt(ut,St,yt,"⇃","\\downharpoonleft",!0),lt(ut,pt,yt,"⊶","\\origof",!0),lt(ut,pt,yt,"⊷","\\imageof",!0),lt(ut,St,yt,"⊸","\\multimap",!0),lt(ut,St,yt,"↭","\\leftrightsquigarrow",!0),lt(ut,St,yt,"⇉","\\rightrightarrows",!0),lt(ut,St,yt,"⇄","\\rightleftarrows",!0),lt(ut,St,yt,"↠","\\twoheadrightarrow",!0),lt(ut,St,yt,"↣","\\rightarrowtail",!0),lt(ut,St,yt,"↬","\\looparrowright",!0),lt(ut,St,yt,"↷","\\curvearrowright",!0),lt(ut,St,yt,"↻","\\circlearrowright",!0),lt(ut,St,yt,"↱","\\Rsh",!0),lt(ut,St,yt,"⇊","\\downdownarrows",!0),lt(ut,St,yt,"↾","\\upharpoonright",!0),lt(ut,St,yt,"⇂","\\downharpoonright",!0),lt(ut,St,yt,"⇝","\\rightsquigarrow",!0),lt(ut,St,yt,"⇝","\\leadsto"),lt(ut,St,yt,"⇛","\\Rrightarrow",!0),lt(ut,St,yt,"↾","\\restriction"),lt(ut,pt,Rt,"‘","`"),lt(ut,pt,Rt,"$","\\$"),lt(fr,pt,Rt,"$","\\$"),lt(fr,pt,Rt,"$","\\textdollar"),lt(ut,pt,Rt,"%","\\%"),lt(fr,pt,Rt,"%","\\%"),lt(ut,pt,Rt,"_","\\_"),lt(fr,pt,Rt,"_","\\_"),lt(fr,pt,Rt,"_","\\textunderscore"),lt(ut,pt,Rt,"∠","\\angle",!0),lt(ut,pt,Rt,"∞","\\infty",!0),lt(ut,pt,Rt,"′","\\prime"),lt(ut,pt,Rt,"△","\\triangle"),lt(ut,pt,Rt,"Γ","\\Gamma",!0),lt(ut,pt,Rt,"Δ","\\Delta",!0),lt(ut,pt,Rt,"Θ","\\Theta",!0),lt(ut,pt,Rt,"Λ","\\Lambda",!0),lt(ut,pt,Rt,"Ξ","\\Xi",!0),lt(ut,pt,Rt,"Π","\\Pi",!0),lt(ut,pt,Rt,"Σ","\\Sigma",!0),lt(ut,pt,Rt,"Υ","\\Upsilon",!0),lt(ut,pt,Rt,"Φ","\\Phi",!0),lt(ut,pt,Rt,"Ψ","\\Psi",!0),lt(ut,pt,Rt,"Ω","\\Omega",!0),lt(ut,pt,Rt,"A","Α"),lt(ut,pt,Rt,"B","Β"),lt(ut,pt,Rt,"E","Ε"),lt(ut,pt,Rt,"Z","Ζ"),lt(ut,pt,Rt,"H","Η"),lt(ut,pt,Rt,"I","Ι"),lt(ut,pt,Rt,"K","Κ"),lt(ut,pt,Rt,"M","Μ"),lt(ut,pt,Rt,"N","Ν"),lt(ut,pt,Rt,"O","Ο"),lt(ut,pt,Rt,"P","Ρ"),lt(ut,pt,Rt,"T","Τ"),lt(ut,pt,Rt,"X","Χ"),lt(ut,pt,Rt,"¬","\\neg",!0),lt(ut,pt,Rt,"¬","\\lnot"),lt(ut,pt,Rt,"⊤","\\top"),lt(ut,pt,Rt,"⊥","\\bot"),lt(ut,pt,Rt,"∅","\\emptyset"),lt(ut,St,Rt,"∅","\\varnothing"),lt(ut,pt,wt,"α","\\alpha",!0),lt(ut,pt,wt,"β","\\beta",!0),lt(ut,pt,wt,"γ","\\gamma",!0),lt(ut,pt,wt,"δ","\\delta",!0),lt(ut,pt,wt,"ϵ","\\epsilon",!0),lt(ut,pt,wt,"ζ","\\zeta",!0),lt(ut,pt,wt,"η","\\eta",!0),lt(ut,pt,wt,"θ","\\theta",!0),lt(ut,pt,wt,"ι","\\iota",!0),lt(ut,pt,wt,"κ","\\kappa",!0),lt(ut,pt,wt,"λ","\\lambda",!0),lt(ut,pt,wt,"μ","\\mu",!0),lt(ut,pt,wt,"ν","\\nu",!0),lt(ut,pt,wt,"ξ","\\xi",!0),lt(ut,pt,wt,"ο","\\omicron",!0),lt(ut,pt,wt,"π","\\pi",!0),lt(ut,pt,wt,"ρ","\\rho",!0),lt(ut,pt,wt,"σ","\\sigma",!0),lt(ut,pt,wt,"τ","\\tau",!0),lt(ut,pt,wt,"υ","\\upsilon",!0),lt(ut,pt,wt,"ϕ","\\phi",!0),lt(ut,pt,wt,"χ","\\chi",!0),lt(ut,pt,wt,"ψ","\\psi",!0),lt(ut,pt,wt,"ω","\\omega",!0),lt(ut,pt,wt,"ε","\\varepsilon",!0),lt(ut,pt,wt,"ϑ","\\vartheta",!0),lt(ut,pt,wt,"ϖ","\\varpi",!0),lt(ut,pt,wt,"ϱ","\\varrho",!0),lt(ut,pt,wt,"ς","\\varsigma",!0),lt(ut,pt,wt,"φ","\\varphi",!0),lt(ut,pt,br,"∗","*",!0),lt(ut,pt,br,"+","+"),lt(ut,pt,br,"−","-",!0),lt(ut,pt,br,"⋅","\\cdot",!0),lt(ut,pt,br,"∘","\\circ",!0),lt(ut,pt,br,"÷","\\div",!0),lt(ut,pt,br,"±","\\pm",!0),lt(ut,pt,br,"×","\\times",!0),lt(ut,pt,br,"∩","\\cap",!0),lt(ut,pt,br,"∪","\\cup",!0),lt(ut,pt,br,"∖","\\setminus",!0),lt(ut,pt,br,"∧","\\land"),lt(ut,pt,br,"∨","\\lor"),lt(ut,pt,br,"∧","\\wedge",!0),lt(ut,pt,br,"∨","\\vee",!0),lt(ut,pt,Rt,"√","\\surd"),lt(ut,pt,Wt,"⟨","\\langle",!0),lt(ut,pt,Wt,"∣","\\lvert"),lt(ut,pt,Wt,"∥","\\lVert"),lt(ut,pt,Wn,"?","?"),lt(ut,pt,Wn,"!","!"),lt(ut,pt,Wn,"⟩","\\rangle",!0),lt(ut,pt,Wn,"∣","\\rvert"),lt(ut,pt,Wn,"∥","\\rVert"),lt(ut,pt,yt,"=","="),lt(ut,pt,yt,":",":"),lt(ut,pt,yt,"≈","\\approx",!0),lt(ut,pt,yt,"≅","\\cong",!0),lt(ut,pt,yt,"≥","\\ge"),lt(ut,pt,yt,"≥","\\geq",!0),lt(ut,pt,yt,"←","\\gets"),lt(ut,pt,yt,">","\\gt",!0),lt(ut,pt,yt,"∈","\\in",!0),lt(ut,pt,yt,"","\\@not"),lt(ut,pt,yt,"⊂","\\subset",!0),lt(ut,pt,yt,"⊃","\\supset",!0),lt(ut,pt,yt,"⊆","\\subseteq",!0),lt(ut,pt,yt,"⊇","\\supseteq",!0),lt(ut,St,yt,"⊈","\\nsubseteq",!0),lt(ut,St,yt,"⊉","\\nsupseteq",!0),lt(ut,pt,yt,"⊨","\\models"),lt(ut,pt,yt,"←","\\leftarrow",!0),lt(ut,pt,yt,"≤","\\le"),lt(ut,pt,yt,"≤","\\leq",!0),lt(ut,pt,yt,"<","\\lt",!0),lt(ut,pt,yt,"→","\\rightarrow",!0),lt(ut,pt,yt,"→","\\to"),lt(ut,St,yt,"≱","\\ngeq",!0),lt(ut,St,yt,"≰","\\nleq",!0),lt(ut,pt,_r," ","\\ "),lt(ut,pt,_r," ","\\space"),lt(ut,pt,_r," ","\\nobreakspace"),lt(fr,pt,_r," ","\\ "),lt(fr,pt,_r," "," "),lt(fr,pt,_r," ","\\space"),lt(fr,pt,_r," ","\\nobreakspace"),lt(ut,pt,_r,null,"\\nobreak"),lt(ut,pt,_r,null,"\\allowbreak"),lt(ut,pt,At,",",","),lt(ut,pt,At,";",";"),lt(ut,St,br,"⊼","\\barwedge",!0),lt(ut,St,br,"⊻","\\veebar",!0),lt(ut,pt,br,"⊙","\\odot",!0),lt(ut,pt,br,"⊕","\\oplus",!0),lt(ut,pt,br,"⊗","\\otimes",!0),lt(ut,pt,Rt,"∂","\\partial",!0),lt(ut,pt,br,"⊘","\\oslash",!0),lt(ut,St,br,"⊚","\\circledcirc",!0),lt(ut,St,br,"⊡","\\boxdot",!0),lt(ut,pt,br,"△","\\bigtriangleup"),lt(ut,pt,br,"▽","\\bigtriangledown"),lt(ut,pt,br,"†","\\dagger"),lt(ut,pt,br,"⋄","\\diamond"),lt(ut,pt,br,"⋆","\\star"),lt(ut,pt,br,"◃","\\triangleleft"),lt(ut,pt,br,"▹","\\triangleright"),lt(ut,pt,Wt,"{","\\{"),lt(fr,pt,Rt,"{","\\{"),lt(fr,pt,Rt,"{","\\textbraceleft"),lt(ut,pt,Wn,"}","\\}"),lt(fr,pt,Rt,"}","\\}"),lt(fr,pt,Rt,"}","\\textbraceright"),lt(ut,pt,Wt,"{","\\lbrace"),lt(ut,pt,Wn,"}","\\rbrace"),lt(ut,pt,Wt,"[","\\lbrack",!0),lt(fr,pt,Rt,"[","\\lbrack",!0),lt(ut,pt,Wn,"]","\\rbrack",!0),lt(fr,pt,Rt,"]","\\rbrack",!0),lt(ut,pt,Wt,"(","\\lparen",!0),lt(ut,pt,Wn,")","\\rparen",!0),lt(fr,pt,Rt,"<","\\textless",!0),lt(fr,pt,Rt,">","\\textgreater",!0),lt(ut,pt,Wt,"⌊","\\lfloor",!0),lt(ut,pt,Wn,"⌋","\\rfloor",!0),lt(ut,pt,Wt,"⌈","\\lceil",!0),lt(ut,pt,Wn,"⌉","\\rceil",!0),lt(ut,pt,Rt,"\\","\\backslash"),lt(ut,pt,Rt,"∣","|"),lt(ut,pt,Rt,"∣","\\vert"),lt(fr,pt,Rt,"|","\\textbar",!0),lt(ut,pt,Rt,"∥","\\|"),lt(ut,pt,Rt,"∥","\\Vert"),lt(fr,pt,Rt,"∥","\\textbardbl"),lt(fr,pt,Rt,"~","\\textasciitilde"),lt(fr,pt,Rt,"\\","\\textbackslash"),lt(fr,pt,Rt,"^","\\textasciicircum"),lt(ut,pt,yt,"↑","\\uparrow",!0),lt(ut,pt,yt,"⇑","\\Uparrow",!0),lt(ut,pt,yt,"↓","\\downarrow",!0),lt(ut,pt,yt,"⇓","\\Downarrow",!0),lt(ut,pt,yt,"↕","\\updownarrow",!0),lt(ut,pt,yt,"⇕","\\Updownarrow",!0),lt(ut,pt,vr,"∐","\\coprod"),lt(ut,pt,vr,"⋁","\\bigvee"),lt(ut,pt,vr,"⋀","\\bigwedge"),lt(ut,pt,vr,"⨄","\\biguplus"),lt(ut,pt,vr,"⋂","\\bigcap"),lt(ut,pt,vr,"⋃","\\bigcup"),lt(ut,pt,vr,"∫","\\int"),lt(ut,pt,vr,"∫","\\intop"),lt(ut,pt,vr,"∬","\\iint"),lt(ut,pt,vr,"∭","\\iiint"),lt(ut,pt,vr,"∏","\\prod"),lt(ut,pt,vr,"∑","\\sum"),lt(ut,pt,vr,"⨂","\\bigotimes"),lt(ut,pt,vr,"⨁","\\bigoplus"),lt(ut,pt,vr,"⨀","\\bigodot"),lt(ut,pt,vr,"∮","\\oint"),lt(ut,pt,vr,"∯","\\oiint"),lt(ut,pt,vr,"∰","\\oiiint"),lt(ut,pt,vr,"⨆","\\bigsqcup"),lt(ut,pt,vr,"∫","\\smallint"),lt(fr,pt,Co,"…","\\textellipsis"),lt(ut,pt,Co,"…","\\mathellipsis"),lt(fr,pt,Co,"…","\\ldots",!0),lt(ut,pt,Co,"…","\\ldots",!0),lt(ut,pt,Co,"⋯","\\@cdots",!0),lt(ut,pt,Co,"⋱","\\ddots",!0),lt(ut,pt,Rt,"⋮","\\varvdots"),lt(ut,pt,Or,"ˊ","\\acute"),lt(ut,pt,Or,"ˋ","\\grave"),lt(ut,pt,Or,"¨","\\ddot"),lt(ut,pt,Or,"~","\\tilde"),lt(ut,pt,Or,"ˉ","\\bar"),lt(ut,pt,Or,"˘","\\breve"),lt(ut,pt,Or,"ˇ","\\check"),lt(ut,pt,Or,"^","\\hat"),lt(ut,pt,Or,"⃗","\\vec"),lt(ut,pt,Or,"˙","\\dot"),lt(ut,pt,Or,"˚","\\mathring"),lt(ut,pt,wt,"","\\@imath"),lt(ut,pt,wt,"","\\@jmath"),lt(ut,pt,Rt,"ı","ı"),lt(ut,pt,Rt,"ȷ","ȷ"),lt(fr,pt,Rt,"ı","\\i",!0),lt(fr,pt,Rt,"ȷ","\\j",!0),lt(fr,pt,Rt,"ß","\\ss",!0),lt(fr,pt,Rt,"æ","\\ae",!0),lt(fr,pt,Rt,"œ","\\oe",!0),lt(fr,pt,Rt,"ø","\\o",!0),lt(fr,pt,Rt,"Æ","\\AE",!0),lt(fr,pt,Rt,"Œ","\\OE",!0),lt(fr,pt,Rt,"Ø","\\O",!0),lt(fr,pt,Or,"ˊ","\\'"),lt(fr,pt,Or,"ˋ","\\`"),lt(fr,pt,Or,"ˆ","\\^"),lt(fr,pt,Or,"˜","\\~"),lt(fr,pt,Or,"ˉ","\\="),lt(fr,pt,Or,"˘","\\u"),lt(fr,pt,Or,"˙","\\."),lt(fr,pt,Or,"¸","\\c"),lt(fr,pt,Or,"˚","\\r"),lt(fr,pt,Or,"ˇ","\\v"),lt(fr,pt,Or,"¨",'\\"'),lt(fr,pt,Or,"˝","\\H"),lt(fr,pt,Or,"◯","\\textcircled");const Yr={"--":!0,"---":!0,"``":!0,"''":!0};lt(fr,pt,Rt,"–","--",!0),lt(fr,pt,Rt,"–","\\textendash"),lt(fr,pt,Rt,"—","---",!0),lt(fr,pt,Rt,"—","\\textemdash"),lt(fr,pt,Rt,"‘","`",!0),lt(fr,pt,Rt,"‘","\\textquoteleft"),lt(fr,pt,Rt,"’","'",!0),lt(fr,pt,Rt,"’","\\textquoteright"),lt(fr,pt,Rt,"“","``",!0),lt(fr,pt,Rt,"“","\\textquotedblleft"),lt(fr,pt,Rt,"”","''",!0),lt(fr,pt,Rt,"”","\\textquotedblright"),lt(ut,pt,Rt,"°","\\degree",!0),lt(fr,pt,Rt,"°","\\degree"),lt(fr,pt,Rt,"°","\\textdegree",!0),lt(ut,pt,Rt,"£","\\pounds"),lt(ut,pt,Rt,"£","\\mathsterling",!0),lt(fr,pt,Rt,"£","\\pounds"),lt(fr,pt,Rt,"£","\\textsterling",!0),lt(ut,St,Rt,"✠","\\maltese"),lt(fr,St,Rt,"✠","\\maltese");const Qr='0123456789/@."';for(let j=0;j<Qr.length;j++){const $=Qr.charAt(j);lt(ut,pt,Rt,$,$)}const qr='0123456789!@*()-=+";:?/.,';for(let j=0;j<qr.length;j++){const $=qr.charAt(j);lt(fr,pt,Rt,$,$)}const zn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let j=0;j<zn.length;j++){const $=zn.charAt(j);lt(ut,pt,wt,$,$),lt(fr,pt,Rt,$,$)}lt(ut,St,Rt,"C","ℂ"),lt(fr,St,Rt,"C","ℂ"),lt(ut,St,Rt,"H","ℍ"),lt(fr,St,Rt,"H","ℍ"),lt(ut,St,Rt,"N","ℕ"),lt(fr,St,Rt,"N","ℕ"),lt(ut,St,Rt,"P","ℙ"),lt(fr,St,Rt,"P","ℙ"),lt(ut,St,Rt,"Q","ℚ"),lt(fr,St,Rt,"Q","ℚ"),lt(ut,St,Rt,"R","ℝ"),lt(fr,St,Rt,"R","ℝ"),lt(ut,St,Rt,"Z","ℤ"),lt(fr,St,Rt,"Z","ℤ"),lt(ut,pt,wt,"h","ℎ"),lt(fr,pt,wt,"h","ℎ");let kr="";for(let j=0;j<zn.length;j++){const $=zn.charAt(j);kr=String.fromCharCode(55349,56320+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56372+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56424+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56580+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56684+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56736+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56788+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56840+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56944+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),j<26&&(kr=String.fromCharCode(55349,56632+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,56476+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr))}kr="𝕜",lt(ut,pt,wt,"k",kr),lt(fr,pt,Rt,"k",kr);for(let j=0;j<10;j++){const $=j.toString();kr=String.fromCharCode(55349,57294+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,57314+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,57324+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr),kr=String.fromCharCode(55349,57334+j),lt(ut,pt,wt,$,kr),lt(fr,pt,Rt,$,kr)}const no="ÐÞþ";for(let j=0;j<no.length;j++){const $=no.charAt(j);lt(ut,pt,wt,$,$),lt(fr,pt,Rt,$,$)}const zo=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Qo=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Au=function(j,$){const tt=j.charCodeAt(0),nt=j.charCodeAt(1),at=(tt-55296)*1024+(nt-56320)+65536,ht=$==="math"?0:1;if(119808<=at&&at<120484){const ft=Math.floor((at-119808)/26);return[zo[ft][2],zo[ft][ht]]}else if(120782<=at&&at<=120831){const ft=Math.floor((at-120782)/10);return[Qo[ft][2],Qo[ft][ht]]}else{if(at===120485||at===120486)return[zo[0][2],zo[0][ht]];if(120486<at&&at<120782)return["",""];throw new h("Unsupported character: "+j)}},ts=function(j,$,tt){return Lr[tt][j]&&Lr[tt][j].replace&&(j=Lr[tt][j].replace),{value:j,metrics:Vn(j,$,tt)}},bo=function(j,$,tt,nt,at){const ht=ts(j,$,tt),ft=ht.metrics;j=ht.value;let _t;if(ft){let Ct=ft.italic;(tt==="text"||nt&&nt.font==="mathit")&&(Ct=0),_t=new ro(j,ft.height,ft.depth,Ct,ft.skew,ft.width,at)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+j+"' in style '"+$+"' and mode '"+tt+"'")),_t=new ro(j,0,0,0,0,0,at);if(nt){_t.maxFontSize=nt.sizeMultiplier,nt.style.isTight()&&_t.classes.push("mtight");const Ct=nt.getColor();Ct&&(_t.style.color=Ct)}return _t},Iu=function(j,$,tt,nt){return nt===void 0&&(nt=[]),tt.font==="boldsymbol"&&ts(j,"Main-Bold",$).metrics?bo(j,"Main-Bold",$,tt,nt.concat(["mathbf"])):j==="\\"||Lr[$][j].font==="main"?bo(j,"Main-Regular",$,tt,nt):bo(j,"AMS-Regular",$,tt,nt.concat(["amsrm"]))},ku=function(j,$,tt,nt,at){return at!=="textord"&&ts(j,"Math-BoldItalic",$).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Pu=function(j,$,tt){const nt=j.mode,at=j.text,ht=["mord"],ft=nt==="math"||nt==="text"&&$.font,_t=ft?$.font:$.fontFamily;let Ct="",kt="";if(at.charCodeAt(0)===55349&&([Ct,kt]=Au(at,nt)),Ct.length>0)return bo(at,Ct,nt,$,ht.concat(kt));if(_t){let Ot,zt;if(_t==="boldsymbol"){const Gt=ku(at,nt,$,ht,tt);Ot=Gt.fontName,zt=[Gt.fontClass]}else ft?(Ot=Xs[_t].fontName,zt=[_t]):(Ot=rs(_t,$.fontWeight,$.fontShape),zt=[_t,$.fontWeight,$.fontShape]);if(ts(at,Ot,nt).metrics)return bo(at,Ot,nt,$,ht.concat(zt));if(Yr.hasOwnProperty(at)&&Ot.slice(0,10)==="Typewriter"){const Gt=[];for(let mr=0;mr<at.length;mr++)Gt.push(bo(at[mr],Ot,nt,$,ht.concat(zt)));return Ys(Gt)}}if(tt==="mathord")return bo(at,"Math-Italic",nt,$,ht.concat(["mathnormal"]));if(tt==="textord"){const Ot=Lr[nt][at]&&Lr[nt][at].font;if(Ot==="ams"){const zt=rs("amsrm",$.fontWeight,$.fontShape);return bo(at,zt,nt,$,ht.concat("amsrm",$.fontWeight,$.fontShape))}else if(Ot==="main"||!Ot){const zt=rs("textrm",$.fontWeight,$.fontShape);return bo(at,zt,nt,$,ht.concat($.fontWeight,$.fontShape))}else{const zt=rs(Ot,$.fontWeight,$.fontShape);return bo(at,zt,nt,$,ht.concat(zt,$.fontWeight,$.fontShape))}}else throw new Error("unexpected type: "+tt+" in makeOrd")},$u=(j,$)=>{if(Fr(j.classes)!==Fr($.classes)||j.skew!==$.skew||j.maxFontSize!==$.maxFontSize)return!1;if(j.classes.length===1){const tt=j.classes[0];if(tt==="mbin"||tt==="mord")return!1}for(const tt in j.style)if(j.style.hasOwnProperty(tt)&&j.style[tt]!==$.style[tt])return!1;for(const tt in $.style)if($.style.hasOwnProperty(tt)&&j.style[tt]!==$.style[tt])return!1;return!0},Du=j=>{for(let $=0;$<j.length-1;$++){const tt=j[$],nt=j[$+1];tt instanceof ro&&nt instanceof ro&&$u(tt,nt)&&(tt.text+=nt.text,tt.height=Math.max(tt.height,nt.height),tt.depth=Math.max(tt.depth,nt.depth),tt.italic=nt.italic,j.splice($+1,1),$--)}return j},_s=function(j){let $=0,tt=0,nt=0;for(let at=0;at<j.children.length;at++){const ht=j.children[at];ht.height>$&&($=ht.height),ht.depth>tt&&(tt=ht.depth),ht.maxFontSize>nt&&(nt=ht.maxFontSize)}j.height=$,j.depth=tt,j.maxFontSize=nt},ho=function(j,$,tt,nt){const at=new Wr(j,$,tt,nt);return _s(at),at},Qs=(j,$,tt,nt)=>new Wr(j,$,tt,nt),Mu=function(j,$,tt){const nt=ho([j],[],$);return nt.height=Math.max(tt||$.fontMetrics().defaultRuleThickness,$.minRuleThickness),nt.style.borderBottomWidth=or(nt.height),nt.maxFontSize=1,nt},Lu=function(j,$,tt,nt){const at=new Gr(j,$,tt,nt);return _s(at),at},Ys=function(j){const $=new eo(j);return _s($),$},Nu=function(j,$){return j instanceof eo?ho([],[j],$):j},ju=function(j){if(j.positionType==="individualShift"){const tt=j.children,nt=[tt[0]],at=-tt[0].shift-tt[0].elem.depth;let ht=at;for(let ft=1;ft<tt.length;ft++){const _t=-tt[ft].shift-ht-tt[ft].elem.depth,Ct=_t-(tt[ft-1].elem.height+tt[ft-1].elem.depth);ht=ht+_t,nt.push({type:"kern",size:Ct}),nt.push(tt[ft])}return{children:nt,depth:at}}let $;if(j.positionType==="top"){let tt=j.positionData;for(let nt=0;nt<j.children.length;nt++){const at=j.children[nt];tt-=at.type==="kern"?at.size:at.elem.height+at.elem.depth}$=tt}else if(j.positionType==="bottom")$=-j.positionData;else{const tt=j.children[0];if(tt.type!=="elem")throw new Error('First child must have type "elem".');if(j.positionType==="shift")$=-tt.elem.depth-j.positionData;else if(j.positionType==="firstBaseline")$=-tt.elem.depth;else throw new Error("Invalid positionType "+j.positionType+".")}return{children:j.children,depth:$}},Ou=function(j,$){const{children:tt,depth:nt}=ju(j);let at=0;for(let mr=0;mr<tt.length;mr++){const Sr=tt[mr];if(Sr.type==="elem"){const Ir=Sr.elem;at=Math.max(at,Ir.maxFontSize,Ir.height)}}at+=2;const ht=ho(["pstrut"],[]);ht.style.height=or(at);const ft=[];let _t=nt,Ct=nt,kt=nt;for(let mr=0;mr<tt.length;mr++){const Sr=tt[mr];if(Sr.type==="kern")kt+=Sr.size;else{const Ir=Sr.elem,Vr=Sr.wrapperClasses||[],Nr=Sr.wrapperStyle||{},Br=ho(Vr,[ht,Ir],void 0,Nr);Br.style.top=or(-at-kt-Ir.depth),Sr.marginLeft&&(Br.style.marginLeft=Sr.marginLeft),Sr.marginRight&&(Br.style.marginRight=Sr.marginRight),ft.push(Br),kt+=Ir.height+Ir.depth}_t=Math.min(_t,kt),Ct=Math.max(Ct,kt)}const Ot=ho(["vlist"],ft);Ot.style.height=or(Ct);let zt;if(_t<0){const mr=ho([],[]),Sr=ho(["vlist"],[mr]);Sr.style.height=or(-_t);const Ir=ho(["vlist-s"],[new ro("​")]);zt=[ho(["vlist-r"],[Ot,Ir]),ho(["vlist-r"],[Sr])]}else zt=[ho(["vlist-r"],[Ot])];const Gt=ho(["vlist-t"],zt);return zt.length===2&&Gt.classes.push("vlist-t2"),Gt.height=Ct,Gt.depth=-_t,Gt},Vu=(j,$)=>{const tt=ho(["mspace"],[],$),nt=jr(j,$);return tt.style.marginRight=or(nt),tt},rs=function(j,$,tt){let nt="";switch(j){case"amsrm":nt="AMS";break;case"textrm":nt="Main";break;case"textsf":nt="SansSerif";break;case"texttt":nt="Typewriter";break;default:nt=j}let at;return $==="textbf"&&tt==="textit"?at="BoldItalic":$==="textbf"?at="Bold":$==="textit"?at="Italic":at="Regular",nt+"-"+at},Xs={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Zs={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var qt={fontMap:Xs,makeSymbol:bo,mathsym:Iu,makeSpan:ho,makeSvgSpan:Qs,makeLineSpan:Mu,makeAnchor:Lu,makeFragment:Ys,wrapFragment:Nu,makeVList:Ou,makeOrd:Pu,makeGlue:Vu,staticSvg:function(j,$){const[tt,nt,at]=Zs[j],ht=new co(tt),ft=new lo([ht],{width:or(nt),height:or(at),style:"width:"+or(nt),viewBox:"0 0 "+1e3*nt+" "+1e3*at,preserveAspectRatio:"xMinYMin"}),_t=Qs(["overlay"],[ft],$);return _t.height=at,_t.style.height=or(at),_t.style.width=or(nt),_t},svgData:Zs,tryCombineChars:Du};const Fn={number:3,unit:"mu"},Uo={number:4,unit:"mu"},$o={number:5,unit:"mu"},Fu={mord:{mop:Fn,mbin:Uo,mrel:$o,minner:Fn},mop:{mord:Fn,mop:Fn,mrel:$o,minner:Fn},mbin:{mord:Uo,mop:Uo,mopen:Uo,minner:Uo},mrel:{mord:$o,mop:$o,mopen:$o,minner:$o},mopen:{},mclose:{mop:Fn,mbin:Uo,mrel:$o,minner:Fn},mpunct:{mord:Fn,mop:Fn,mrel:$o,mopen:Fn,mclose:Fn,mpunct:Fn,minner:Fn},minner:{mord:Fn,mop:Fn,mbin:Uo,mrel:$o,mopen:Fn,mpunct:Fn,minner:Fn}},Bu={mord:{mop:Fn},mop:{mord:Fn,mop:Fn},mbin:{},mrel:{},mopen:{},mclose:{mop:Fn},mpunct:{},minner:{mop:Fn}},Js={},ns={},is={};function wr(j){let{type:$,names:tt,props:nt,handler:at,htmlBuilder:ht,mathmlBuilder:ft}=j;const _t={type:$,numArgs:nt.numArgs,argTypes:nt.argTypes,allowedInArgument:!!nt.allowedInArgument,allowedInText:!!nt.allowedInText,allowedInMath:nt.allowedInMath===void 0?!0:nt.allowedInMath,numOptionalArgs:nt.numOptionalArgs||0,infix:!!nt.infix,primitive:!!nt.primitive,handler:at};for(let Ct=0;Ct<tt.length;++Ct)Js[tt[Ct]]=_t;$&&(ht&&(ns[$]=ht),ft&&(is[$]=ft))}function qo(j){let{type:$,htmlBuilder:tt,mathmlBuilder:nt}=j;wr({type:$,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:tt,mathmlBuilder:nt})}const os=function(j){return j.type==="ordgroup"&&j.body.length===1?j.body[0]:j},Gn=function(j){return j.type==="ordgroup"?j.body:[j]},Do=qt.makeSpan,zu=["leftmost","mbin","mopen","mrel","mop","mpunct"],Uu=["rightmost","mrel","mclose","mpunct"],qu={display:Kt.DISPLAY,text:Kt.TEXT,script:Kt.SCRIPT,scriptscript:Kt.SCRIPTSCRIPT},Hu={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Zn=function(j,$,tt,nt){nt===void 0&&(nt=[null,null]);const at=[];for(let kt=0;kt<j.length;kt++){const Ot=zr(j[kt],$);if(Ot instanceof eo){const zt=Ot.children;at.push(...zt)}else at.push(Ot)}if(qt.tryCombineChars(at),!tt)return at;let ht=$;if(j.length===1){const kt=j[0];kt.type==="sizing"?ht=$.havingSize(kt.size):kt.type==="styling"&&(ht=$.havingStyle(qu[kt.style]))}const ft=Do([nt[0]||"leftmost"],[],$),_t=Do([nt[1]||"rightmost"],[],$),Ct=tt==="root";return ys(at,(kt,Ot)=>{const zt=Ot.classes[0],Gt=kt.classes[0];zt==="mbin"&&mt.contains(Uu,Gt)?Ot.classes[0]="mord":Gt==="mbin"&&mt.contains(zu,zt)&&(kt.classes[0]="mord")},{node:ft},_t,Ct),ys(at,(kt,Ot)=>{const zt=vs(Ot),Gt=vs(kt),mr=zt&&Gt?kt.hasClass("mtight")?Bu[zt][Gt]:Fu[zt][Gt]:null;if(mr)return qt.makeGlue(mr,ht)},{node:ft},_t,Ct),at},ys=function(j,$,tt,nt,at){nt&&j.push(nt);let ht=0;for(;ht<j.length;ht++){const ft=j[ht],_t=ga(ft);if(_t){ys(_t.children,$,tt,null,at);continue}const Ct=!ft.hasClass("mspace");if(Ct){const kt=$(ft,tt.node);kt&&(tt.insertAfter?tt.insertAfter(kt):(j.unshift(kt),ht++))}Ct?tt.node=ft:at&&ft.hasClass("newline")&&(tt.node=Do(["leftmost"])),tt.insertAfter=(kt=>Ot=>{j.splice(kt+1,0,Ot),ht++})(ht)}nt&&j.pop()},ga=function(j){return j instanceof eo||j instanceof Gr||j instanceof Wr&&j.hasClass("enclosing")?j:null},xs=function(j,$){const tt=ga(j);if(tt){const nt=tt.children;if(nt.length){if($==="right")return xs(nt[nt.length-1],"right");if($==="left")return xs(nt[0],"left")}}return j},vs=function(j,$){return j?($&&(j=xs(j,$)),Hu[j.classes[0]]||null):null},Yo=function(j,$){const tt=["nulldelimiter"].concat(j.baseSizingClasses());return Do($.concat(tt))},zr=function(j,$,tt){if(!j)return Do();if(ns[j.type]){let nt=ns[j.type](j,$);if(tt&&$.size!==tt.size){nt=Do($.sizingClasses(tt),[nt],$);const at=$.sizeMultiplier/tt.sizeMultiplier;nt.height*=at,nt.depth*=at}return nt}else throw new h("Got group of unknown type: '"+j.type+"'")};function ss(j,$){const tt=Do(["base"],j,$),nt=Do(["strut"]);return nt.style.height=or(tt.height+tt.depth),tt.depth&&(nt.style.verticalAlign=or(-tt.depth)),tt.children.unshift(nt),tt}function Ts(j,$){let tt=null;j.length===1&&j[0].type==="tag"&&(tt=j[0].tag,j=j[0].body);const nt=Zn(j,$,"root");let at;nt.length===2&&nt[1].hasClass("tag")&&(at=nt.pop());const ht=[];let ft=[];for(let kt=0;kt<nt.length;kt++)if(ft.push(nt[kt]),nt[kt].hasClass("mbin")||nt[kt].hasClass("mrel")||nt[kt].hasClass("allowbreak")){let Ot=!1;for(;kt<nt.length-1&&nt[kt+1].hasClass("mspace")&&!nt[kt+1].hasClass("newline");)kt++,ft.push(nt[kt]),nt[kt].hasClass("nobreak")&&(Ot=!0);Ot||(ht.push(ss(ft,$)),ft=[])}else nt[kt].hasClass("newline")&&(ft.pop(),ft.length>0&&(ht.push(ss(ft,$)),ft=[]),ht.push(nt[kt]));ft.length>0&&ht.push(ss(ft,$));let _t;tt?(_t=ss(Zn(tt,$,!0)),_t.classes=["tag"],ht.push(_t)):at&&ht.push(at);const Ct=Do(["katex-html"],ht);if(Ct.setAttribute("aria-hidden","true"),_t){const kt=_t.children[0];kt.style.height=or(Ct.height+Ct.depth),Ct.depth&&(kt.style.verticalAlign=or(-Ct.depth))}return Ct}function _a(j){return new eo(j)}class go{constructor($,tt,nt){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=$,this.attributes={},this.children=tt||[],this.classes=nt||[]}setAttribute($,tt){this.attributes[$]=tt}getAttribute($){return this.attributes[$]}toNode(){const $=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const tt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,tt)&&$.setAttribute(tt,this.attributes[tt]);this.classes.length>0&&($.className=Fr(this.classes));for(let tt=0;tt<this.children.length;tt++)$.appendChild(this.children[tt].toNode());return $}toMarkup(){let $="<"+this.type;for(const tt in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,tt)&&($+=" "+tt+'="',$+=mt.escape(this.attributes[tt]),$+='"');this.classes.length>0&&($+=' class ="'+mt.escape(Fr(this.classes))+'"'),$+=">";for(let tt=0;tt<this.children.length;tt++)$+=this.children[tt].toMarkup();return $+="</"+this.type+">",$}toText(){return this.children.map($=>$.toText()).join("")}}class Xo{constructor($){this.text=void 0,this.text=$}toNode(){return document.createTextNode(this.text)}toMarkup(){return mt.escape(this.toText())}toText(){return this.text}}class Wu{constructor($){this.width=void 0,this.character=void 0,this.width=$,$>=.05555&&$<=.05556?this.character=" ":$>=.1666&&$<=.1667?this.character=" ":$>=.2222&&$<=.2223?this.character=" ":$>=.2777&&$<=.2778?this.character="  ":$>=-.05556&&$<=-.05555?this.character=" ⁣":$>=-.1667&&$<=-.1666?this.character=" ⁣":$>=-.2223&&$<=-.2222?this.character=" ⁣":$>=-.2778&&$<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const $=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return $.setAttribute("width",or(this.width)),$}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+or(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var gr={MathNode:go,TextNode:Xo,SpaceNode:Wu,newDocumentFragment:_a};const _o=function(j,$,tt){return Lr[$][j]&&Lr[$][j].replace&&j.charCodeAt(0)!==55349&&!(Yr.hasOwnProperty(j)&&tt&&(tt.fontFamily&&tt.fontFamily.slice(4,6)==="tt"||tt.font&&tt.font.slice(4,6)==="tt"))&&(j=Lr[$][j].replace),new gr.TextNode(j)},Es=function(j){return j.length===1?j[0]:new gr.MathNode("mrow",j)},Cs=function(j,$){if($.fontFamily==="texttt")return"monospace";if($.fontFamily==="textsf")return $.fontShape==="textit"&&$.fontWeight==="textbf"?"sans-serif-bold-italic":$.fontShape==="textit"?"sans-serif-italic":$.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if($.fontShape==="textit"&&$.fontWeight==="textbf")return"bold-italic";if($.fontShape==="textit")return"italic";if($.fontWeight==="textbf")return"bold";const tt=$.font;if(!tt||tt==="mathnormal")return null;const nt=j.mode;if(tt==="mathit")return"italic";if(tt==="boldsymbol")return j.type==="textord"?"bold":"bold-italic";if(tt==="mathbf")return"bold";if(tt==="mathbb")return"double-struck";if(tt==="mathfrak")return"fraktur";if(tt==="mathscr"||tt==="mathcal")return"script";if(tt==="mathsf")return"sans-serif";if(tt==="mathtt")return"monospace";let at=j.text;if(mt.contains(["\\imath","\\jmath"],at))return null;Lr[nt][at]&&Lr[nt][at].replace&&(at=Lr[nt][at].replace);const ht=qt.fontMap[tt].fontName;return Vn(at,ht,nt)?qt.fontMap[tt].variant:null},fo=function(j,$,tt){if(j.length===1){const ht=Zr(j[0],$);return tt&&ht instanceof go&&ht.type==="mo"&&(ht.setAttribute("lspace","0em"),ht.setAttribute("rspace","0em")),[ht]}const nt=[];let at;for(let ht=0;ht<j.length;ht++){const ft=Zr(j[ht],$);if(ft instanceof go&&at instanceof go){if(ft.type==="mtext"&&at.type==="mtext"&&ft.getAttribute("mathvariant")===at.getAttribute("mathvariant")){at.children.push(...ft.children);continue}else if(ft.type==="mn"&&at.type==="mn"){at.children.push(...ft.children);continue}else if(ft.type==="mi"&&ft.children.length===1&&at.type==="mn"){const _t=ft.children[0];if(_t instanceof Xo&&_t.text==="."){at.children.push(...ft.children);continue}}else if(at.type==="mi"&&at.children.length===1){const _t=at.children[0];if(_t instanceof Xo&&_t.text==="̸"&&(ft.type==="mo"||ft.type==="mi"||ft.type==="mn")){const Ct=ft.children[0];Ct instanceof Xo&&Ct.text.length>0&&(Ct.text=Ct.text.slice(0,1)+"̸"+Ct.text.slice(1),nt.pop())}}}nt.push(ft),at=ft}return nt},Oo=function(j,$,tt){return Es(fo(j,$,tt))},Zr=function(j,$){if(!j)return new gr.MathNode("mrow");if(is[j.type])return is[j.type](j,$);throw new h("Got group of unknown type: '"+j.type+"'")};function _l(j,$,tt,nt,at){const ht=fo(j,tt);let ft;ht.length===1&&ht[0]instanceof go&&mt.contains(["mrow","mtable"],ht[0].type)?ft=ht[0]:ft=new gr.MathNode("mrow",ht);const _t=new gr.MathNode("annotation",[new gr.TextNode($)]);_t.setAttribute("encoding","application/x-tex");const Ct=new gr.MathNode("semantics",[ft,_t]),kt=new gr.MathNode("math",[Ct]);kt.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),nt&&kt.setAttribute("display","block");const Ot=at?"katex":"katex-mathml";return qt.makeSpan([Ot],[kt])}const yl=function(j){return new To({style:j.displayMode?Kt.DISPLAY:Kt.TEXT,maxSize:j.maxSize,minRuleThickness:j.minRuleThickness})},xl=function(j,$){if($.displayMode){const tt=["katex-display"];$.leqno&&tt.push("leqno"),$.fleqn&&tt.push("fleqn"),j=qt.makeSpan(tt,[j])}return j},Gu=function(j,$,tt){const nt=yl(tt);let at;if(tt.output==="mathml")return _l(j,$,nt,tt.displayMode,!0);if(tt.output==="html"){const ht=Ts(j,nt);at=qt.makeSpan(["katex"],[ht])}else{const ht=_l(j,$,nt,tt.displayMode,!1),ft=Ts(j,nt);at=qt.makeSpan(["katex"],[ht,ft])}return xl(at,tt)},Ku=function(j,$,tt){const nt=yl(tt),at=Ts(j,nt),ht=qt.makeSpan(["katex"],[at]);return xl(ht,tt)},Qu={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Yu=function(j){const $=new gr.MathNode("mo",[new gr.TextNode(Qu[j.replace(/^\\/,"")])]);return $.setAttribute("stretchy","true"),$},Xu={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Zu=function(j){return j.type==="ordgroup"?j.body.length:1};var Mo={encloseSpan:function(j,$,tt,nt,at){let ht;const ft=j.height+j.depth+tt+nt;if(/fbox|color|angl/.test($)){if(ht=qt.makeSpan(["stretchy",$],[],at),$==="fbox"){const _t=at.color&&at.getColor();_t&&(ht.style.borderColor=_t)}}else{const _t=[];/^[bx]cancel$/.test($)&&_t.push(new No({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test($)&&_t.push(new No({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Ct=new lo(_t,{width:"100%",height:or(ft)});ht=qt.makeSvgSpan([],[Ct],at)}return ht.height=ft,ht.style.height=or(ft),ht},mathMLnode:Yu,svgSpan:function(j,$){function tt(){let ft=4e5;const _t=j.label.slice(1);if(mt.contains(["widehat","widecheck","widetilde","utilde"],_t)){const kt=Zu(j.base);let Ot,zt,Gt;if(kt>5)_t==="widehat"||_t==="widecheck"?(Ot=420,ft=2364,Gt=.42,zt=_t+"4"):(Ot=312,ft=2340,Gt=.34,zt="tilde4");else{const Ir=[1,1,2,2,3,3][kt];_t==="widehat"||_t==="widecheck"?(ft=[0,1062,2364,2364,2364][Ir],Ot=[0,239,300,360,420][Ir],Gt=[0,.24,.3,.3,.36,.42][Ir],zt=_t+Ir):(ft=[0,600,1033,2339,2340][Ir],Ot=[0,260,286,306,312][Ir],Gt=[0,.26,.286,.3,.306,.34][Ir],zt="tilde"+Ir)}const mr=new co(zt),Sr=new lo([mr],{width:"100%",height:or(Gt),viewBox:"0 0 "+ft+" "+Ot,preserveAspectRatio:"none"});return{span:qt.makeSvgSpan([],[Sr],$),minWidth:0,height:Gt}}else{const Ct=[],kt=Xu[_t],[Ot,zt,Gt]=kt,mr=Gt/1e3,Sr=Ot.length;let Ir,Vr;if(Sr===1){const Nr=kt[3];Ir=["hide-tail"],Vr=[Nr]}else if(Sr===2)Ir=["halfarrow-left","halfarrow-right"],Vr=["xMinYMin","xMaxYMin"];else if(Sr===3)Ir=["brace-left","brace-center","brace-right"],Vr=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Sr+" children.");for(let Nr=0;Nr<Sr;Nr++){const Br=new co(Ot[Nr]),Kr=new lo([Br],{width:"400em",height:or(mr),viewBox:"0 0 "+ft+" "+Gt,preserveAspectRatio:Vr[Nr]+" slice"}),Jr=qt.makeSvgSpan([Ir[Nr]],[Kr],$);if(Sr===1)return{span:Jr,minWidth:zt,height:mr};Jr.style.height=or(mr),Ct.push(Jr)}return{span:qt.makeSpan(["stretchy"],Ct,$),minWidth:zt,height:mr}}}const{span:nt,minWidth:at,height:ht}=tt();return nt.height=ht,nt.style.height=or(ht),at>0&&(nt.style.minWidth=or(at)),nt}};function Dr(j,$){if(!j||j.type!==$)throw new Error("Expected node of type "+$+", but got "+(j?"node of type "+j.type:String(j)));return j}function bs(j){const $=as(j);if(!$)throw new Error("Expected node of symbol group type, but got "+(j?"node of type "+j.type:String(j)));return $}function as(j){return j&&(j.type==="atom"||Eo.hasOwnProperty(j.type))?j:null}const ws=(j,$)=>{let tt,nt,at;j&&j.type==="supsub"?(nt=Dr(j.base,"accent"),tt=nt.base,j.base=tt,at=Ho(zr(j,$)),j.base=nt):(nt=Dr(j,"accent"),tt=nt.base);const ht=zr(tt,$.havingCrampedStyle()),ft=nt.isShifty&&mt.isCharacterBox(tt);let _t=0;if(ft){const Gt=mt.getBaseElem(tt),mr=zr(Gt,$.havingCrampedStyle());_t=jo(mr).skew}const Ct=nt.label==="\\c";let kt=Ct?ht.height+ht.depth:Math.min(ht.height,$.fontMetrics().xHeight),Ot;if(nt.isStretchy)Ot=Mo.svgSpan(nt,$),Ot=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ht},{type:"elem",elem:Ot,wrapperClasses:["svg-align"],wrapperStyle:_t>0?{width:"calc(100% - "+or(2*_t)+")",marginLeft:or(2*_t)}:void 0}]},$);else{let Gt,mr;nt.label==="\\vec"?(Gt=qt.staticSvg("vec",$),mr=qt.svgData.vec[1]):(Gt=qt.makeOrd({mode:nt.mode,text:nt.label},$,"textord"),Gt=jo(Gt),Gt.italic=0,mr=Gt.width,Ct&&(kt+=Gt.depth)),Ot=qt.makeSpan(["accent-body"],[Gt]);const Sr=nt.label==="\\textcircled";Sr&&(Ot.classes.push("accent-full"),kt=ht.height);let Ir=_t;Sr||(Ir-=mr/2),Ot.style.left=or(Ir),nt.label==="\\textcircled"&&(Ot.style.top=".2em"),Ot=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ht},{type:"kern",size:-kt},{type:"elem",elem:Ot}]},$)}const zt=qt.makeSpan(["mord","accent"],[Ot],$);return at?(at.children[0]=zt,at.height=Math.max(zt.height,at.height),at.classes[0]="mord",at):zt},Tl=(j,$)=>{const tt=j.isStretchy?Mo.mathMLnode(j.label):new gr.MathNode("mo",[_o(j.label,j.mode)]),nt=new gr.MathNode("mover",[Zr(j.base,$),tt]);return nt.setAttribute("accent","true"),nt},Ju=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(j=>"\\"+j).join("|"));wr({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(j,$)=>{const tt=os($[0]),nt=!Ju.test(j.funcName),at=!nt||j.funcName==="\\widehat"||j.funcName==="\\widetilde"||j.funcName==="\\widecheck";return{type:"accent",mode:j.parser.mode,label:j.funcName,isStretchy:nt,isShifty:at,base:tt}},htmlBuilder:ws,mathmlBuilder:Tl}),wr({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(j,$)=>{const tt=$[0];let nt=j.parser.mode;return nt==="math"&&(j.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+j.funcName+" works only in text mode"),nt="text"),{type:"accent",mode:nt,label:j.funcName,isStretchy:!1,isShifty:!0,base:tt}},htmlBuilder:ws,mathmlBuilder:Tl}),wr({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(j,$)=>{let{parser:tt,funcName:nt}=j;const at=$[0];return{type:"accentUnder",mode:tt.mode,label:nt,base:at}},htmlBuilder:(j,$)=>{const tt=zr(j.base,$),nt=Mo.svgSpan(j,$),at=j.label==="\\utilde"?.12:0,ht=qt.makeVList({positionType:"top",positionData:tt.height,children:[{type:"elem",elem:nt,wrapperClasses:["svg-align"]},{type:"kern",size:at},{type:"elem",elem:tt}]},$);return qt.makeSpan(["mord","accentunder"],[ht],$)},mathmlBuilder:(j,$)=>{const tt=Mo.mathMLnode(j.label),nt=new gr.MathNode("munder",[Zr(j.base,$),tt]);return nt.setAttribute("accentunder","true"),nt}});const ls=j=>{const $=new gr.MathNode("mpadded",j?[j]:[]);return $.setAttribute("width","+0.6em"),$.setAttribute("lspace","0.3em"),$};wr({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(j,$,tt){let{parser:nt,funcName:at}=j;return{type:"xArrow",mode:nt.mode,label:at,body:$[0],below:tt[0]}},htmlBuilder(j,$){const tt=$.style;let nt=$.havingStyle(tt.sup());const at=qt.wrapFragment(zr(j.body,nt,$),$),ht=j.label.slice(0,2)==="\\x"?"x":"cd";at.classes.push(ht+"-arrow-pad");let ft;j.below&&(nt=$.havingStyle(tt.sub()),ft=qt.wrapFragment(zr(j.below,nt,$),$),ft.classes.push(ht+"-arrow-pad"));const _t=Mo.svgSpan(j,$),Ct=-$.fontMetrics().axisHeight+.5*_t.height;let kt=-$.fontMetrics().axisHeight-.5*_t.height-.111;(at.depth>.25||j.label==="\\xleftequilibrium")&&(kt-=at.depth);let Ot;if(ft){const zt=-$.fontMetrics().axisHeight+ft.height+.5*_t.height+.111;Ot=qt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:at,shift:kt},{type:"elem",elem:_t,shift:Ct},{type:"elem",elem:ft,shift:zt}]},$)}else Ot=qt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:at,shift:kt},{type:"elem",elem:_t,shift:Ct}]},$);return Ot.children[0].children[0].children[1].classes.push("svg-align"),qt.makeSpan(["mrel","x-arrow"],[Ot],$)},mathmlBuilder(j,$){const tt=Mo.mathMLnode(j.label);tt.setAttribute("minsize",j.label.charAt(0)==="x"?"1.75em":"3.0em");let nt;if(j.body){const at=ls(Zr(j.body,$));if(j.below){const ht=ls(Zr(j.below,$));nt=new gr.MathNode("munderover",[tt,ht,at])}else nt=new gr.MathNode("mover",[tt,at])}else if(j.below){const at=ls(Zr(j.below,$));nt=new gr.MathNode("munder",[tt,at])}else nt=ls(),nt=new gr.MathNode("mover",[tt,nt]);return nt}});const _h=qt.makeSpan;function El(j,$){const tt=Zn(j.body,$,!0);return _h([j.mclass],tt,$)}function Cl(j,$){let tt;const nt=fo(j.body,$);return j.mclass==="minner"?tt=new gr.MathNode("mpadded",nt):j.mclass==="mord"?j.isCharacterBox?(tt=nt[0],tt.type="mi"):tt=new gr.MathNode("mi",nt):(j.isCharacterBox?(tt=nt[0],tt.type="mo"):tt=new gr.MathNode("mo",nt),j.mclass==="mbin"?(tt.attributes.lspace="0.22em",tt.attributes.rspace="0.22em"):j.mclass==="mpunct"?(tt.attributes.lspace="0em",tt.attributes.rspace="0.17em"):j.mclass==="mopen"||j.mclass==="mclose"?(tt.attributes.lspace="0em",tt.attributes.rspace="0em"):j.mclass==="minner"&&(tt.attributes.lspace="0.0556em",tt.attributes.width="+0.1111em")),tt}wr({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(j,$){let{parser:tt,funcName:nt}=j;const at=$[0];return{type:"mclass",mode:tt.mode,mclass:"m"+nt.slice(5),body:Gn(at),isCharacterBox:mt.isCharacterBox(at)}},htmlBuilder:El,mathmlBuilder:Cl});const us=j=>{const $=j.type==="ordgroup"&&j.body.length?j.body[0]:j;return $.type==="atom"&&($.family==="bin"||$.family==="rel")?"m"+$.family:"mord"};wr({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(j,$){let{parser:tt}=j;return{type:"mclass",mode:tt.mode,mclass:us($[0]),body:Gn($[1]),isCharacterBox:mt.isCharacterBox($[1])}}}),wr({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(j,$){let{parser:tt,funcName:nt}=j;const at=$[1],ht=$[0];let ft;nt!=="\\stackrel"?ft=us(at):ft="mrel";const _t={type:"op",mode:at.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:nt!=="\\stackrel",body:Gn(at)},Ct={type:"supsub",mode:ht.mode,base:_t,sup:nt==="\\underset"?null:ht,sub:nt==="\\underset"?ht:null};return{type:"mclass",mode:tt.mode,mclass:ft,body:[Ct],isCharacterBox:mt.isCharacterBox(Ct)}},htmlBuilder:El,mathmlBuilder:Cl}),wr({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(j,$){let{parser:tt}=j;return{type:"pmb",mode:tt.mode,mclass:us($[0]),body:Gn($[0])}},htmlBuilder(j,$){const tt=Zn(j.body,$,!0),nt=qt.makeSpan([j.mclass],tt,$);return nt.style.textShadow="0.02em 0.01em 0.04px",nt},mathmlBuilder(j,$){const tt=fo(j.body,$),nt=new gr.MathNode("mstyle",tt);return nt.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),nt}});const e0={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Sl=()=>({type:"styling",body:[],mode:"math",style:"display"}),Rl=j=>j.type==="textord"&&j.text==="@",t0=(j,$)=>(j.type==="mathord"||j.type==="atom")&&j.text===$;function r0(j,$,tt){const nt=e0[j];switch(nt){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return tt.callFunction(nt,[$[0]],[$[1]]);case"\\uparrow":case"\\downarrow":{const at=tt.callFunction("\\\\cdleft",[$[0]],[]),ht={type:"atom",text:nt,mode:"math",family:"rel"},ft=tt.callFunction("\\Big",[ht],[]),_t=tt.callFunction("\\\\cdright",[$[1]],[]),Ct={type:"ordgroup",mode:"math",body:[at,ft,_t]};return tt.callFunction("\\\\cdparent",[Ct],[])}case"\\\\cdlongequal":return tt.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const at={type:"textord",text:"\\Vert",mode:"math"};return tt.callFunction("\\Big",[at],[])}default:return{type:"textord",text:" ",mode:"math"}}}function n0(j){const $=[];for(j.gullet.beginGroup(),j.gullet.macros.set("\\cr","\\\\\\relax"),j.gullet.beginGroup();;){$.push(j.parseExpression(!1,"\\\\")),j.gullet.endGroup(),j.gullet.beginGroup();const ht=j.fetch().text;if(ht==="&"||ht==="\\\\")j.consume();else if(ht==="\\end"){$[$.length-1].length===0&&$.pop();break}else throw new h("Expected \\\\ or \\cr or \\end",j.nextToken)}let tt=[];const nt=[tt];for(let ht=0;ht<$.length;ht++){const ft=$[ht];let _t=Sl();for(let Ct=0;Ct<ft.length;Ct++)if(!Rl(ft[Ct]))_t.body.push(ft[Ct]);else{tt.push(_t),Ct+=1;const kt=bs(ft[Ct]).text,Ot=new Array(2);if(Ot[0]={type:"ordgroup",mode:"math",body:[]},Ot[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(kt)>-1))if("<>AV".indexOf(kt)>-1)for(let mr=0;mr<2;mr++){let Sr=!0;for(let Ir=Ct+1;Ir<ft.length;Ir++){if(t0(ft[Ir],kt)){Sr=!1,Ct=Ir;break}if(Rl(ft[Ir]))throw new h("Missing a "+kt+" character to complete a CD arrow.",ft[Ir]);Ot[mr].body.push(ft[Ir])}if(Sr)throw new h("Missing a "+kt+" character to complete a CD arrow.",ft[Ct])}else throw new h('Expected one of "<>AV=|." after @',ft[Ct]);const Gt={type:"styling",body:[r0(kt,Ot,j)],mode:"math",style:"display"};tt.push(Gt),_t=Sl()}ht%2===0?tt.push(_t):tt.shift(),tt=[],nt.push(tt)}j.gullet.endGroup(),j.gullet.endGroup();const at=new Array(nt[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:nt,arraystretch:1,addJot:!0,rowGaps:[null],cols:at,colSeparationType:"CD",hLinesBeforeRow:new Array(nt.length+1).fill([])}}wr({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(j,$){let{parser:tt,funcName:nt}=j;return{type:"cdlabel",mode:tt.mode,side:nt.slice(4),label:$[0]}},htmlBuilder(j,$){const tt=$.havingStyle($.style.sup()),nt=qt.wrapFragment(zr(j.label,tt,$),$);return nt.classes.push("cd-label-"+j.side),nt.style.bottom=or(.8-nt.depth),nt.height=0,nt.depth=0,nt},mathmlBuilder(j,$){let tt=new gr.MathNode("mrow",[Zr(j.label,$)]);return tt=new gr.MathNode("mpadded",[tt]),tt.setAttribute("width","0"),j.side==="left"&&tt.setAttribute("lspace","-1width"),tt.setAttribute("voffset","0.7em"),tt=new gr.MathNode("mstyle",[tt]),tt.setAttribute("displaystyle","false"),tt.setAttribute("scriptlevel","1"),tt}}),wr({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(j,$){let{parser:tt}=j;return{type:"cdlabelparent",mode:tt.mode,fragment:$[0]}},htmlBuilder(j,$){const tt=qt.wrapFragment(zr(j.fragment,$),$);return tt.classes.push("cd-vert-arrow"),tt},mathmlBuilder(j,$){return new gr.MathNode("mrow",[Zr(j.fragment,$)])}}),wr({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(j,$){let{parser:tt}=j;const at=Dr($[0],"ordgroup").body;let ht="";for(let Ct=0;Ct<at.length;Ct++){const kt=Dr(at[Ct],"textord");ht+=kt.text}let ft=parseInt(ht),_t;if(isNaN(ft))throw new h("\\@char has non-numeric argument "+ht);if(ft<0||ft>=1114111)throw new h("\\@char with invalid code point "+ht);return ft<=65535?_t=String.fromCharCode(ft):(ft-=65536,_t=String.fromCharCode((ft>>10)+55296,(ft&1023)+56320)),{type:"textord",mode:tt.mode,text:_t}}});const Al=(j,$)=>{const tt=Zn(j.body,$.withColor(j.color),!1);return qt.makeFragment(tt)},Il=(j,$)=>{const tt=fo(j.body,$.withColor(j.color)),nt=new gr.MathNode("mstyle",tt);return nt.setAttribute("mathcolor",j.color),nt};wr({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(j,$){let{parser:tt}=j;const nt=Dr($[0],"color-token").color,at=$[1];return{type:"color",mode:tt.mode,color:nt,body:Gn(at)}},htmlBuilder:Al,mathmlBuilder:Il}),wr({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(j,$){let{parser:tt,breakOnTokenText:nt}=j;const at=Dr($[0],"color-token").color;tt.gullet.macros.set("\\current@color",at);const ht=tt.parseExpression(!0,nt);return{type:"color",mode:tt.mode,color:at,body:ht}},htmlBuilder:Al,mathmlBuilder:Il}),wr({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(j,$,tt){let{parser:nt}=j;const at=nt.gullet.future().text==="["?nt.parseSizeGroup(!0):null,ht=!nt.settings.displayMode||!nt.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:nt.mode,newLine:ht,size:at&&Dr(at,"size").value}},htmlBuilder(j,$){const tt=qt.makeSpan(["mspace"],[],$);return j.newLine&&(tt.classes.push("newline"),j.size&&(tt.style.marginTop=or(jr(j.size,$)))),tt},mathmlBuilder(j,$){const tt=new gr.MathNode("mspace");return j.newLine&&(tt.setAttribute("linebreak","newline"),j.size&&tt.setAttribute("height",or(jr(j.size,$)))),tt}});const Ss={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Pl=j=>{const $=j.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test($))throw new h("Expected a control sequence",j);return $},i0=j=>{let $=j.gullet.popToken();return $.text==="="&&($=j.gullet.popToken(),$.text===" "&&($=j.gullet.popToken())),$},$l=(j,$,tt,nt)=>{let at=j.gullet.macros.get(tt.text);at==null&&(tt.noexpand=!0,at={tokens:[tt],numArgs:0,unexpandable:!j.gullet.isExpandable(tt.text)}),j.gullet.macros.set($,at,nt)};wr({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(j){let{parser:$,funcName:tt}=j;$.consumeSpaces();const nt=$.fetch();if(Ss[nt.text])return(tt==="\\global"||tt==="\\\\globallong")&&(nt.text=Ss[nt.text]),Dr($.parseFunction(),"internal");throw new h("Invalid token after macro prefix",nt)}}),wr({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(j){let{parser:$,funcName:tt}=j,nt=$.gullet.popToken();const at=nt.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(at))throw new h("Expected a control sequence",nt);let ht=0,ft;const _t=[[]];for(;$.gullet.future().text!=="{";)if(nt=$.gullet.popToken(),nt.text==="#"){if($.gullet.future().text==="{"){ft=$.gullet.future(),_t[ht].push("{");break}if(nt=$.gullet.popToken(),!/^[1-9]$/.test(nt.text))throw new h('Invalid argument number "'+nt.text+'"');if(parseInt(nt.text)!==ht+1)throw new h('Argument number "'+nt.text+'" out of order');ht++,_t.push([])}else{if(nt.text==="EOF")throw new h("Expected a macro definition");_t[ht].push(nt.text)}let{tokens:Ct}=$.gullet.consumeArg();return ft&&Ct.unshift(ft),(tt==="\\edef"||tt==="\\xdef")&&(Ct=$.gullet.expandTokens(Ct),Ct.reverse()),$.gullet.macros.set(at,{tokens:Ct,numArgs:ht,delimiters:_t},tt===Ss[tt]),{type:"internal",mode:$.mode}}}),wr({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(j){let{parser:$,funcName:tt}=j;const nt=Pl($.gullet.popToken());$.gullet.consumeSpaces();const at=i0($);return $l($,nt,at,tt==="\\\\globallet"),{type:"internal",mode:$.mode}}}),wr({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(j){let{parser:$,funcName:tt}=j;const nt=Pl($.gullet.popToken()),at=$.gullet.popToken(),ht=$.gullet.popToken();return $l($,nt,ht,tt==="\\\\globalfuture"),$.gullet.pushToken(ht),$.gullet.pushToken(at),{type:"internal",mode:$.mode}}});const Zo=function(j,$,tt){const nt=Lr.math[j]&&Lr.math[j].replace,at=Vn(nt||j,$,tt);if(!at)throw new Error("Unsupported symbol "+j+" and font size "+$+".");return at},Rs=function(j,$,tt,nt){const at=tt.havingBaseStyle($),ht=qt.makeSpan(nt.concat(at.sizingClasses(tt)),[j],tt),ft=at.sizeMultiplier/tt.sizeMultiplier;return ht.height*=ft,ht.depth*=ft,ht.maxFontSize=at.sizeMultiplier,ht},Dl=function(j,$,tt){const nt=$.havingBaseStyle(tt),at=(1-$.sizeMultiplier/nt.sizeMultiplier)*$.fontMetrics().axisHeight;j.classes.push("delimcenter"),j.style.top=or(at),j.height-=at,j.depth+=at},o0=function(j,$,tt,nt,at,ht){const ft=qt.makeSymbol(j,"Main-Regular",at,nt),_t=Rs(ft,$,nt,ht);return tt&&Dl(_t,nt,$),_t},s0=function(j,$,tt,nt){return qt.makeSymbol(j,"Size"+$+"-Regular",tt,nt)},Ml=function(j,$,tt,nt,at,ht){const ft=s0(j,$,at,nt),_t=Rs(qt.makeSpan(["delimsizing","size"+$],[ft],nt),Kt.TEXT,nt,ht);return tt&&Dl(_t,nt,Kt.TEXT),_t},As=function(j,$,tt){let nt;return $==="Size1-Regular"?nt="delim-size1":nt="delim-size4",{type:"elem",elem:qt.makeSpan(["delimsizinginner",nt],[qt.makeSpan([],[qt.makeSymbol(j,$,tt)])])}},Is=function(j,$,tt){const nt=On["Size4-Regular"][j.charCodeAt(0)]?On["Size4-Regular"][j.charCodeAt(0)][4]:On["Size1-Regular"][j.charCodeAt(0)][4],at=new co("inner",$r(j,Math.round(1e3*$))),ht=new lo([at],{width:or(nt),height:or($),style:"width:"+or(nt),viewBox:"0 0 "+1e3*nt+" "+Math.round(1e3*$),preserveAspectRatio:"xMinYMin"}),ft=qt.makeSvgSpan([],[ht],tt);return ft.height=$,ft.style.height=or($),ft.style.width=or(nt),{type:"elem",elem:ft}},ks=.008,hs={type:"kern",size:-1*ks},a0=["|","\\lvert","\\rvert","\\vert"],l0=["\\|","\\lVert","\\rVert","\\Vert"],Ll=function(j,$,tt,nt,at,ht){let ft,_t,Ct,kt,Ot="",zt=0;ft=Ct=kt=j,_t=null;let Gt="Size1-Regular";j==="\\uparrow"?Ct=kt="⏐":j==="\\Uparrow"?Ct=kt="‖":j==="\\downarrow"?ft=Ct="⏐":j==="\\Downarrow"?ft=Ct="‖":j==="\\updownarrow"?(ft="\\uparrow",Ct="⏐",kt="\\downarrow"):j==="\\Updownarrow"?(ft="\\Uparrow",Ct="‖",kt="\\Downarrow"):mt.contains(a0,j)?(Ct="∣",Ot="vert",zt=333):mt.contains(l0,j)?(Ct="∥",Ot="doublevert",zt=556):j==="["||j==="\\lbrack"?(ft="⎡",Ct="⎢",kt="⎣",Gt="Size4-Regular",Ot="lbrack",zt=667):j==="]"||j==="\\rbrack"?(ft="⎤",Ct="⎥",kt="⎦",Gt="Size4-Regular",Ot="rbrack",zt=667):j==="\\lfloor"||j==="⌊"?(Ct=ft="⎢",kt="⎣",Gt="Size4-Regular",Ot="lfloor",zt=667):j==="\\lceil"||j==="⌈"?(ft="⎡",Ct=kt="⎢",Gt="Size4-Regular",Ot="lceil",zt=667):j==="\\rfloor"||j==="⌋"?(Ct=ft="⎥",kt="⎦",Gt="Size4-Regular",Ot="rfloor",zt=667):j==="\\rceil"||j==="⌉"?(ft="⎤",Ct=kt="⎥",Gt="Size4-Regular",Ot="rceil",zt=667):j==="("||j==="\\lparen"?(ft="⎛",Ct="⎜",kt="⎝",Gt="Size4-Regular",Ot="lparen",zt=875):j===")"||j==="\\rparen"?(ft="⎞",Ct="⎟",kt="⎠",Gt="Size4-Regular",Ot="rparen",zt=875):j==="\\{"||j==="\\lbrace"?(ft="⎧",_t="⎨",kt="⎩",Ct="⎪",Gt="Size4-Regular"):j==="\\}"||j==="\\rbrace"?(ft="⎫",_t="⎬",kt="⎭",Ct="⎪",Gt="Size4-Regular"):j==="\\lgroup"||j==="⟮"?(ft="⎧",kt="⎩",Ct="⎪",Gt="Size4-Regular"):j==="\\rgroup"||j==="⟯"?(ft="⎫",kt="⎭",Ct="⎪",Gt="Size4-Regular"):j==="\\lmoustache"||j==="⎰"?(ft="⎧",kt="⎭",Ct="⎪",Gt="Size4-Regular"):(j==="\\rmoustache"||j==="⎱")&&(ft="⎫",kt="⎩",Ct="⎪",Gt="Size4-Regular");const mr=Zo(ft,Gt,at),Sr=mr.height+mr.depth,Ir=Zo(Ct,Gt,at),Vr=Ir.height+Ir.depth,Nr=Zo(kt,Gt,at),Br=Nr.height+Nr.depth;let Kr=0,Jr=1;if(_t!==null){const Un=Zo(_t,Gt,at);Kr=Un.height+Un.depth,Jr=2}const uo=Sr+Br+Kr,_i=Math.max(0,Math.ceil(($-uo)/(Jr*Vr))),xo=uo+_i*Jr*Vr;let Ko=nt.fontMetrics().axisHeight;tt&&(Ko*=nt.sizeMultiplier);const Ur=xo/2-Ko,Xr=[];if(Ot.length>0){const Un=xo-Sr-Br,Bn=Math.round(xo*1e3),vo=Qn(Ot,Math.round(Un*1e3)),M0=new co(Ot,vo),Su=(zt/1e3).toFixed(3)+"em",Ru=(Bn/1e3).toFixed(3)+"em",L0=new lo([M0],{width:Su,height:Ru,viewBox:"0 0 "+zt+" "+Bn}),gs=qt.makeSvgSpan([],[L0],nt);gs.height=Bn/1e3,gs.style.width=Su,gs.style.height=Ru,Xr.push({type:"elem",elem:gs})}else{if(Xr.push(As(kt,Gt,at)),Xr.push(hs),_t===null){const Un=xo-Sr-Br+2*ks;Xr.push(Is(Ct,Un,nt))}else{const Un=(xo-Sr-Br-Kr)/2+2*ks;Xr.push(Is(Ct,Un,nt)),Xr.push(hs),Xr.push(As(_t,Gt,at)),Xr.push(hs),Xr.push(Is(Ct,Un,nt))}Xr.push(hs),Xr.push(As(ft,Gt,at))}const $n=nt.havingBaseStyle(Kt.TEXT),jn=qt.makeVList({positionType:"bottom",positionData:Ur,children:Xr},$n);return Rs(qt.makeSpan(["delimsizing","mult"],[jn],$n),Kt.TEXT,nt,ht)},Ps=80,$s=.08,Ds=function(j,$,tt,nt,at){const ht=Pr(j,nt,tt),ft=new co(j,ht),_t=new lo([ft],{width:"400em",height:or($),viewBox:"0 0 400000 "+tt,preserveAspectRatio:"xMinYMin slice"});return qt.makeSvgSpan(["hide-tail"],[_t],at)},c0=function(j,$){const tt=$.havingBaseSizing(),nt=Fl("\\surd",j*tt.sizeMultiplier,Vl,tt);let at=tt.sizeMultiplier;const ht=Math.max(0,$.minRuleThickness-$.fontMetrics().sqrtRuleThickness);let ft,_t=0,Ct=0,kt=0,Ot;return nt.type==="small"?(kt=1e3+1e3*ht+Ps,j<1?at=1:j<1.4&&(at=.7),_t=(1+ht+$s)/at,Ct=(1+ht)/at,ft=Ds("sqrtMain",_t,kt,ht,$),ft.style.minWidth="0.853em",Ot=.833/at):nt.type==="large"?(kt=(1e3+Ps)*Jo[nt.size],Ct=(Jo[nt.size]+ht)/at,_t=(Jo[nt.size]+ht+$s)/at,ft=Ds("sqrtSize"+nt.size,_t,kt,ht,$),ft.style.minWidth="1.02em",Ot=1/at):(_t=j+ht+$s,Ct=j+ht,kt=Math.floor(1e3*j+ht)+Ps,ft=Ds("sqrtTall",_t,kt,ht,$),ft.style.minWidth="0.742em",Ot=1.056),ft.height=Ct,ft.style.height=or(_t),{span:ft,advanceWidth:Ot,ruleWidth:($.fontMetrics().sqrtRuleThickness+ht)*at}},Nl=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],u0=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Ol=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Jo=[0,1.2,1.8,2.4,3],h0=function(j,$,tt,nt,at){if(j==="<"||j==="\\lt"||j==="⟨"?j="\\langle":(j===">"||j==="\\gt"||j==="⟩")&&(j="\\rangle"),mt.contains(Nl,j)||mt.contains(Ol,j))return Ml(j,$,!1,tt,nt,at);if(mt.contains(u0,j))return Ll(j,Jo[$],!1,tt,nt,at);throw new h("Illegal delimiter: '"+j+"'")},d0=[{type:"small",style:Kt.SCRIPTSCRIPT},{type:"small",style:Kt.SCRIPT},{type:"small",style:Kt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],f0=[{type:"small",style:Kt.SCRIPTSCRIPT},{type:"small",style:Kt.SCRIPT},{type:"small",style:Kt.TEXT},{type:"stack"}],Vl=[{type:"small",style:Kt.SCRIPTSCRIPT},{type:"small",style:Kt.SCRIPT},{type:"small",style:Kt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],p0=function(j){if(j.type==="small")return"Main-Regular";if(j.type==="large")return"Size"+j.size+"-Regular";if(j.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+j.type+"' here.")},Fl=function(j,$,tt,nt){const at=Math.min(2,3-nt.style.size);for(let ht=at;ht<tt.length&&tt[ht].type!=="stack";ht++){const ft=Zo(j,p0(tt[ht]),"math");let _t=ft.height+ft.depth;if(tt[ht].type==="small"){const Ct=nt.havingBaseStyle(tt[ht].style);_t*=Ct.sizeMultiplier}if(_t>$)return tt[ht]}return tt[tt.length-1]},Bl=function(j,$,tt,nt,at,ht){j==="<"||j==="\\lt"||j==="⟨"?j="\\langle":(j===">"||j==="\\gt"||j==="⟩")&&(j="\\rangle");let ft;mt.contains(Ol,j)?ft=d0:mt.contains(Nl,j)?ft=Vl:ft=f0;const _t=Fl(j,$,ft,nt);return _t.type==="small"?o0(j,_t.style,tt,nt,at,ht):_t.type==="large"?Ml(j,_t.size,tt,nt,at,ht):Ll(j,$,tt,nt,at,ht)};var Lo={sqrtImage:c0,sizedDelim:h0,sizeToMaxHeight:Jo,customSizedDelim:Bl,leftRightDelim:function(j,$,tt,nt,at,ht){const ft=nt.fontMetrics().axisHeight*nt.sizeMultiplier,_t=901,Ct=5/nt.fontMetrics().ptPerEm,kt=Math.max($-ft,tt+ft),Ot=Math.max(kt/500*_t,2*kt-Ct);return Bl(j,Ot,!0,nt,at,ht)}};const zl={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},m0=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function ds(j,$){const tt=as(j);if(tt&&mt.contains(m0,tt.text))return tt;throw tt?new h("Invalid delimiter '"+tt.text+"' after '"+$.funcName+"'",j):new h("Invalid delimiter type '"+j.type+"'",j)}wr({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(j,$)=>{const tt=ds($[0],j);return{type:"delimsizing",mode:j.parser.mode,size:zl[j.funcName].size,mclass:zl[j.funcName].mclass,delim:tt.text}},htmlBuilder:(j,$)=>j.delim==="."?qt.makeSpan([j.mclass]):Lo.sizedDelim(j.delim,j.size,$,j.mode,[j.mclass]),mathmlBuilder:j=>{const $=[];j.delim!=="."&&$.push(_o(j.delim,j.mode));const tt=new gr.MathNode("mo",$);j.mclass==="mopen"||j.mclass==="mclose"?tt.setAttribute("fence","true"):tt.setAttribute("fence","false"),tt.setAttribute("stretchy","true");const nt=or(Lo.sizeToMaxHeight[j.size]);return tt.setAttribute("minsize",nt),tt.setAttribute("maxsize",nt),tt}});function Ul(j){if(!j.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}wr({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(j,$)=>{const tt=j.parser.gullet.macros.get("\\current@color");if(tt&&typeof tt!="string")throw new h("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:j.parser.mode,delim:ds($[0],j).text,color:tt}}}),wr({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(j,$)=>{const tt=ds($[0],j),nt=j.parser;++nt.leftrightDepth;const at=nt.parseExpression(!1);--nt.leftrightDepth,nt.expect("\\right",!1);const ht=Dr(nt.parseFunction(),"leftright-right");return{type:"leftright",mode:nt.mode,body:at,left:tt.text,right:ht.delim,rightColor:ht.color}},htmlBuilder:(j,$)=>{Ul(j);const tt=Zn(j.body,$,!0,["mopen","mclose"]);let nt=0,at=0,ht=!1;for(let Ct=0;Ct<tt.length;Ct++)tt[Ct].isMiddle?ht=!0:(nt=Math.max(tt[Ct].height,nt),at=Math.max(tt[Ct].depth,at));nt*=$.sizeMultiplier,at*=$.sizeMultiplier;let ft;if(j.left==="."?ft=Yo($,["mopen"]):ft=Lo.leftRightDelim(j.left,nt,at,$,j.mode,["mopen"]),tt.unshift(ft),ht)for(let Ct=1;Ct<tt.length;Ct++){const Ot=tt[Ct].isMiddle;Ot&&(tt[Ct]=Lo.leftRightDelim(Ot.delim,nt,at,Ot.options,j.mode,[]))}let _t;if(j.right===".")_t=Yo($,["mclose"]);else{const Ct=j.rightColor?$.withColor(j.rightColor):$;_t=Lo.leftRightDelim(j.right,nt,at,Ct,j.mode,["mclose"])}return tt.push(_t),qt.makeSpan(["minner"],tt,$)},mathmlBuilder:(j,$)=>{Ul(j);const tt=fo(j.body,$);if(j.left!=="."){const nt=new gr.MathNode("mo",[_o(j.left,j.mode)]);nt.setAttribute("fence","true"),tt.unshift(nt)}if(j.right!=="."){const nt=new gr.MathNode("mo",[_o(j.right,j.mode)]);nt.setAttribute("fence","true"),j.rightColor&&nt.setAttribute("mathcolor",j.rightColor),tt.push(nt)}return Es(tt)}}),wr({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(j,$)=>{const tt=ds($[0],j);if(!j.parser.leftrightDepth)throw new h("\\middle without preceding \\left",tt);return{type:"middle",mode:j.parser.mode,delim:tt.text}},htmlBuilder:(j,$)=>{let tt;if(j.delim===".")tt=Yo($,[]);else{tt=Lo.sizedDelim(j.delim,1,$,j.mode,[]);const nt={delim:j.delim,options:$};tt.isMiddle=nt}return tt},mathmlBuilder:(j,$)=>{const tt=j.delim==="\\vert"||j.delim==="|"?_o("|","text"):_o(j.delim,j.mode),nt=new gr.MathNode("mo",[tt]);return nt.setAttribute("fence","true"),nt.setAttribute("lspace","0.05em"),nt.setAttribute("rspace","0.05em"),nt}});const Ms=(j,$)=>{const tt=qt.wrapFragment(zr(j.body,$),$),nt=j.label.slice(1);let at=$.sizeMultiplier,ht,ft=0;const _t=mt.isCharacterBox(j.body);if(nt==="sout")ht=qt.makeSpan(["stretchy","sout"]),ht.height=$.fontMetrics().defaultRuleThickness/at,ft=-.5*$.fontMetrics().xHeight;else if(nt==="phase"){const kt=jr({number:.6,unit:"pt"},$),Ot=jr({number:.35,unit:"ex"},$),zt=$.havingBaseSizing();at=at/zt.sizeMultiplier;const Gt=tt.height+tt.depth+kt+Ot;tt.style.paddingLeft=or(Gt/2+kt);const mr=Math.floor(1e3*Gt*at),Sr=lr(mr),Ir=new lo([new co("phase",Sr)],{width:"400em",height:or(mr/1e3),viewBox:"0 0 400000 "+mr,preserveAspectRatio:"xMinYMin slice"});ht=qt.makeSvgSpan(["hide-tail"],[Ir],$),ht.style.height=or(Gt),ft=tt.depth+kt+Ot}else{/cancel/.test(nt)?_t||tt.classes.push("cancel-pad"):nt==="angl"?tt.classes.push("anglpad"):tt.classes.push("boxpad");let kt=0,Ot=0,zt=0;/box/.test(nt)?(zt=Math.max($.fontMetrics().fboxrule,$.minRuleThickness),kt=$.fontMetrics().fboxsep+(nt==="colorbox"?0:zt),Ot=kt):nt==="angl"?(zt=Math.max($.fontMetrics().defaultRuleThickness,$.minRuleThickness),kt=4*zt,Ot=Math.max(0,.25-tt.depth)):(kt=_t?.2:0,Ot=kt),ht=Mo.encloseSpan(tt,nt,kt,Ot,$),/fbox|boxed|fcolorbox/.test(nt)?(ht.style.borderStyle="solid",ht.style.borderWidth=or(zt)):nt==="angl"&&zt!==.049&&(ht.style.borderTopWidth=or(zt),ht.style.borderRightWidth=or(zt)),ft=tt.depth+Ot,j.backgroundColor&&(ht.style.backgroundColor=j.backgroundColor,j.borderColor&&(ht.style.borderColor=j.borderColor))}let Ct;if(j.backgroundColor)Ct=qt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ht,shift:ft},{type:"elem",elem:tt,shift:0}]},$);else{const kt=/cancel|phase/.test(nt)?["svg-align"]:[];Ct=qt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:tt,shift:0},{type:"elem",elem:ht,shift:ft,wrapperClasses:kt}]},$)}return/cancel/.test(nt)&&(Ct.height=tt.height,Ct.depth=tt.depth),/cancel/.test(nt)&&!_t?qt.makeSpan(["mord","cancel-lap"],[Ct],$):qt.makeSpan(["mord"],[Ct],$)},Ls=(j,$)=>{let tt=0;const nt=new gr.MathNode(j.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Zr(j.body,$)]);switch(j.label){case"\\cancel":nt.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":nt.setAttribute("notation","downdiagonalstrike");break;case"\\phase":nt.setAttribute("notation","phasorangle");break;case"\\sout":nt.setAttribute("notation","horizontalstrike");break;case"\\fbox":nt.setAttribute("notation","box");break;case"\\angl":nt.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(tt=$.fontMetrics().fboxsep*$.fontMetrics().ptPerEm,nt.setAttribute("width","+"+2*tt+"pt"),nt.setAttribute("height","+"+2*tt+"pt"),nt.setAttribute("lspace",tt+"pt"),nt.setAttribute("voffset",tt+"pt"),j.label==="\\fcolorbox"){const at=Math.max($.fontMetrics().fboxrule,$.minRuleThickness);nt.setAttribute("style","border: "+at+"em solid "+String(j.borderColor))}break;case"\\xcancel":nt.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return j.backgroundColor&&nt.setAttribute("mathbackground",j.backgroundColor),nt};wr({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(j,$,tt){let{parser:nt,funcName:at}=j;const ht=Dr($[0],"color-token").color,ft=$[1];return{type:"enclose",mode:nt.mode,label:at,backgroundColor:ht,body:ft}},htmlBuilder:Ms,mathmlBuilder:Ls}),wr({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(j,$,tt){let{parser:nt,funcName:at}=j;const ht=Dr($[0],"color-token").color,ft=Dr($[1],"color-token").color,_t=$[2];return{type:"enclose",mode:nt.mode,label:at,backgroundColor:ft,borderColor:ht,body:_t}},htmlBuilder:Ms,mathmlBuilder:Ls}),wr({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(j,$){let{parser:tt}=j;return{type:"enclose",mode:tt.mode,label:"\\fbox",body:$[0]}}}),wr({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(j,$){let{parser:tt,funcName:nt}=j;const at=$[0];return{type:"enclose",mode:tt.mode,label:nt,body:at}},htmlBuilder:Ms,mathmlBuilder:Ls}),wr({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(j,$){let{parser:tt}=j;return{type:"enclose",mode:tt.mode,label:"\\angl",body:$[0]}}});const Hl={};function Io(j){let{type:$,names:tt,props:nt,handler:at,htmlBuilder:ht,mathmlBuilder:ft}=j;const _t={type:$,numArgs:nt.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:at};for(let Ct=0;Ct<tt.length;++Ct)Hl[tt[Ct]]=_t;ht&&(ns[$]=ht),ft&&(is[$]=ft)}const Wl={};function vt(j,$){Wl[j]=$}class po{constructor($,tt,nt){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=$,this.start=tt,this.end=nt}static range($,tt){return tt?!$||!$.loc||!tt.loc||$.loc.lexer!==tt.loc.lexer?null:new po($.loc.lexer,$.loc.start,tt.loc.end):$&&$.loc}}class yo{constructor($,tt){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=$,this.loc=tt}range($,tt){return new yo(tt,po.range(this,$))}}function Gl(j){const $=[];j.consumeSpaces();let tt=j.fetch().text;for(tt==="\\relax"&&(j.consume(),j.consumeSpaces(),tt=j.fetch().text);tt==="\\hline"||tt==="\\hdashline";)j.consume(),$.push(tt==="\\hdashline"),j.consumeSpaces(),tt=j.fetch().text;return $}const fs=j=>{if(!j.parser.settings.displayMode)throw new h("{"+j.envName+"} can be used only in display mode.")};function Ns(j){if(j.indexOf("ed")===-1)return j.indexOf("*")===-1}function Vo(j,$,tt){let{hskipBeforeAndAfter:nt,addJot:at,cols:ht,arraystretch:ft,colSeparationType:_t,autoTag:Ct,singleRow:kt,emptySingleRow:Ot,maxNumCols:zt,leqno:Gt}=$;if(j.gullet.beginGroup(),kt||j.gullet.macros.set("\\cr","\\\\\\relax"),!ft){const Jr=j.gullet.expandMacroAsText("\\arraystretch");if(Jr==null)ft=1;else if(ft=parseFloat(Jr),!ft||ft<0)throw new h("Invalid \\arraystretch: "+Jr)}j.gullet.beginGroup();let mr=[];const Sr=[mr],Ir=[],Vr=[],Nr=Ct!=null?[]:void 0;function Br(){Ct&&j.gullet.macros.set("\\@eqnsw","1",!0)}function Kr(){Nr&&(j.gullet.macros.get("\\df@tag")?(Nr.push(j.subparse([new yo("\\df@tag")])),j.gullet.macros.set("\\df@tag",void 0,!0)):Nr.push(!!Ct&&j.gullet.macros.get("\\@eqnsw")==="1"))}for(Br(),Vr.push(Gl(j));;){let Jr=j.parseExpression(!1,kt?"\\end":"\\\\");j.gullet.endGroup(),j.gullet.beginGroup(),Jr={type:"ordgroup",mode:j.mode,body:Jr},tt&&(Jr={type:"styling",mode:j.mode,style:tt,body:[Jr]}),mr.push(Jr);const uo=j.fetch().text;if(uo==="&"){if(zt&&mr.length===zt){if(kt||_t)throw new h("Too many tab characters: &",j.nextToken);j.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}j.consume()}else if(uo==="\\end"){Kr(),mr.length===1&&Jr.type==="styling"&&Jr.body[0].body.length===0&&(Sr.length>1||!Ot)&&Sr.pop(),Vr.length<Sr.length+1&&Vr.push([]);break}else if(uo==="\\\\"){j.consume();let _i;j.gullet.future().text!==" "&&(_i=j.parseSizeGroup(!0)),Ir.push(_i?_i.value:null),Kr(),Vr.push(Gl(j)),mr=[],Sr.push(mr),Br()}else throw new h("Expected & or \\\\ or \\cr or \\end",j.nextToken)}return j.gullet.endGroup(),j.gullet.endGroup(),{type:"array",mode:j.mode,addJot:at,arraystretch:ft,body:Sr,cols:ht,rowGaps:Ir,hskipBeforeAndAfter:nt,hLinesBeforeRow:Vr,colSeparationType:_t,tags:Nr,leqno:Gt}}function js(j){return j.slice(0,1)==="d"?"display":"text"}const ko=function(j,$){let tt,nt;const at=j.body.length,ht=j.hLinesBeforeRow;let ft=0,_t=new Array(at);const Ct=[],kt=Math.max($.fontMetrics().arrayRuleWidth,$.minRuleThickness),Ot=1/$.fontMetrics().ptPerEm;let zt=5*Ot;j.colSeparationType&&j.colSeparationType==="small"&&(zt=.2778*($.havingStyle(Kt.SCRIPT).sizeMultiplier/$.sizeMultiplier));const Gt=j.colSeparationType==="CD"?jr({number:3,unit:"ex"},$):12*Ot,mr=3*Ot,Sr=j.arraystretch*Gt,Ir=.7*Sr,Vr=.3*Sr;let Nr=0;function Br(Ur){for(let Xr=0;Xr<Ur.length;++Xr)Xr>0&&(Nr+=.25),Ct.push({pos:Nr,isDashed:Ur[Xr]})}for(Br(ht[0]),tt=0;tt<j.body.length;++tt){const Ur=j.body[tt];let Xr=Ir,$n=Vr;ft<Ur.length&&(ft=Ur.length);const jn=new Array(Ur.length);for(nt=0;nt<Ur.length;++nt){const vo=zr(Ur[nt],$);$n<vo.depth&&($n=vo.depth),Xr<vo.height&&(Xr=vo.height),jn[nt]=vo}const Un=j.rowGaps[tt];let Bn=0;Un&&(Bn=jr(Un,$),Bn>0&&(Bn+=Vr,$n<Bn&&($n=Bn),Bn=0)),j.addJot&&($n+=mr),jn.height=Xr,jn.depth=$n,Nr+=Xr,jn.pos=Nr,Nr+=$n+Bn,_t[tt]=jn,Br(ht[tt+1])}const Kr=Nr/2+$.fontMetrics().axisHeight,Jr=j.cols||[],uo=[];let _i,xo;const Ko=[];if(j.tags&&j.tags.some(Ur=>Ur))for(tt=0;tt<at;++tt){const Ur=_t[tt],Xr=Ur.pos-Kr,$n=j.tags[tt];let jn;$n===!0?jn=qt.makeSpan(["eqn-num"],[],$):$n===!1?jn=qt.makeSpan([],[],$):jn=qt.makeSpan([],Zn($n,$,!0),$),jn.depth=Ur.depth,jn.height=Ur.height,Ko.push({type:"elem",elem:jn,shift:Xr})}for(nt=0,xo=0;nt<ft||xo<Jr.length;++nt,++xo){let Ur=Jr[xo]||{},Xr=!0;for(;Ur.type==="separator";){if(Xr||(_i=qt.makeSpan(["arraycolsep"],[]),_i.style.width=or($.fontMetrics().doubleRuleSep),uo.push(_i)),Ur.separator==="|"||Ur.separator===":"){const Un=Ur.separator==="|"?"solid":"dashed",Bn=qt.makeSpan(["vertical-separator"],[],$);Bn.style.height=or(Nr),Bn.style.borderRightWidth=or(kt),Bn.style.borderRightStyle=Un,Bn.style.margin="0 "+or(-kt/2);const vo=Nr-Kr;vo&&(Bn.style.verticalAlign=or(-vo)),uo.push(Bn)}else throw new h("Invalid separator type: "+Ur.separator);xo++,Ur=Jr[xo]||{},Xr=!1}if(nt>=ft)continue;let $n;(nt>0||j.hskipBeforeAndAfter)&&($n=mt.deflt(Ur.pregap,zt),$n!==0&&(_i=qt.makeSpan(["arraycolsep"],[]),_i.style.width=or($n),uo.push(_i)));let jn=[];for(tt=0;tt<at;++tt){const Un=_t[tt],Bn=Un[nt];if(!Bn)continue;const vo=Un.pos-Kr;Bn.depth=Un.depth,Bn.height=Un.height,jn.push({type:"elem",elem:Bn,shift:vo})}jn=qt.makeVList({positionType:"individualShift",children:jn},$),jn=qt.makeSpan(["col-align-"+(Ur.align||"c")],[jn]),uo.push(jn),(nt<ft-1||j.hskipBeforeAndAfter)&&($n=mt.deflt(Ur.postgap,zt),$n!==0&&(_i=qt.makeSpan(["arraycolsep"],[]),_i.style.width=or($n),uo.push(_i)))}if(_t=qt.makeSpan(["mtable"],uo),Ct.length>0){const Ur=qt.makeLineSpan("hline",$,kt),Xr=qt.makeLineSpan("hdashline",$,kt),$n=[{type:"elem",elem:_t,shift:0}];for(;Ct.length>0;){const jn=Ct.pop(),Un=jn.pos-Kr;jn.isDashed?$n.push({type:"elem",elem:Xr,shift:Un}):$n.push({type:"elem",elem:Ur,shift:Un})}_t=qt.makeVList({positionType:"individualShift",children:$n},$)}if(Ko.length===0)return qt.makeSpan(["mord"],[_t],$);{let Ur=qt.makeVList({positionType:"individualShift",children:Ko},$);return Ur=qt.makeSpan(["tag"],[Ur],$),qt.makeFragment([_t,Ur])}},g0={c:"center ",l:"left ",r:"right "},Po=function(j,$){const tt=[],nt=new gr.MathNode("mtd",[],["mtr-glue"]),at=new gr.MathNode("mtd",[],["mml-eqn-num"]);for(let zt=0;zt<j.body.length;zt++){const Gt=j.body[zt],mr=[];for(let Sr=0;Sr<Gt.length;Sr++)mr.push(new gr.MathNode("mtd",[Zr(Gt[Sr],$)]));j.tags&&j.tags[zt]&&(mr.unshift(nt),mr.push(nt),j.leqno?mr.unshift(at):mr.push(at)),tt.push(new gr.MathNode("mtr",mr))}let ht=new gr.MathNode("mtable",tt);const ft=j.arraystretch===.5?.1:.16+j.arraystretch-1+(j.addJot?.09:0);ht.setAttribute("rowspacing",or(ft));let _t="",Ct="";if(j.cols&&j.cols.length>0){const zt=j.cols;let Gt="",mr=!1,Sr=0,Ir=zt.length;zt[0].type==="separator"&&(_t+="top ",Sr=1),zt[zt.length-1].type==="separator"&&(_t+="bottom ",Ir-=1);for(let Vr=Sr;Vr<Ir;Vr++)zt[Vr].type==="align"?(Ct+=g0[zt[Vr].align],mr&&(Gt+="none "),mr=!0):zt[Vr].type==="separator"&&mr&&(Gt+=zt[Vr].separator==="|"?"solid ":"dashed ",mr=!1);ht.setAttribute("columnalign",Ct.trim()),/[sd]/.test(Gt)&&ht.setAttribute("columnlines",Gt.trim())}if(j.colSeparationType==="align"){const zt=j.cols||[];let Gt="";for(let mr=1;mr<zt.length;mr++)Gt+=mr%2?"0em ":"1em ";ht.setAttribute("columnspacing",Gt.trim())}else j.colSeparationType==="alignat"||j.colSeparationType==="gather"?ht.setAttribute("columnspacing","0em"):j.colSeparationType==="small"?ht.setAttribute("columnspacing","0.2778em"):j.colSeparationType==="CD"?ht.setAttribute("columnspacing","0.5em"):ht.setAttribute("columnspacing","1em");let kt="";const Ot=j.hLinesBeforeRow;_t+=Ot[0].length>0?"left ":"",_t+=Ot[Ot.length-1].length>0?"right ":"";for(let zt=1;zt<Ot.length-1;zt++)kt+=Ot[zt].length===0?"none ":Ot[zt][0]?"dashed ":"solid ";return/[sd]/.test(kt)&&ht.setAttribute("rowlines",kt.trim()),_t!==""&&(ht=new gr.MathNode("menclose",[ht]),ht.setAttribute("notation",_t.trim())),j.arraystretch&&j.arraystretch<1&&(ht=new gr.MathNode("mstyle",[ht]),ht.setAttribute("scriptlevel","1")),ht},Kl=function(j,$){j.envName.indexOf("ed")===-1&&fs(j);const tt=[],nt=j.envName.indexOf("at")>-1?"alignat":"align",at=j.envName==="split",ht=Vo(j.parser,{cols:tt,addJot:!0,autoTag:at?void 0:Ns(j.envName),emptySingleRow:!0,colSeparationType:nt,maxNumCols:at?2:void 0,leqno:j.parser.settings.leqno},"display");let ft,_t=0;const Ct={type:"ordgroup",mode:j.mode,body:[]};if($[0]&&$[0].type==="ordgroup"){let Ot="";for(let zt=0;zt<$[0].body.length;zt++){const Gt=Dr($[0].body[zt],"textord");Ot+=Gt.text}ft=Number(Ot),_t=ft*2}const kt=!_t;ht.body.forEach(function(Ot){for(let zt=1;zt<Ot.length;zt+=2){const Gt=Dr(Ot[zt],"styling");Dr(Gt.body[0],"ordgroup").body.unshift(Ct)}if(kt)_t<Ot.length&&(_t=Ot.length);else{const zt=Ot.length/2;if(ft<zt)throw new h("Too many math in a row: "+("expected "+ft+", but got "+zt),Ot[0])}});for(let Ot=0;Ot<_t;++Ot){let zt="r",Gt=0;Ot%2===1?zt="l":Ot>0&&kt&&(Gt=1),tt[Ot]={type:"align",align:zt,pregap:Gt,postgap:0}}return ht.colSeparationType=kt?"align":"alignat",ht};Io({type:"array",names:["array","darray"],props:{numArgs:1},handler(j,$){const at=(as($[0])?[$[0]]:Dr($[0],"ordgroup").body).map(function(ft){const Ct=bs(ft).text;if("lcr".indexOf(Ct)!==-1)return{type:"align",align:Ct};if(Ct==="|")return{type:"separator",separator:"|"};if(Ct===":")return{type:"separator",separator:":"};throw new h("Unknown column alignment: "+Ct,ft)}),ht={cols:at,hskipBeforeAndAfter:!0,maxNumCols:at.length};return Vo(j.parser,ht,js(j.envName))},htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(j){const $={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[j.envName.replace("*","")];let tt="c";const nt={hskipBeforeAndAfter:!1,cols:[{type:"align",align:tt}]};if(j.envName.charAt(j.envName.length-1)==="*"){const ft=j.parser;if(ft.consumeSpaces(),ft.fetch().text==="["){if(ft.consume(),ft.consumeSpaces(),tt=ft.fetch().text,"lcr".indexOf(tt)===-1)throw new h("Expected l or c or r",ft.nextToken);ft.consume(),ft.consumeSpaces(),ft.expect("]"),ft.consume(),nt.cols=[{type:"align",align:tt}]}}const at=Vo(j.parser,nt,js(j.envName)),ht=Math.max(0,...at.body.map(ft=>ft.length));return at.cols=new Array(ht).fill({type:"align",align:tt}),$?{type:"leftright",mode:j.mode,body:[at],left:$[0],right:$[1],rightColor:void 0}:at},htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(j){const $={arraystretch:.5},tt=Vo(j.parser,$,"script");return tt.colSeparationType="small",tt},htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["subarray"],props:{numArgs:1},handler(j,$){const at=(as($[0])?[$[0]]:Dr($[0],"ordgroup").body).map(function(ft){const Ct=bs(ft).text;if("lc".indexOf(Ct)!==-1)return{type:"align",align:Ct};throw new h("Unknown column alignment: "+Ct,ft)});if(at.length>1)throw new h("{subarray} can contain only one column");let ht={cols:at,hskipBeforeAndAfter:!1,arraystretch:.5};if(ht=Vo(j.parser,ht,"script"),ht.body.length>0&&ht.body[0].length>1)throw new h("{subarray} can contain only one column");return ht},htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(j){const $={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},tt=Vo(j.parser,$,js(j.envName));return{type:"leftright",mode:j.mode,body:[tt],left:j.envName.indexOf("r")>-1?".":"\\{",right:j.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Kl,htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(j){mt.contains(["gather","gather*"],j.envName)&&fs(j);const $={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ns(j.envName),emptySingleRow:!0,leqno:j.parser.settings.leqno};return Vo(j.parser,$,"display")},htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Kl,htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(j){fs(j);const $={autoTag:Ns(j.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:j.parser.settings.leqno};return Vo(j.parser,$,"display")},htmlBuilder:ko,mathmlBuilder:Po}),Io({type:"array",names:["CD"],props:{numArgs:0},handler(j){return fs(j),n0(j.parser)},htmlBuilder:ko,mathmlBuilder:Po}),vt("\\nonumber","\\gdef\\@eqnsw{0}"),vt("\\notag","\\nonumber"),wr({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(j,$){throw new h(j.funcName+" valid only within array environment")}});var Ql=Hl;wr({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(j,$){let{parser:tt,funcName:nt}=j;const at=$[0];if(at.type!=="ordgroup")throw new h("Invalid environment name",at);let ht="";for(let ft=0;ft<at.body.length;++ft)ht+=Dr(at.body[ft],"textord").text;if(nt==="\\begin"){if(!Ql.hasOwnProperty(ht))throw new h("No such environment: "+ht,at);const ft=Ql[ht],{args:_t,optArgs:Ct}=tt.parseArguments("\\begin{"+ht+"}",ft),kt={mode:tt.mode,envName:ht,parser:tt},Ot=ft.handler(kt,_t,Ct);tt.expect("\\end",!1);const zt=tt.nextToken,Gt=Dr(tt.parseFunction(),"environment");if(Gt.name!==ht)throw new h("Mismatch: \\begin{"+ht+"} matched by \\end{"+Gt.name+"}",zt);return Ot}return{type:"environment",mode:tt.mode,name:ht,nameGroup:at}}});const Yl=(j,$)=>{const tt=j.font,nt=$.withFont(tt);return zr(j.body,nt)},Xl=(j,$)=>{const tt=j.font,nt=$.withFont(tt);return Zr(j.body,nt)},Zl={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};wr({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(j,$)=>{let{parser:tt,funcName:nt}=j;const at=os($[0]);let ht=nt;return ht in Zl&&(ht=Zl[ht]),{type:"font",mode:tt.mode,font:ht.slice(1),body:at}},htmlBuilder:Yl,mathmlBuilder:Xl}),wr({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(j,$)=>{let{parser:tt}=j;const nt=$[0],at=mt.isCharacterBox(nt);return{type:"mclass",mode:tt.mode,mclass:us(nt),body:[{type:"font",mode:tt.mode,font:"boldsymbol",body:nt}],isCharacterBox:at}}}),wr({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(j,$)=>{let{parser:tt,funcName:nt,breakOnTokenText:at}=j;const{mode:ht}=tt,ft=tt.parseExpression(!0,at),_t="math"+nt.slice(1);return{type:"font",mode:ht,font:_t,body:{type:"ordgroup",mode:tt.mode,body:ft}}},htmlBuilder:Yl,mathmlBuilder:Xl});const Jl=(j,$)=>{let tt=$;return j==="display"?tt=tt.id>=Kt.SCRIPT.id?tt.text():Kt.DISPLAY:j==="text"&&tt.size===Kt.DISPLAY.size?tt=Kt.TEXT:j==="script"?tt=Kt.SCRIPT:j==="scriptscript"&&(tt=Kt.SCRIPTSCRIPT),tt},Os=(j,$)=>{const tt=Jl(j.size,$.style),nt=tt.fracNum(),at=tt.fracDen();let ht;ht=$.havingStyle(nt);const ft=zr(j.numer,ht,$);if(j.continued){const Br=8.5/$.fontMetrics().ptPerEm,Kr=3.5/$.fontMetrics().ptPerEm;ft.height=ft.height<Br?Br:ft.height,ft.depth=ft.depth<Kr?Kr:ft.depth}ht=$.havingStyle(at);const _t=zr(j.denom,ht,$);let Ct,kt,Ot;j.hasBarLine?(j.barSize?(kt=jr(j.barSize,$),Ct=qt.makeLineSpan("frac-line",$,kt)):Ct=qt.makeLineSpan("frac-line",$),kt=Ct.height,Ot=Ct.height):(Ct=null,kt=0,Ot=$.fontMetrics().defaultRuleThickness);let zt,Gt,mr;tt.size===Kt.DISPLAY.size||j.size==="display"?(zt=$.fontMetrics().num1,kt>0?Gt=3*Ot:Gt=7*Ot,mr=$.fontMetrics().denom1):(kt>0?(zt=$.fontMetrics().num2,Gt=Ot):(zt=$.fontMetrics().num3,Gt=3*Ot),mr=$.fontMetrics().denom2);let Sr;if(Ct){const Br=$.fontMetrics().axisHeight;zt-ft.depth-(Br+.5*kt)<Gt&&(zt+=Gt-(zt-ft.depth-(Br+.5*kt))),Br-.5*kt-(_t.height-mr)<Gt&&(mr+=Gt-(Br-.5*kt-(_t.height-mr)));const Kr=-(Br-.5*kt);Sr=qt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_t,shift:mr},{type:"elem",elem:Ct,shift:Kr},{type:"elem",elem:ft,shift:-zt}]},$)}else{const Br=zt-ft.depth-(_t.height-mr);Br<Gt&&(zt+=.5*(Gt-Br),mr+=.5*(Gt-Br)),Sr=qt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_t,shift:mr},{type:"elem",elem:ft,shift:-zt}]},$)}ht=$.havingStyle(tt),Sr.height*=ht.sizeMultiplier/$.sizeMultiplier,Sr.depth*=ht.sizeMultiplier/$.sizeMultiplier;let Ir;tt.size===Kt.DISPLAY.size?Ir=$.fontMetrics().delim1:tt.size===Kt.SCRIPTSCRIPT.size?Ir=$.havingStyle(Kt.SCRIPT).fontMetrics().delim2:Ir=$.fontMetrics().delim2;let Vr,Nr;return j.leftDelim==null?Vr=Yo($,["mopen"]):Vr=Lo.customSizedDelim(j.leftDelim,Ir,!0,$.havingStyle(tt),j.mode,["mopen"]),j.continued?Nr=qt.makeSpan([]):j.rightDelim==null?Nr=Yo($,["mclose"]):Nr=Lo.customSizedDelim(j.rightDelim,Ir,!0,$.havingStyle(tt),j.mode,["mclose"]),qt.makeSpan(["mord"].concat(ht.sizingClasses($)),[Vr,qt.makeSpan(["mfrac"],[Sr]),Nr],$)},Vs=(j,$)=>{let tt=new gr.MathNode("mfrac",[Zr(j.numer,$),Zr(j.denom,$)]);if(!j.hasBarLine)tt.setAttribute("linethickness","0px");else if(j.barSize){const at=jr(j.barSize,$);tt.setAttribute("linethickness",or(at))}const nt=Jl(j.size,$.style);if(nt.size!==$.style.size){tt=new gr.MathNode("mstyle",[tt]);const at=nt.size===Kt.DISPLAY.size?"true":"false";tt.setAttribute("displaystyle",at),tt.setAttribute("scriptlevel","0")}if(j.leftDelim!=null||j.rightDelim!=null){const at=[];if(j.leftDelim!=null){const ht=new gr.MathNode("mo",[new gr.TextNode(j.leftDelim.replace("\\",""))]);ht.setAttribute("fence","true"),at.push(ht)}if(at.push(tt),j.rightDelim!=null){const ht=new gr.MathNode("mo",[new gr.TextNode(j.rightDelim.replace("\\",""))]);ht.setAttribute("fence","true"),at.push(ht)}return Es(at)}return tt};wr({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(j,$)=>{let{parser:tt,funcName:nt}=j;const at=$[0],ht=$[1];let ft,_t=null,Ct=null,kt="auto";switch(nt){case"\\dfrac":case"\\frac":case"\\tfrac":ft=!0;break;case"\\\\atopfrac":ft=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":ft=!1,_t="(",Ct=")";break;case"\\\\bracefrac":ft=!1,_t="\\{",Ct="\\}";break;case"\\\\brackfrac":ft=!1,_t="[",Ct="]";break;default:throw new Error("Unrecognized genfrac command")}switch(nt){case"\\dfrac":case"\\dbinom":kt="display";break;case"\\tfrac":case"\\tbinom":kt="text";break}return{type:"genfrac",mode:tt.mode,continued:!1,numer:at,denom:ht,hasBarLine:ft,leftDelim:_t,rightDelim:Ct,size:kt,barSize:null}},htmlBuilder:Os,mathmlBuilder:Vs}),wr({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(j,$)=>{let{parser:tt,funcName:nt}=j;const at=$[0],ht=$[1];return{type:"genfrac",mode:tt.mode,continued:!0,numer:at,denom:ht,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),wr({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(j){let{parser:$,funcName:tt,token:nt}=j,at;switch(tt){case"\\over":at="\\frac";break;case"\\choose":at="\\binom";break;case"\\atop":at="\\\\atopfrac";break;case"\\brace":at="\\\\bracefrac";break;case"\\brack":at="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:$.mode,replaceWith:at,token:nt}}});const _c=["display","text","script","scriptscript"],eu=function(j){let $=null;return j.length>0&&($=j,$=$==="."?null:$),$};wr({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(j,$){let{parser:tt}=j;const nt=$[4],at=$[5],ht=os($[0]),ft=ht.type==="atom"&&ht.family==="open"?eu(ht.text):null,_t=os($[1]),Ct=_t.type==="atom"&&_t.family==="close"?eu(_t.text):null,kt=Dr($[2],"size");let Ot,zt=null;kt.isBlank?Ot=!0:(zt=kt.value,Ot=zt.number>0);let Gt="auto",mr=$[3];if(mr.type==="ordgroup"){if(mr.body.length>0){const Sr=Dr(mr.body[0],"textord");Gt=_c[Number(Sr.text)]}}else mr=Dr(mr,"textord"),Gt=_c[Number(mr.text)];return{type:"genfrac",mode:tt.mode,numer:nt,denom:at,continued:!1,hasBarLine:Ot,barSize:zt,leftDelim:ft,rightDelim:Ct,size:Gt}},htmlBuilder:Os,mathmlBuilder:Vs}),wr({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(j,$){let{parser:tt,funcName:nt,token:at}=j;return{type:"infix",mode:tt.mode,replaceWith:"\\\\abovefrac",size:Dr($[0],"size").value,token:at}}}),wr({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(j,$)=>{let{parser:tt,funcName:nt}=j;const at=$[0],ht=Tt(Dr($[1],"infix").size),ft=$[2],_t=ht.number>0;return{type:"genfrac",mode:tt.mode,numer:at,denom:ft,continued:!1,hasBarLine:_t,barSize:ht,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Os,mathmlBuilder:Vs});const tu=(j,$)=>{const tt=$.style;let nt,at;j.type==="supsub"?(nt=j.sup?zr(j.sup,$.havingStyle(tt.sup()),$):zr(j.sub,$.havingStyle(tt.sub()),$),at=Dr(j.base,"horizBrace")):at=Dr(j,"horizBrace");const ht=zr(at.base,$.havingBaseStyle(Kt.DISPLAY)),ft=Mo.svgSpan(at,$);let _t;if(at.isOver?(_t=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ht},{type:"kern",size:.1},{type:"elem",elem:ft}]},$),_t.children[0].children[0].children[1].classes.push("svg-align")):(_t=qt.makeVList({positionType:"bottom",positionData:ht.depth+.1+ft.height,children:[{type:"elem",elem:ft},{type:"kern",size:.1},{type:"elem",elem:ht}]},$),_t.children[0].children[0].children[0].classes.push("svg-align")),nt){const Ct=qt.makeSpan(["mord",at.isOver?"mover":"munder"],[_t],$);at.isOver?_t=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ct},{type:"kern",size:.2},{type:"elem",elem:nt}]},$):_t=qt.makeVList({positionType:"bottom",positionData:Ct.depth+.2+nt.height+nt.depth,children:[{type:"elem",elem:nt},{type:"kern",size:.2},{type:"elem",elem:Ct}]},$)}return qt.makeSpan(["mord",at.isOver?"mover":"munder"],[_t],$)};wr({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(j,$){let{parser:tt,funcName:nt}=j;return{type:"horizBrace",mode:tt.mode,label:nt,isOver:/^\\over/.test(nt),base:$[0]}},htmlBuilder:tu,mathmlBuilder:(j,$)=>{const tt=Mo.mathMLnode(j.label);return new gr.MathNode(j.isOver?"mover":"munder",[Zr(j.base,$),tt])}}),wr({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(j,$)=>{let{parser:tt}=j;const nt=$[1],at=Dr($[0],"url").url;return tt.settings.isTrusted({command:"\\href",url:at})?{type:"href",mode:tt.mode,href:at,body:Gn(nt)}:tt.formatUnsupportedCmd("\\href")},htmlBuilder:(j,$)=>{const tt=Zn(j.body,$,!1);return qt.makeAnchor(j.href,[],tt,$)},mathmlBuilder:(j,$)=>{let tt=Oo(j.body,$);return tt instanceof go||(tt=new go("mrow",[tt])),tt.setAttribute("href",j.href),tt}}),wr({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(j,$)=>{let{parser:tt}=j;const nt=Dr($[0],"url").url;if(!tt.settings.isTrusted({command:"\\url",url:nt}))return tt.formatUnsupportedCmd("\\url");const at=[];for(let ft=0;ft<nt.length;ft++){let _t=nt[ft];_t==="~"&&(_t="\\textasciitilde"),at.push({type:"textord",mode:"text",text:_t})}const ht={type:"text",mode:tt.mode,font:"\\texttt",body:at};return{type:"href",mode:tt.mode,href:nt,body:Gn(ht)}}}),wr({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(j,$){let{parser:tt}=j;return{type:"hbox",mode:tt.mode,body:Gn($[0])}},htmlBuilder(j,$){const tt=Zn(j.body,$,!1);return qt.makeFragment(tt)},mathmlBuilder(j,$){return new gr.MathNode("mrow",fo(j.body,$))}}),wr({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(j,$)=>{let{parser:tt,funcName:nt,token:at}=j;const ht=Dr($[0],"raw").string,ft=$[1];tt.settings.strict&&tt.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let _t;const Ct={};switch(nt){case"\\htmlClass":Ct.class=ht,_t={command:"\\htmlClass",class:ht};break;case"\\htmlId":Ct.id=ht,_t={command:"\\htmlId",id:ht};break;case"\\htmlStyle":Ct.style=ht,_t={command:"\\htmlStyle",style:ht};break;case"\\htmlData":{const kt=ht.split(",");for(let Ot=0;Ot<kt.length;Ot++){const zt=kt[Ot].split("=");if(zt.length!==2)throw new h("Error parsing key-value for \\htmlData");Ct["data-"+zt[0].trim()]=zt[1].trim()}_t={command:"\\htmlData",attributes:Ct};break}default:throw new Error("Unrecognized html command")}return tt.settings.isTrusted(_t)?{type:"html",mode:tt.mode,attributes:Ct,body:Gn(ft)}:tt.formatUnsupportedCmd(nt)},htmlBuilder:(j,$)=>{const tt=Zn(j.body,$,!1),nt=["enclosing"];j.attributes.class&&nt.push(...j.attributes.class.trim().split(/\s+/));const at=qt.makeSpan(nt,tt,$);for(const ht in j.attributes)ht!=="class"&&j.attributes.hasOwnProperty(ht)&&at.setAttribute(ht,j.attributes[ht]);return at},mathmlBuilder:(j,$)=>Oo(j.body,$)}),wr({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(j,$)=>{let{parser:tt}=j;return{type:"htmlmathml",mode:tt.mode,html:Gn($[0]),mathml:Gn($[1])}},htmlBuilder:(j,$)=>{const tt=Zn(j.html,$,!1);return qt.makeFragment(tt)},mathmlBuilder:(j,$)=>Oo(j.mathml,$)});const Fs=function(j){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(j))return{number:+j,unit:"bp"};{const $=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(j);if(!$)throw new h("Invalid size: '"+j+"' in \\includegraphics");const tt={number:+($[1]+$[2]),unit:$[3]};if(!qn(tt))throw new h("Invalid unit: '"+tt.unit+"' in \\includegraphics.");return tt}};wr({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(j,$,tt)=>{let{parser:nt}=j,at={number:0,unit:"em"},ht={number:.9,unit:"em"},ft={number:0,unit:"em"},_t="";if(tt[0]){const Ot=Dr(tt[0],"raw").string.split(",");for(let zt=0;zt<Ot.length;zt++){const Gt=Ot[zt].split("=");if(Gt.length===2){const mr=Gt[1].trim();switch(Gt[0].trim()){case"alt":_t=mr;break;case"width":at=Fs(mr);break;case"height":ht=Fs(mr);break;case"totalheight":ft=Fs(mr);break;default:throw new h("Invalid key: '"+Gt[0]+"' in \\includegraphics.")}}}}const Ct=Dr($[0],"url").url;return _t===""&&(_t=Ct,_t=_t.replace(/^.*[\\/]/,""),_t=_t.substring(0,_t.lastIndexOf("."))),nt.settings.isTrusted({command:"\\includegraphics",url:Ct})?{type:"includegraphics",mode:nt.mode,alt:_t,width:at,height:ht,totalheight:ft,src:Ct}:nt.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(j,$)=>{const tt=jr(j.height,$);let nt=0;j.totalheight.number>0&&(nt=jr(j.totalheight,$)-tt);let at=0;j.width.number>0&&(at=jr(j.width,$));const ht={height:or(tt+nt)};at>0&&(ht.width=or(at)),nt>0&&(ht.verticalAlign=or(-nt));const ft=new Ro(j.src,j.alt,ht);return ft.height=tt,ft.depth=nt,ft},mathmlBuilder:(j,$)=>{const tt=new gr.MathNode("mglyph",[]);tt.setAttribute("alt",j.alt);const nt=jr(j.height,$);let at=0;if(j.totalheight.number>0&&(at=jr(j.totalheight,$)-nt,tt.setAttribute("valign",or(-at))),tt.setAttribute("height",or(nt+at)),j.width.number>0){const ht=jr(j.width,$);tt.setAttribute("width",or(ht))}return tt.setAttribute("src",j.src),tt}}),wr({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(j,$){let{parser:tt,funcName:nt}=j;const at=Dr($[0],"size");if(tt.settings.strict){const ht=nt[1]==="m",ft=at.value.unit==="mu";ht?(ft||tt.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+nt+" supports only mu units, "+("not "+at.value.unit+" units")),tt.mode!=="math"&&tt.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+nt+" works only in math mode")):ft&&tt.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+nt+" doesn't support mu units")}return{type:"kern",mode:tt.mode,dimension:at.value}},htmlBuilder(j,$){return qt.makeGlue(j.dimension,$)},mathmlBuilder(j,$){const tt=jr(j.dimension,$);return new gr.SpaceNode(tt)}}),wr({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(j,$)=>{let{parser:tt,funcName:nt}=j;const at=$[0];return{type:"lap",mode:tt.mode,alignment:nt.slice(5),body:at}},htmlBuilder:(j,$)=>{let tt;j.alignment==="clap"?(tt=qt.makeSpan([],[zr(j.body,$)]),tt=qt.makeSpan(["inner"],[tt],$)):tt=qt.makeSpan(["inner"],[zr(j.body,$)]);const nt=qt.makeSpan(["fix"],[]);let at=qt.makeSpan([j.alignment],[tt,nt],$);const ht=qt.makeSpan(["strut"]);return ht.style.height=or(at.height+at.depth),at.depth&&(ht.style.verticalAlign=or(-at.depth)),at.children.unshift(ht),at=qt.makeSpan(["thinbox"],[at],$),qt.makeSpan(["mord","vbox"],[at],$)},mathmlBuilder:(j,$)=>{const tt=new gr.MathNode("mpadded",[Zr(j.body,$)]);if(j.alignment!=="rlap"){const nt=j.alignment==="llap"?"-1":"-0.5";tt.setAttribute("lspace",nt+"width")}return tt.setAttribute("width","0px"),tt}}),wr({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(j,$){let{funcName:tt,parser:nt}=j;const at=nt.mode;nt.switchMode("math");const ht=tt==="\\("?"\\)":"$",ft=nt.parseExpression(!1,ht);return nt.expect(ht),nt.switchMode(at),{type:"styling",mode:nt.mode,style:"text",body:ft}}}),wr({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(j,$){throw new h("Mismatched "+j.funcName)}});const ru=(j,$)=>{switch($.style.size){case Kt.DISPLAY.size:return j.display;case Kt.TEXT.size:return j.text;case Kt.SCRIPT.size:return j.script;case Kt.SCRIPTSCRIPT.size:return j.scriptscript;default:return j.text}};wr({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(j,$)=>{let{parser:tt}=j;return{type:"mathchoice",mode:tt.mode,display:Gn($[0]),text:Gn($[1]),script:Gn($[2]),scriptscript:Gn($[3])}},htmlBuilder:(j,$)=>{const tt=ru(j,$),nt=Zn(tt,$,!1);return qt.makeFragment(nt)},mathmlBuilder:(j,$)=>{const tt=ru(j,$);return Oo(tt,$)}});const nu=(j,$,tt,nt,at,ht,ft)=>{j=qt.makeSpan([],[j]);const _t=tt&&mt.isCharacterBox(tt);let Ct,kt;if($){const Gt=zr($,nt.havingStyle(at.sup()),nt);kt={elem:Gt,kern:Math.max(nt.fontMetrics().bigOpSpacing1,nt.fontMetrics().bigOpSpacing3-Gt.depth)}}if(tt){const Gt=zr(tt,nt.havingStyle(at.sub()),nt);Ct={elem:Gt,kern:Math.max(nt.fontMetrics().bigOpSpacing2,nt.fontMetrics().bigOpSpacing4-Gt.height)}}let Ot;if(kt&&Ct){const Gt=nt.fontMetrics().bigOpSpacing5+Ct.elem.height+Ct.elem.depth+Ct.kern+j.depth+ft;Ot=qt.makeVList({positionType:"bottom",positionData:Gt,children:[{type:"kern",size:nt.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ct.elem,marginLeft:or(-ht)},{type:"kern",size:Ct.kern},{type:"elem",elem:j},{type:"kern",size:kt.kern},{type:"elem",elem:kt.elem,marginLeft:or(ht)},{type:"kern",size:nt.fontMetrics().bigOpSpacing5}]},nt)}else if(Ct){const Gt=j.height-ft;Ot=qt.makeVList({positionType:"top",positionData:Gt,children:[{type:"kern",size:nt.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ct.elem,marginLeft:or(-ht)},{type:"kern",size:Ct.kern},{type:"elem",elem:j}]},nt)}else if(kt){const Gt=j.depth+ft;Ot=qt.makeVList({positionType:"bottom",positionData:Gt,children:[{type:"elem",elem:j},{type:"kern",size:kt.kern},{type:"elem",elem:kt.elem,marginLeft:or(ht)},{type:"kern",size:nt.fontMetrics().bigOpSpacing5}]},nt)}else return j;const zt=[Ot];if(Ct&&ht!==0&&!_t){const Gt=qt.makeSpan(["mspace"],[],nt);Gt.style.marginRight=or(ht),zt.unshift(Gt)}return qt.makeSpan(["mop","op-limits"],zt,nt)},iu=["\\smallint"],Go=(j,$)=>{let tt,nt,at=!1,ht;j.type==="supsub"?(tt=j.sup,nt=j.sub,ht=Dr(j.base,"op"),at=!0):ht=Dr(j,"op");const ft=$.style;let _t=!1;ft.size===Kt.DISPLAY.size&&ht.symbol&&!mt.contains(iu,ht.name)&&(_t=!0);let Ct;if(ht.symbol){const zt=_t?"Size2-Regular":"Size1-Regular";let Gt="";if((ht.name==="\\oiint"||ht.name==="\\oiiint")&&(Gt=ht.name.slice(1),ht.name=Gt==="oiint"?"\\iint":"\\iiint"),Ct=qt.makeSymbol(ht.name,zt,"math",$,["mop","op-symbol",_t?"large-op":"small-op"]),Gt.length>0){const mr=Ct.italic,Sr=qt.staticSvg(Gt+"Size"+(_t?"2":"1"),$);Ct=qt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ct,shift:0},{type:"elem",elem:Sr,shift:_t?.08:0}]},$),ht.name="\\"+Gt,Ct.classes.unshift("mop"),Ct.italic=mr}}else if(ht.body){const zt=Zn(ht.body,$,!0);zt.length===1&&zt[0]instanceof ro?(Ct=zt[0],Ct.classes[0]="mop"):Ct=qt.makeSpan(["mop"],zt,$)}else{const zt=[];for(let Gt=1;Gt<ht.name.length;Gt++)zt.push(qt.mathsym(ht.name[Gt],ht.mode,$));Ct=qt.makeSpan(["mop"],zt,$)}let kt=0,Ot=0;return(Ct instanceof ro||ht.name==="\\oiint"||ht.name==="\\oiiint")&&!ht.suppressBaseShift&&(kt=(Ct.height-Ct.depth)/2-$.fontMetrics().axisHeight,Ot=Ct.italic),at?nu(Ct,tt,nt,$,ft,Ot,kt):(kt&&(Ct.style.position="relative",Ct.style.top=or(kt)),Ct)},es=(j,$)=>{let tt;if(j.symbol)tt=new go("mo",[_o(j.name,j.mode)]),mt.contains(iu,j.name)&&tt.setAttribute("largeop","false");else if(j.body)tt=new go("mo",fo(j.body,$));else{tt=new go("mi",[new Xo(j.name.slice(1))]);const nt=new go("mo",[_o("⁡","text")]);j.parentIsSupSub?tt=new go("mrow",[tt,nt]):tt=_a([tt,nt])}return tt},_0={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};wr({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(j,$)=>{let{parser:tt,funcName:nt}=j,at=nt;return at.length===1&&(at=_0[at]),{type:"op",mode:tt.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:at}},htmlBuilder:Go,mathmlBuilder:es}),wr({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(j,$)=>{let{parser:tt}=j;const nt=$[0];return{type:"op",mode:tt.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Gn(nt)}},htmlBuilder:Go,mathmlBuilder:es});const y0={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};wr({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(j){let{parser:$,funcName:tt}=j;return{type:"op",mode:$.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:tt}},htmlBuilder:Go,mathmlBuilder:es}),wr({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(j){let{parser:$,funcName:tt}=j;return{type:"op",mode:$.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:tt}},htmlBuilder:Go,mathmlBuilder:es}),wr({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(j){let{parser:$,funcName:tt}=j,nt=tt;return nt.length===1&&(nt=y0[nt]),{type:"op",mode:$.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:nt}},htmlBuilder:Go,mathmlBuilder:es});const ou=(j,$)=>{let tt,nt,at=!1,ht;j.type==="supsub"?(tt=j.sup,nt=j.sub,ht=Dr(j.base,"operatorname"),at=!0):ht=Dr(j,"operatorname");let ft;if(ht.body.length>0){const _t=ht.body.map(kt=>{const Ot=kt.text;return typeof Ot=="string"?{type:"textord",mode:kt.mode,text:Ot}:kt}),Ct=Zn(_t,$.withFont("mathrm"),!0);for(let kt=0;kt<Ct.length;kt++){const Ot=Ct[kt];Ot instanceof ro&&(Ot.text=Ot.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}ft=qt.makeSpan(["mop"],Ct,$)}else ft=qt.makeSpan(["mop"],[],$);return at?nu(ft,tt,nt,$,$.style,0,0):ft};wr({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(j,$)=>{let{parser:tt,funcName:nt}=j;const at=$[0];return{type:"operatorname",mode:tt.mode,body:Gn(at),alwaysHandleSupSub:nt==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:ou,mathmlBuilder:(j,$)=>{let tt=fo(j.body,$.withFont("mathrm")),nt=!0;for(let ft=0;ft<tt.length;ft++){const _t=tt[ft];if(!(_t instanceof gr.SpaceNode))if(_t instanceof gr.MathNode)switch(_t.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Ct=_t.children[0];_t.children.length===1&&Ct instanceof gr.TextNode?Ct.text=Ct.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):nt=!1;break}default:nt=!1}else nt=!1}if(nt){const ft=tt.map(_t=>_t.toText()).join("");tt=[new gr.TextNode(ft)]}const at=new gr.MathNode("mi",tt);at.setAttribute("mathvariant","normal");const ht=new gr.MathNode("mo",[_o("⁡","text")]);return j.parentIsSupSub?new gr.MathNode("mrow",[at,ht]):gr.newDocumentFragment([at,ht])}}),vt("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),qo({type:"ordgroup",htmlBuilder(j,$){return j.semisimple?qt.makeFragment(Zn(j.body,$,!1)):qt.makeSpan(["mord"],Zn(j.body,$,!0),$)},mathmlBuilder(j,$){return Oo(j.body,$,!0)}}),wr({type:"overline",names:["\\overline"],props:{numArgs:1},handler(j,$){let{parser:tt}=j;const nt=$[0];return{type:"overline",mode:tt.mode,body:nt}},htmlBuilder(j,$){const tt=zr(j.body,$.havingCrampedStyle()),nt=qt.makeLineSpan("overline-line",$),at=$.fontMetrics().defaultRuleThickness,ht=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:tt},{type:"kern",size:3*at},{type:"elem",elem:nt},{type:"kern",size:at}]},$);return qt.makeSpan(["mord","overline"],[ht],$)},mathmlBuilder(j,$){const tt=new gr.MathNode("mo",[new gr.TextNode("‾")]);tt.setAttribute("stretchy","true");const nt=new gr.MathNode("mover",[Zr(j.body,$),tt]);return nt.setAttribute("accent","true"),nt}}),wr({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(j,$)=>{let{parser:tt}=j;const nt=$[0];return{type:"phantom",mode:tt.mode,body:Gn(nt)}},htmlBuilder:(j,$)=>{const tt=Zn(j.body,$.withPhantom(),!1);return qt.makeFragment(tt)},mathmlBuilder:(j,$)=>{const tt=fo(j.body,$);return new gr.MathNode("mphantom",tt)}}),wr({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(j,$)=>{let{parser:tt}=j;const nt=$[0];return{type:"hphantom",mode:tt.mode,body:nt}},htmlBuilder:(j,$)=>{let tt=qt.makeSpan([],[zr(j.body,$.withPhantom())]);if(tt.height=0,tt.depth=0,tt.children)for(let nt=0;nt<tt.children.length;nt++)tt.children[nt].height=0,tt.children[nt].depth=0;return tt=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:tt}]},$),qt.makeSpan(["mord"],[tt],$)},mathmlBuilder:(j,$)=>{const tt=fo(Gn(j.body),$),nt=new gr.MathNode("mphantom",tt),at=new gr.MathNode("mpadded",[nt]);return at.setAttribute("height","0px"),at.setAttribute("depth","0px"),at}}),wr({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(j,$)=>{let{parser:tt}=j;const nt=$[0];return{type:"vphantom",mode:tt.mode,body:nt}},htmlBuilder:(j,$)=>{const tt=qt.makeSpan(["inner"],[zr(j.body,$.withPhantom())]),nt=qt.makeSpan(["fix"],[]);return qt.makeSpan(["mord","rlap"],[tt,nt],$)},mathmlBuilder:(j,$)=>{const tt=fo(Gn(j.body),$),nt=new gr.MathNode("mphantom",tt),at=new gr.MathNode("mpadded",[nt]);return at.setAttribute("width","0px"),at}}),wr({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(j,$){let{parser:tt}=j;const nt=Dr($[0],"size").value,at=$[1];return{type:"raisebox",mode:tt.mode,dy:nt,body:at}},htmlBuilder(j,$){const tt=zr(j.body,$),nt=jr(j.dy,$);return qt.makeVList({positionType:"shift",positionData:-nt,children:[{type:"elem",elem:tt}]},$)},mathmlBuilder(j,$){const tt=new gr.MathNode("mpadded",[Zr(j.body,$)]),nt=j.dy.number+j.dy.unit;return tt.setAttribute("voffset",nt),tt}}),wr({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(j){let{parser:$}=j;return{type:"internal",mode:$.mode}}}),wr({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(j,$,tt){let{parser:nt}=j;const at=tt[0],ht=Dr($[0],"size"),ft=Dr($[1],"size");return{type:"rule",mode:nt.mode,shift:at&&Dr(at,"size").value,width:ht.value,height:ft.value}},htmlBuilder(j,$){const tt=qt.makeSpan(["mord","rule"],[],$),nt=jr(j.width,$),at=jr(j.height,$),ht=j.shift?jr(j.shift,$):0;return tt.style.borderRightWidth=or(nt),tt.style.borderTopWidth=or(at),tt.style.bottom=or(ht),tt.width=nt,tt.height=at+ht,tt.depth=-ht,tt.maxFontSize=at*1.125*$.sizeMultiplier,tt},mathmlBuilder(j,$){const tt=jr(j.width,$),nt=jr(j.height,$),at=j.shift?jr(j.shift,$):0,ht=$.color&&$.getColor()||"black",ft=new gr.MathNode("mspace");ft.setAttribute("mathbackground",ht),ft.setAttribute("width",or(tt)),ft.setAttribute("height",or(nt));const _t=new gr.MathNode("mpadded",[ft]);return at>=0?_t.setAttribute("height",or(at)):(_t.setAttribute("height",or(at)),_t.setAttribute("depth",or(-at))),_t.setAttribute("voffset",or(at)),_t}});function su(j,$,tt){const nt=Zn(j,$,!1),at=$.sizeMultiplier/tt.sizeMultiplier;for(let ht=0;ht<nt.length;ht++){const ft=nt[ht].classes.indexOf("sizing");ft<0?Array.prototype.push.apply(nt[ht].classes,$.sizingClasses(tt)):nt[ht].classes[ft+1]==="reset-size"+$.size&&(nt[ht].classes[ft+1]="reset-size"+tt.size),nt[ht].height*=at,nt[ht].depth*=at}return qt.makeFragment(nt)}const au=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];wr({type:"sizing",names:au,props:{numArgs:0,allowedInText:!0},handler:(j,$)=>{let{breakOnTokenText:tt,funcName:nt,parser:at}=j;const ht=at.parseExpression(!1,tt);return{type:"sizing",mode:at.mode,size:au.indexOf(nt)+1,body:ht}},htmlBuilder:(j,$)=>{const tt=$.havingSize(j.size);return su(j.body,tt,$)},mathmlBuilder:(j,$)=>{const tt=$.havingSize(j.size),nt=fo(j.body,tt),at=new gr.MathNode("mstyle",nt);return at.setAttribute("mathsize",or(tt.sizeMultiplier)),at}}),wr({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(j,$,tt)=>{let{parser:nt}=j,at=!1,ht=!1;const ft=tt[0]&&Dr(tt[0],"ordgroup");if(ft){let Ct="";for(let kt=0;kt<ft.body.length;++kt)if(Ct=ft.body[kt].text,Ct==="t")at=!0;else if(Ct==="b")ht=!0;else{at=!1,ht=!1;break}}else at=!0,ht=!0;const _t=$[0];return{type:"smash",mode:nt.mode,body:_t,smashHeight:at,smashDepth:ht}},htmlBuilder:(j,$)=>{const tt=qt.makeSpan([],[zr(j.body,$)]);if(!j.smashHeight&&!j.smashDepth)return tt;if(j.smashHeight&&(tt.height=0,tt.children))for(let at=0;at<tt.children.length;at++)tt.children[at].height=0;if(j.smashDepth&&(tt.depth=0,tt.children))for(let at=0;at<tt.children.length;at++)tt.children[at].depth=0;const nt=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:tt}]},$);return qt.makeSpan(["mord"],[nt],$)},mathmlBuilder:(j,$)=>{const tt=new gr.MathNode("mpadded",[Zr(j.body,$)]);return j.smashHeight&&tt.setAttribute("height","0px"),j.smashDepth&&tt.setAttribute("depth","0px"),tt}}),wr({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(j,$,tt){let{parser:nt}=j;const at=tt[0],ht=$[0];return{type:"sqrt",mode:nt.mode,body:ht,index:at}},htmlBuilder(j,$){let tt=zr(j.body,$.havingCrampedStyle());tt.height===0&&(tt.height=$.fontMetrics().xHeight),tt=qt.wrapFragment(tt,$);const at=$.fontMetrics().defaultRuleThickness;let ht=at;$.style.id<Kt.TEXT.id&&(ht=$.fontMetrics().xHeight);let ft=at+ht/4;const _t=tt.height+tt.depth+ft+at,{span:Ct,ruleWidth:kt,advanceWidth:Ot}=Lo.sqrtImage(_t,$),zt=Ct.height-kt;zt>tt.height+tt.depth+ft&&(ft=(ft+zt-tt.height-tt.depth)/2);const Gt=Ct.height-tt.height-ft-kt;tt.style.paddingLeft=or(Ot);const mr=qt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:tt,wrapperClasses:["svg-align"]},{type:"kern",size:-(tt.height+Gt)},{type:"elem",elem:Ct},{type:"kern",size:kt}]},$);if(j.index){const Sr=$.havingStyle(Kt.SCRIPTSCRIPT),Ir=zr(j.index,Sr,$),Vr=.6*(mr.height-mr.depth),Nr=qt.makeVList({positionType:"shift",positionData:-Vr,children:[{type:"elem",elem:Ir}]},$),Br=qt.makeSpan(["root"],[Nr]);return qt.makeSpan(["mord","sqrt"],[Br,mr],$)}else return qt.makeSpan(["mord","sqrt"],[mr],$)},mathmlBuilder(j,$){const{body:tt,index:nt}=j;return nt?new gr.MathNode("mroot",[Zr(tt,$),Zr(nt,$)]):new gr.MathNode("msqrt",[Zr(tt,$)])}});const lu={display:Kt.DISPLAY,text:Kt.TEXT,script:Kt.SCRIPT,scriptscript:Kt.SCRIPTSCRIPT};wr({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(j,$){let{breakOnTokenText:tt,funcName:nt,parser:at}=j;const ht=at.parseExpression(!0,tt),ft=nt.slice(1,nt.length-5);return{type:"styling",mode:at.mode,style:ft,body:ht}},htmlBuilder(j,$){const tt=lu[j.style],nt=$.havingStyle(tt).withFont("");return su(j.body,nt,$)},mathmlBuilder(j,$){const tt=lu[j.style],nt=$.havingStyle(tt),at=fo(j.body,nt),ht=new gr.MathNode("mstyle",at),_t={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[j.style];return ht.setAttribute("scriptlevel",_t[0]),ht.setAttribute("displaystyle",_t[1]),ht}});const x0=function(j,$){const tt=j.base;return tt?tt.type==="op"?tt.limits&&($.style.size===Kt.DISPLAY.size||tt.alwaysHandleSupSub)?Go:null:tt.type==="operatorname"?tt.alwaysHandleSupSub&&($.style.size===Kt.DISPLAY.size||tt.limits)?ou:null:tt.type==="accent"?mt.isCharacterBox(tt.base)?ws:null:tt.type==="horizBrace"&&!j.sub===tt.isOver?tu:null:null};qo({type:"supsub",htmlBuilder(j,$){const tt=x0(j,$);if(tt)return tt(j,$);const{base:nt,sup:at,sub:ht}=j,ft=zr(nt,$);let _t,Ct;const kt=$.fontMetrics();let Ot=0,zt=0;const Gt=nt&&mt.isCharacterBox(nt);if(at){const Kr=$.havingStyle($.style.sup());_t=zr(at,Kr,$),Gt||(Ot=ft.height-Kr.fontMetrics().supDrop*Kr.sizeMultiplier/$.sizeMultiplier)}if(ht){const Kr=$.havingStyle($.style.sub());Ct=zr(ht,Kr,$),Gt||(zt=ft.depth+Kr.fontMetrics().subDrop*Kr.sizeMultiplier/$.sizeMultiplier)}let mr;$.style===Kt.DISPLAY?mr=kt.sup1:$.style.cramped?mr=kt.sup3:mr=kt.sup2;const Sr=$.sizeMultiplier,Ir=or(.5/kt.ptPerEm/Sr);let Vr=null;if(Ct){const Kr=j.base&&j.base.type==="op"&&j.base.name&&(j.base.name==="\\oiint"||j.base.name==="\\oiiint");(ft instanceof ro||Kr)&&(Vr=or(-ft.italic))}let Nr;if(_t&&Ct){Ot=Math.max(Ot,mr,_t.depth+.25*kt.xHeight),zt=Math.max(zt,kt.sub2);const Jr=4*kt.defaultRuleThickness;if(Ot-_t.depth-(Ct.height-zt)<Jr){zt=Jr-(Ot-_t.depth)+Ct.height;const _i=.8*kt.xHeight-(Ot-_t.depth);_i>0&&(Ot+=_i,zt-=_i)}const uo=[{type:"elem",elem:Ct,shift:zt,marginRight:Ir,marginLeft:Vr},{type:"elem",elem:_t,shift:-Ot,marginRight:Ir}];Nr=qt.makeVList({positionType:"individualShift",children:uo},$)}else if(Ct){zt=Math.max(zt,kt.sub1,Ct.height-.8*kt.xHeight);const Kr=[{type:"elem",elem:Ct,marginLeft:Vr,marginRight:Ir}];Nr=qt.makeVList({positionType:"shift",positionData:zt,children:Kr},$)}else if(_t)Ot=Math.max(Ot,mr,_t.depth+.25*kt.xHeight),Nr=qt.makeVList({positionType:"shift",positionData:-Ot,children:[{type:"elem",elem:_t,marginRight:Ir}]},$);else throw new Error("supsub must have either sup or sub.");const Br=vs(ft,"right")||"mord";return qt.makeSpan([Br],[ft,qt.makeSpan(["msupsub"],[Nr])],$)},mathmlBuilder(j,$){let tt=!1,nt,at;j.base&&j.base.type==="horizBrace"&&(at=!!j.sup,at===j.base.isOver&&(tt=!0,nt=j.base.isOver)),j.base&&(j.base.type==="op"||j.base.type==="operatorname")&&(j.base.parentIsSupSub=!0);const ht=[Zr(j.base,$)];j.sub&&ht.push(Zr(j.sub,$)),j.sup&&ht.push(Zr(j.sup,$));let ft;if(tt)ft=nt?"mover":"munder";else if(j.sub)if(j.sup){const _t=j.base;_t&&_t.type==="op"&&_t.limits&&$.style===Kt.DISPLAY||_t&&_t.type==="operatorname"&&_t.alwaysHandleSupSub&&($.style===Kt.DISPLAY||_t.limits)?ft="munderover":ft="msubsup"}else{const _t=j.base;_t&&_t.type==="op"&&_t.limits&&($.style===Kt.DISPLAY||_t.alwaysHandleSupSub)||_t&&_t.type==="operatorname"&&_t.alwaysHandleSupSub&&(_t.limits||$.style===Kt.DISPLAY)?ft="munder":ft="msub"}else{const _t=j.base;_t&&_t.type==="op"&&_t.limits&&($.style===Kt.DISPLAY||_t.alwaysHandleSupSub)||_t&&_t.type==="operatorname"&&_t.alwaysHandleSupSub&&(_t.limits||$.style===Kt.DISPLAY)?ft="mover":ft="msup"}return new gr.MathNode(ft,ht)}}),qo({type:"atom",htmlBuilder(j,$){return qt.mathsym(j.text,j.mode,$,["m"+j.family])},mathmlBuilder(j,$){const tt=new gr.MathNode("mo",[_o(j.text,j.mode)]);if(j.family==="bin"){const nt=Cs(j,$);nt==="bold-italic"&&tt.setAttribute("mathvariant",nt)}else j.family==="punct"?tt.setAttribute("separator","true"):(j.family==="open"||j.family==="close")&&tt.setAttribute("stretchy","false");return tt}});const cu={mi:"italic",mn:"normal",mtext:"normal"};qo({type:"mathord",htmlBuilder(j,$){return qt.makeOrd(j,$,"mathord")},mathmlBuilder(j,$){const tt=new gr.MathNode("mi",[_o(j.text,j.mode,$)]),nt=Cs(j,$)||"italic";return nt!==cu[tt.type]&&tt.setAttribute("mathvariant",nt),tt}}),qo({type:"textord",htmlBuilder(j,$){return qt.makeOrd(j,$,"textord")},mathmlBuilder(j,$){const tt=_o(j.text,j.mode,$),nt=Cs(j,$)||"normal";let at;return j.mode==="text"?at=new gr.MathNode("mtext",[tt]):/[0-9]/.test(j.text)?at=new gr.MathNode("mn",[tt]):j.text==="\\prime"?at=new gr.MathNode("mo",[tt]):at=new gr.MathNode("mi",[tt]),nt!==cu[at.type]&&at.setAttribute("mathvariant",nt),at}});const Bs={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},zs={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};qo({type:"spacing",htmlBuilder(j,$){if(zs.hasOwnProperty(j.text)){const tt=zs[j.text].className||"";if(j.mode==="text"){const nt=qt.makeOrd(j,$,"textord");return nt.classes.push(tt),nt}else return qt.makeSpan(["mspace",tt],[qt.mathsym(j.text,j.mode,$)],$)}else{if(Bs.hasOwnProperty(j.text))return qt.makeSpan(["mspace",Bs[j.text]],[],$);throw new h('Unknown type of space "'+j.text+'"')}},mathmlBuilder(j,$){let tt;if(zs.hasOwnProperty(j.text))tt=new gr.MathNode("mtext",[new gr.TextNode(" ")]);else{if(Bs.hasOwnProperty(j.text))return new gr.MathNode("mspace");throw new h('Unknown type of space "'+j.text+'"')}return tt}});const uu=()=>{const j=new gr.MathNode("mtd",[]);return j.setAttribute("width","50%"),j};qo({type:"tag",mathmlBuilder(j,$){const tt=new gr.MathNode("mtable",[new gr.MathNode("mtr",[uu(),new gr.MathNode("mtd",[Oo(j.body,$)]),uu(),new gr.MathNode("mtd",[Oo(j.tag,$)])])]);return tt.setAttribute("width","100%"),tt}});const hu={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},du={"\\textbf":"textbf","\\textmd":"textmd"},v0={"\\textit":"textit","\\textup":"textup"},fu=(j,$)=>{const tt=j.font;return tt?hu[tt]?$.withTextFontFamily(hu[tt]):du[tt]?$.withTextFontWeight(du[tt]):$.withTextFontShape(v0[tt]):$};wr({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(j,$){let{parser:tt,funcName:nt}=j;const at=$[0];return{type:"text",mode:tt.mode,body:Gn(at),font:nt}},htmlBuilder(j,$){const tt=fu(j,$),nt=Zn(j.body,tt,!0);return qt.makeSpan(["mord","text"],nt,tt)},mathmlBuilder(j,$){const tt=fu(j,$);return Oo(j.body,tt)}}),wr({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(j,$){let{parser:tt}=j;return{type:"underline",mode:tt.mode,body:$[0]}},htmlBuilder(j,$){const tt=zr(j.body,$),nt=qt.makeLineSpan("underline-line",$),at=$.fontMetrics().defaultRuleThickness,ht=qt.makeVList({positionType:"top",positionData:tt.height,children:[{type:"kern",size:at},{type:"elem",elem:nt},{type:"kern",size:3*at},{type:"elem",elem:tt}]},$);return qt.makeSpan(["mord","underline"],[ht],$)},mathmlBuilder(j,$){const tt=new gr.MathNode("mo",[new gr.TextNode("‾")]);tt.setAttribute("stretchy","true");const nt=new gr.MathNode("munder",[Zr(j.body,$),tt]);return nt.setAttribute("accentunder","true"),nt}}),wr({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(j,$){let{parser:tt}=j;return{type:"vcenter",mode:tt.mode,body:$[0]}},htmlBuilder(j,$){const tt=zr(j.body,$),nt=$.fontMetrics().axisHeight,at=.5*(tt.height-nt-(tt.depth+nt));return qt.makeVList({positionType:"shift",positionData:at,children:[{type:"elem",elem:tt}]},$)},mathmlBuilder(j,$){return new gr.MathNode("mpadded",[Zr(j.body,$)],["vcenter"])}}),wr({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(j,$,tt){throw new h("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(j,$){const tt=pu(j),nt=[],at=$.havingStyle($.style.text());for(let ht=0;ht<tt.length;ht++){let ft=tt[ht];ft==="~"&&(ft="\\textasciitilde"),nt.push(qt.makeSymbol(ft,"Typewriter-Regular",j.mode,at,["mord","texttt"]))}return qt.makeSpan(["mord","text"].concat(at.sizingClasses($)),qt.tryCombineChars(nt),at)},mathmlBuilder(j,$){const tt=new gr.TextNode(pu(j)),nt=new gr.MathNode("mtext",[tt]);return nt.setAttribute("mathvariant","monospace"),nt}});const pu=j=>j.body.replace(/ /g,j.star?"␣":" ");var Fo=Js;const mu=`[ \r
	]`,T0="\\\\[a-zA-Z@]+",E0="\\\\[^\uD800-\uDFFF]",C0="("+T0+")"+mu+"*",b0=`\\\\(
|[ \r	]+
?)[ \r	]*`,Us="[̀-ͯ]",w0=new RegExp(Us+"+$"),S0="("+mu+"+)|"+(b0+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(Us+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Us+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+C0)+("|"+E0+")");class gu{constructor($,tt){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=$,this.settings=tt,this.tokenRegex=new RegExp(S0,"g"),this.catcodes={"%":14,"~":13}}setCatcode($,tt){this.catcodes[$]=tt}lex(){const $=this.input,tt=this.tokenRegex.lastIndex;if(tt===$.length)return new yo("EOF",new po(this,tt,tt));const nt=this.tokenRegex.exec($);if(nt===null||nt.index!==tt)throw new h("Unexpected character: '"+$[tt]+"'",new yo($[tt],new po(this,tt,tt+1)));const at=nt[6]||nt[3]||(nt[2]?"\\ ":" ");if(this.catcodes[at]===14){const ht=$.indexOf(`
`,this.tokenRegex.lastIndex);return ht===-1?(this.tokenRegex.lastIndex=$.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=ht+1,this.lex()}return new yo(at,new po(this,tt,this.tokenRegex.lastIndex))}}class R0{constructor($,tt){$===void 0&&($={}),tt===void 0&&(tt={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=tt,this.builtins=$,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new h("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const $=this.undefStack.pop();for(const tt in $)$.hasOwnProperty(tt)&&($[tt]==null?delete this.current[tt]:this.current[tt]=$[tt])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has($){return this.current.hasOwnProperty($)||this.builtins.hasOwnProperty($)}get($){return this.current.hasOwnProperty($)?this.current[$]:this.builtins[$]}set($,tt,nt){if(nt===void 0&&(nt=!1),nt){for(let at=0;at<this.undefStack.length;at++)delete this.undefStack[at][$];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][$]=tt)}else{const at=this.undefStack[this.undefStack.length-1];at&&!at.hasOwnProperty($)&&(at[$]=this.current[$])}tt==null?delete this.current[$]:this.current[$]=tt}}var A0=Wl;vt("\\noexpand",function(j){const $=j.popToken();return j.isExpandable($.text)&&($.noexpand=!0,$.treatAsRelax=!0),{tokens:[$],numArgs:0}}),vt("\\expandafter",function(j){const $=j.popToken();return j.expandOnce(!0),{tokens:[$],numArgs:0}}),vt("\\@firstoftwo",function(j){return{tokens:j.consumeArgs(2)[0],numArgs:0}}),vt("\\@secondoftwo",function(j){return{tokens:j.consumeArgs(2)[1],numArgs:0}}),vt("\\@ifnextchar",function(j){const $=j.consumeArgs(3);j.consumeSpaces();const tt=j.future();return $[0].length===1&&$[0][0].text===tt.text?{tokens:$[1],numArgs:0}:{tokens:$[2],numArgs:0}}),vt("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),vt("\\TextOrMath",function(j){const $=j.consumeArgs(2);return j.mode==="text"?{tokens:$[0],numArgs:0}:{tokens:$[1],numArgs:0}});const _u={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};vt("\\char",function(j){let $=j.popToken(),tt,nt="";if($.text==="'")tt=8,$=j.popToken();else if($.text==='"')tt=16,$=j.popToken();else if($.text==="`")if($=j.popToken(),$.text[0]==="\\")nt=$.text.charCodeAt(1);else{if($.text==="EOF")throw new h("\\char` missing argument");nt=$.text.charCodeAt(0)}else tt=10;if(tt){if(nt=_u[$.text],nt==null||nt>=tt)throw new h("Invalid base-"+tt+" digit "+$.text);let at;for(;(at=_u[j.future().text])!=null&&at<tt;)nt*=tt,nt+=at,j.popToken()}return"\\@char{"+nt+"}"});const qs=(j,$,tt)=>{let nt=j.consumeArg().tokens;if(nt.length!==1)throw new h("\\newcommand's first argument must be a macro name");const at=nt[0].text,ht=j.isDefined(at);if(ht&&!$)throw new h("\\newcommand{"+at+"} attempting to redefine "+(at+"; use \\renewcommand"));if(!ht&&!tt)throw new h("\\renewcommand{"+at+"} when command "+at+" does not yet exist; use \\newcommand");let ft=0;if(nt=j.consumeArg().tokens,nt.length===1&&nt[0].text==="["){let _t="",Ct=j.expandNextToken();for(;Ct.text!=="]"&&Ct.text!=="EOF";)_t+=Ct.text,Ct=j.expandNextToken();if(!_t.match(/^\s*[0-9]+\s*$/))throw new h("Invalid number of arguments: "+_t);ft=parseInt(_t),nt=j.consumeArg().tokens}return j.macros.set(at,{tokens:nt,numArgs:ft}),""};vt("\\newcommand",j=>qs(j,!1,!0)),vt("\\renewcommand",j=>qs(j,!0,!1)),vt("\\providecommand",j=>qs(j,!0,!0)),vt("\\message",j=>{const $=j.consumeArgs(1)[0];return console.log($.reverse().map(tt=>tt.text).join("")),""}),vt("\\errmessage",j=>{const $=j.consumeArgs(1)[0];return console.error($.reverse().map(tt=>tt.text).join("")),""}),vt("\\show",j=>{const $=j.popToken(),tt=$.text;return console.log($,j.macros.get(tt),Fo[tt],Lr.math[tt],Lr.text[tt]),""}),vt("\\bgroup","{"),vt("\\egroup","}"),vt("~","\\nobreakspace"),vt("\\lq","`"),vt("\\rq","'"),vt("\\aa","\\r a"),vt("\\AA","\\r A"),vt("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),vt("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),vt("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),vt("ℬ","\\mathscr{B}"),vt("ℰ","\\mathscr{E}"),vt("ℱ","\\mathscr{F}"),vt("ℋ","\\mathscr{H}"),vt("ℐ","\\mathscr{I}"),vt("ℒ","\\mathscr{L}"),vt("ℳ","\\mathscr{M}"),vt("ℛ","\\mathscr{R}"),vt("ℭ","\\mathfrak{C}"),vt("ℌ","\\mathfrak{H}"),vt("ℨ","\\mathfrak{Z}"),vt("\\Bbbk","\\Bbb{k}"),vt("·","\\cdotp"),vt("\\llap","\\mathllap{\\textrm{#1}}"),vt("\\rlap","\\mathrlap{\\textrm{#1}}"),vt("\\clap","\\mathclap{\\textrm{#1}}"),vt("\\mathstrut","\\vphantom{(}"),vt("\\underbar","\\underline{\\text{#1}}"),vt("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),vt("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),vt("\\ne","\\neq"),vt("≠","\\neq"),vt("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),vt("∉","\\notin"),vt("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),vt("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),vt("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),vt("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),vt("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),vt("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),vt("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),vt("⟂","\\perp"),vt("‼","\\mathclose{!\\mkern-0.8mu!}"),vt("∌","\\notni"),vt("⌜","\\ulcorner"),vt("⌝","\\urcorner"),vt("⌞","\\llcorner"),vt("⌟","\\lrcorner"),vt("©","\\copyright"),vt("®","\\textregistered"),vt("️","\\textregistered"),vt("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),vt("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),vt("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),vt("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),vt("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),vt("⋮","\\vdots"),vt("\\varGamma","\\mathit{\\Gamma}"),vt("\\varDelta","\\mathit{\\Delta}"),vt("\\varTheta","\\mathit{\\Theta}"),vt("\\varLambda","\\mathit{\\Lambda}"),vt("\\varXi","\\mathit{\\Xi}"),vt("\\varPi","\\mathit{\\Pi}"),vt("\\varSigma","\\mathit{\\Sigma}"),vt("\\varUpsilon","\\mathit{\\Upsilon}"),vt("\\varPhi","\\mathit{\\Phi}"),vt("\\varPsi","\\mathit{\\Psi}"),vt("\\varOmega","\\mathit{\\Omega}"),vt("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),vt("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),vt("\\boxed","\\fbox{$\\displaystyle{#1}$}"),vt("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),vt("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),vt("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");const yu={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};vt("\\dots",function(j){let $="\\dotso";const tt=j.expandAfterFuture().text;return tt in yu?$=yu[tt]:(tt.slice(0,4)==="\\not"||tt in Lr.math&&mt.contains(["bin","rel"],Lr.math[tt].group))&&($="\\dotsb"),$});const Hs={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};vt("\\dotso",function(j){return j.future().text in Hs?"\\ldots\\,":"\\ldots"}),vt("\\dotsc",function(j){const $=j.future().text;return $ in Hs&&$!==","?"\\ldots\\,":"\\ldots"}),vt("\\cdots",function(j){return j.future().text in Hs?"\\@cdots\\,":"\\@cdots"}),vt("\\dotsb","\\cdots"),vt("\\dotsm","\\cdots"),vt("\\dotsi","\\!\\cdots"),vt("\\dotsx","\\ldots\\,"),vt("\\DOTSI","\\relax"),vt("\\DOTSB","\\relax"),vt("\\DOTSX","\\relax"),vt("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),vt("\\,","\\tmspace+{3mu}{.1667em}"),vt("\\thinspace","\\,"),vt("\\>","\\mskip{4mu}"),vt("\\:","\\tmspace+{4mu}{.2222em}"),vt("\\medspace","\\:"),vt("\\;","\\tmspace+{5mu}{.2777em}"),vt("\\thickspace","\\;"),vt("\\!","\\tmspace-{3mu}{.1667em}"),vt("\\negthinspace","\\!"),vt("\\negmedspace","\\tmspace-{4mu}{.2222em}"),vt("\\negthickspace","\\tmspace-{5mu}{.277em}"),vt("\\enspace","\\kern.5em "),vt("\\enskip","\\hskip.5em\\relax"),vt("\\quad","\\hskip1em\\relax"),vt("\\qquad","\\hskip2em\\relax"),vt("\\tag","\\@ifstar\\tag@literal\\tag@paren"),vt("\\tag@paren","\\tag@literal{({#1})}"),vt("\\tag@literal",j=>{if(j.macros.get("\\df@tag"))throw new h("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),vt("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),vt("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),vt("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),vt("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),vt("\\newline","\\\\\\relax"),vt("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const xu=or(On["Main-Regular"][84][1]-.7*On["Main-Regular"][65][1]);vt("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+xu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),vt("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+xu+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),vt("\\hspace","\\@ifstar\\@hspacer\\@hspace"),vt("\\@hspace","\\hskip #1\\relax"),vt("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),vt("\\ordinarycolon",":"),vt("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),vt("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),vt("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),vt("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),vt("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),vt("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),vt("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),vt("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),vt("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),vt("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),vt("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),vt("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),vt("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),vt("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),vt("∷","\\dblcolon"),vt("∹","\\eqcolon"),vt("≔","\\coloneqq"),vt("≕","\\eqqcolon"),vt("⩴","\\Coloneqq"),vt("\\ratio","\\vcentcolon"),vt("\\coloncolon","\\dblcolon"),vt("\\colonequals","\\coloneqq"),vt("\\coloncolonequals","\\Coloneqq"),vt("\\equalscolon","\\eqqcolon"),vt("\\equalscoloncolon","\\Eqqcolon"),vt("\\colonminus","\\coloneq"),vt("\\coloncolonminus","\\Coloneq"),vt("\\minuscolon","\\eqcolon"),vt("\\minuscoloncolon","\\Eqcolon"),vt("\\coloncolonapprox","\\Colonapprox"),vt("\\coloncolonsim","\\Colonsim"),vt("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),vt("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),vt("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),vt("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),vt("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),vt("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),vt("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),vt("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),vt("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),vt("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),vt("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),vt("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),vt("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),vt("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),vt("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),vt("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),vt("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),vt("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),vt("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),vt("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),vt("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),vt("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),vt("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),vt("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),vt("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),vt("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),vt("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),vt("\\imath","\\html@mathml{\\@imath}{ı}"),vt("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),vt("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),vt("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),vt("⟦","\\llbracket"),vt("⟧","\\rrbracket"),vt("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),vt("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),vt("⦃","\\lBrace"),vt("⦄","\\rBrace"),vt("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),vt("⦵","\\minuso"),vt("\\darr","\\downarrow"),vt("\\dArr","\\Downarrow"),vt("\\Darr","\\Downarrow"),vt("\\lang","\\langle"),vt("\\rang","\\rangle"),vt("\\uarr","\\uparrow"),vt("\\uArr","\\Uparrow"),vt("\\Uarr","\\Uparrow"),vt("\\N","\\mathbb{N}"),vt("\\R","\\mathbb{R}"),vt("\\Z","\\mathbb{Z}"),vt("\\alef","\\aleph"),vt("\\alefsym","\\aleph"),vt("\\Alpha","\\mathrm{A}"),vt("\\Beta","\\mathrm{B}"),vt("\\bull","\\bullet"),vt("\\Chi","\\mathrm{X}"),vt("\\clubs","\\clubsuit"),vt("\\cnums","\\mathbb{C}"),vt("\\Complex","\\mathbb{C}"),vt("\\Dagger","\\ddagger"),vt("\\diamonds","\\diamondsuit"),vt("\\empty","\\emptyset"),vt("\\Epsilon","\\mathrm{E}"),vt("\\Eta","\\mathrm{H}"),vt("\\exist","\\exists"),vt("\\harr","\\leftrightarrow"),vt("\\hArr","\\Leftrightarrow"),vt("\\Harr","\\Leftrightarrow"),vt("\\hearts","\\heartsuit"),vt("\\image","\\Im"),vt("\\infin","\\infty"),vt("\\Iota","\\mathrm{I}"),vt("\\isin","\\in"),vt("\\Kappa","\\mathrm{K}"),vt("\\larr","\\leftarrow"),vt("\\lArr","\\Leftarrow"),vt("\\Larr","\\Leftarrow"),vt("\\lrarr","\\leftrightarrow"),vt("\\lrArr","\\Leftrightarrow"),vt("\\Lrarr","\\Leftrightarrow"),vt("\\Mu","\\mathrm{M}"),vt("\\natnums","\\mathbb{N}"),vt("\\Nu","\\mathrm{N}"),vt("\\Omicron","\\mathrm{O}"),vt("\\plusmn","\\pm"),vt("\\rarr","\\rightarrow"),vt("\\rArr","\\Rightarrow"),vt("\\Rarr","\\Rightarrow"),vt("\\real","\\Re"),vt("\\reals","\\mathbb{R}"),vt("\\Reals","\\mathbb{R}"),vt("\\Rho","\\mathrm{P}"),vt("\\sdot","\\cdot"),vt("\\sect","\\S"),vt("\\spades","\\spadesuit"),vt("\\sub","\\subset"),vt("\\sube","\\subseteq"),vt("\\supe","\\supseteq"),vt("\\Tau","\\mathrm{T}"),vt("\\thetasym","\\vartheta"),vt("\\weierp","\\wp"),vt("\\Zeta","\\mathrm{Z}"),vt("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),vt("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),vt("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),vt("\\bra","\\mathinner{\\langle{#1}|}"),vt("\\ket","\\mathinner{|{#1}\\rangle}"),vt("\\braket","\\mathinner{\\langle{#1}\\rangle}"),vt("\\Bra","\\left\\langle#1\\right|"),vt("\\Ket","\\left|#1\\right\\rangle");const vu=j=>$=>{const tt=$.consumeArg().tokens,nt=$.consumeArg().tokens,at=$.consumeArg().tokens,ht=$.consumeArg().tokens,ft=$.macros.get("|"),_t=$.macros.get("\\|");$.macros.beginGroup();const Ct=zt=>Gt=>{j&&(Gt.macros.set("|",ft),at.length&&Gt.macros.set("\\|",_t));let mr=zt;return!zt&&at.length&&Gt.future().text==="|"&&(Gt.popToken(),mr=!0),{tokens:mr?at:nt,numArgs:0}};$.macros.set("|",Ct(!1)),at.length&&$.macros.set("\\|",Ct(!0));const kt=$.consumeArg().tokens,Ot=$.expandTokens([...ht,...kt,...tt]);return $.macros.endGroup(),{tokens:Ot.reverse(),numArgs:0}};vt("\\bra@ket",vu(!1)),vt("\\bra@set",vu(!0)),vt("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),vt("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),vt("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),vt("\\angln","{\\angl n}"),vt("\\blue","\\textcolor{##6495ed}{#1}"),vt("\\orange","\\textcolor{##ffa500}{#1}"),vt("\\pink","\\textcolor{##ff00af}{#1}"),vt("\\red","\\textcolor{##df0030}{#1}"),vt("\\green","\\textcolor{##28ae7b}{#1}"),vt("\\gray","\\textcolor{gray}{#1}"),vt("\\purple","\\textcolor{##9d38bd}{#1}"),vt("\\blueA","\\textcolor{##ccfaff}{#1}"),vt("\\blueB","\\textcolor{##80f6ff}{#1}"),vt("\\blueC","\\textcolor{##63d9ea}{#1}"),vt("\\blueD","\\textcolor{##11accd}{#1}"),vt("\\blueE","\\textcolor{##0c7f99}{#1}"),vt("\\tealA","\\textcolor{##94fff5}{#1}"),vt("\\tealB","\\textcolor{##26edd5}{#1}"),vt("\\tealC","\\textcolor{##01d1c1}{#1}"),vt("\\tealD","\\textcolor{##01a995}{#1}"),vt("\\tealE","\\textcolor{##208170}{#1}"),vt("\\greenA","\\textcolor{##b6ffb0}{#1}"),vt("\\greenB","\\textcolor{##8af281}{#1}"),vt("\\greenC","\\textcolor{##74cf70}{#1}"),vt("\\greenD","\\textcolor{##1fab54}{#1}"),vt("\\greenE","\\textcolor{##0d923f}{#1}"),vt("\\goldA","\\textcolor{##ffd0a9}{#1}"),vt("\\goldB","\\textcolor{##ffbb71}{#1}"),vt("\\goldC","\\textcolor{##ff9c39}{#1}"),vt("\\goldD","\\textcolor{##e07d10}{#1}"),vt("\\goldE","\\textcolor{##a75a05}{#1}"),vt("\\redA","\\textcolor{##fca9a9}{#1}"),vt("\\redB","\\textcolor{##ff8482}{#1}"),vt("\\redC","\\textcolor{##f9685d}{#1}"),vt("\\redD","\\textcolor{##e84d39}{#1}"),vt("\\redE","\\textcolor{##bc2612}{#1}"),vt("\\maroonA","\\textcolor{##ffbde0}{#1}"),vt("\\maroonB","\\textcolor{##ff92c6}{#1}"),vt("\\maroonC","\\textcolor{##ed5fa6}{#1}"),vt("\\maroonD","\\textcolor{##ca337c}{#1}"),vt("\\maroonE","\\textcolor{##9e034e}{#1}"),vt("\\purpleA","\\textcolor{##ddd7ff}{#1}"),vt("\\purpleB","\\textcolor{##c6b9fc}{#1}"),vt("\\purpleC","\\textcolor{##aa87ff}{#1}"),vt("\\purpleD","\\textcolor{##7854ab}{#1}"),vt("\\purpleE","\\textcolor{##543b78}{#1}"),vt("\\mintA","\\textcolor{##f5f9e8}{#1}"),vt("\\mintB","\\textcolor{##edf2df}{#1}"),vt("\\mintC","\\textcolor{##e0e5cc}{#1}"),vt("\\grayA","\\textcolor{##f6f7f7}{#1}"),vt("\\grayB","\\textcolor{##f0f1f2}{#1}"),vt("\\grayC","\\textcolor{##e3e5e6}{#1}"),vt("\\grayD","\\textcolor{##d6d8da}{#1}"),vt("\\grayE","\\textcolor{##babec2}{#1}"),vt("\\grayF","\\textcolor{##888d93}{#1}"),vt("\\grayG","\\textcolor{##626569}{#1}"),vt("\\grayH","\\textcolor{##3b3e40}{#1}"),vt("\\grayI","\\textcolor{##21242c}{#1}"),vt("\\kaBlue","\\textcolor{##314453}{#1}"),vt("\\kaGreen","\\textcolor{##71B307}{#1}");const Tu={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class I0{constructor($,tt,nt){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=tt,this.expansionCount=0,this.feed($),this.macros=new R0(A0,tt.macros),this.mode=nt,this.stack=[]}feed($){this.lexer=new gu($,this.settings)}switchMode($){this.mode=$}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken($){this.stack.push($)}pushTokens($){this.stack.push(...$)}scanArgument($){let tt,nt,at;if($){if(this.consumeSpaces(),this.future().text!=="[")return null;tt=this.popToken(),{tokens:at,end:nt}=this.consumeArg(["]"])}else({tokens:at,start:tt,end:nt}=this.consumeArg());return this.pushToken(new yo("EOF",nt.loc)),this.pushTokens(at),tt.range(nt,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg($){const tt=[],nt=$&&$.length>0;nt||this.consumeSpaces();const at=this.future();let ht,ft=0,_t=0;do{if(ht=this.popToken(),tt.push(ht),ht.text==="{")++ft;else if(ht.text==="}"){if(--ft,ft===-1)throw new h("Extra }",ht)}else if(ht.text==="EOF")throw new h("Unexpected end of input in a macro argument, expected '"+($&&nt?$[_t]:"}")+"'",ht);if($&&nt)if((ft===0||ft===1&&$[_t]==="{")&&ht.text===$[_t]){if(++_t,_t===$.length){tt.splice(-_t,_t);break}}else _t=0}while(ft!==0||nt);return at.text==="{"&&tt[tt.length-1].text==="}"&&(tt.pop(),tt.shift()),tt.reverse(),{tokens:tt,start:at,end:ht}}consumeArgs($,tt){if(tt){if(tt.length!==$+1)throw new h("The length of delimiters doesn't match the number of args!");const at=tt[0];for(let ht=0;ht<at.length;ht++){const ft=this.popToken();if(at[ht]!==ft.text)throw new h("Use of the macro doesn't match its definition",ft)}}const nt=[];for(let at=0;at<$;at++)nt.push(this.consumeArg(tt&&tt[at+1]).tokens);return nt}countExpansion($){if(this.expansionCount+=$,this.expansionCount>this.settings.maxExpand)throw new h("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce($){const tt=this.popToken(),nt=tt.text,at=tt.noexpand?null:this._getExpansion(nt);if(at==null||$&&at.unexpandable){if($&&at==null&&nt[0]==="\\"&&!this.isDefined(nt))throw new h("Undefined control sequence: "+nt);return this.pushToken(tt),!1}this.countExpansion(1);let ht=at.tokens;const ft=this.consumeArgs(at.numArgs,at.delimiters);if(at.numArgs){ht=ht.slice();for(let _t=ht.length-1;_t>=0;--_t){let Ct=ht[_t];if(Ct.text==="#"){if(_t===0)throw new h("Incomplete placeholder at end of macro body",Ct);if(Ct=ht[--_t],Ct.text==="#")ht.splice(_t+1,1);else if(/^[1-9]$/.test(Ct.text))ht.splice(_t,2,...ft[+Ct.text-1]);else throw new h("Not a valid argument number",Ct)}}}return this.pushTokens(ht),ht.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const $=this.stack.pop();return $.treatAsRelax&&($.text="\\relax"),$}throw new Error}expandMacro($){return this.macros.has($)?this.expandTokens([new yo($)]):void 0}expandTokens($){const tt=[],nt=this.stack.length;for(this.pushTokens($);this.stack.length>nt;)if(this.expandOnce(!0)===!1){const at=this.stack.pop();at.treatAsRelax&&(at.noexpand=!1,at.treatAsRelax=!1),tt.push(at)}return this.countExpansion(tt.length),tt}expandMacroAsText($){const tt=this.expandMacro($);return tt&&tt.map(nt=>nt.text).join("")}_getExpansion($){const tt=this.macros.get($);if(tt==null)return tt;if($.length===1){const at=this.lexer.catcodes[$];if(at!=null&&at!==13)return}const nt=typeof tt=="function"?tt(this):tt;if(typeof nt=="string"){let at=0;if(nt.indexOf("#")!==-1){const kt=nt.replace(/##/g,"");for(;kt.indexOf("#"+(at+1))!==-1;)++at}const ht=new gu(nt,this.settings),ft=[];let _t=ht.lex();for(;_t.text!=="EOF";)ft.push(_t),_t=ht.lex();return ft.reverse(),{tokens:ft,numArgs:at}}return nt}isDefined($){return this.macros.has($)||Fo.hasOwnProperty($)||Lr.math.hasOwnProperty($)||Lr.text.hasOwnProperty($)||Tu.hasOwnProperty($)}isExpandable($){const tt=this.macros.get($);return tt!=null?typeof tt=="string"||typeof tt=="function"||!tt.unexpandable:Fo.hasOwnProperty($)&&!Fo[$].primitive}}const Eu=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,ps=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Ws={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Cu={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class ms{constructor($,tt){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new I0($,tt,this.mode),this.settings=tt,this.leftrightDepth=0}expect($,tt){if(tt===void 0&&(tt=!0),this.fetch().text!==$)throw new h("Expected '"+$+"', got '"+this.fetch().text+"'",this.fetch());tt&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode($){this.mode=$,this.gullet.switchMode($)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const $=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),$}finally{this.gullet.endGroups()}}subparse($){const tt=this.nextToken;this.consume(),this.gullet.pushToken(new yo("}")),this.gullet.pushTokens($);const nt=this.parseExpression(!1);return this.expect("}"),this.nextToken=tt,nt}parseExpression($,tt){const nt=[];for(;;){this.mode==="math"&&this.consumeSpaces();const at=this.fetch();if(ms.endOfExpression.indexOf(at.text)!==-1||tt&&at.text===tt||$&&Fo[at.text]&&Fo[at.text].infix)break;const ht=this.parseAtom(tt);if(ht){if(ht.type==="internal")continue}else break;nt.push(ht)}return this.mode==="text"&&this.formLigatures(nt),this.handleInfixNodes(nt)}handleInfixNodes($){let tt=-1,nt;for(let at=0;at<$.length;at++)if($[at].type==="infix"){if(tt!==-1)throw new h("only one infix operator per group",$[at].token);tt=at,nt=$[at].replaceWith}if(tt!==-1&&nt){let at,ht;const ft=$.slice(0,tt),_t=$.slice(tt+1);ft.length===1&&ft[0].type==="ordgroup"?at=ft[0]:at={type:"ordgroup",mode:this.mode,body:ft},_t.length===1&&_t[0].type==="ordgroup"?ht=_t[0]:ht={type:"ordgroup",mode:this.mode,body:_t};let Ct;return nt==="\\\\abovefrac"?Ct=this.callFunction(nt,[at,$[tt],ht],[]):Ct=this.callFunction(nt,[at,ht],[]),[Ct]}else return $}handleSupSubscript($){const tt=this.fetch(),nt=tt.text;this.consume(),this.consumeSpaces();const at=this.parseGroup($);if(!at)throw new h("Expected group after '"+nt+"'",tt);return at}formatUnsupportedCmd($){const tt=[];for(let ht=0;ht<$.length;ht++)tt.push({type:"textord",mode:"text",text:$[ht]});const nt={type:"text",mode:this.mode,body:tt};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[nt]}}parseAtom($){const tt=this.parseGroup("atom",$);if(this.mode==="text")return tt;let nt,at;for(;;){this.consumeSpaces();const ht=this.fetch();if(ht.text==="\\limits"||ht.text==="\\nolimits"){if(tt&&tt.type==="op"){const ft=ht.text==="\\limits";tt.limits=ft,tt.alwaysHandleSupSub=!0}else if(tt&&tt.type==="operatorname")tt.alwaysHandleSupSub&&(tt.limits=ht.text==="\\limits");else throw new h("Limit controls must follow a math operator",ht);this.consume()}else if(ht.text==="^"){if(nt)throw new h("Double superscript",ht);nt=this.handleSupSubscript("superscript")}else if(ht.text==="_"){if(at)throw new h("Double subscript",ht);at=this.handleSupSubscript("subscript")}else if(ht.text==="'"){if(nt)throw new h("Double superscript",ht);const ft={type:"textord",mode:this.mode,text:"\\prime"},_t=[ft];for(this.consume();this.fetch().text==="'";)_t.push(ft),this.consume();this.fetch().text==="^"&&_t.push(this.handleSupSubscript("superscript")),nt={type:"ordgroup",mode:this.mode,body:_t}}else if(ps[ht.text]){const ft=Eu.test(ht.text),_t=[];for(_t.push(new yo(ps[ht.text])),this.consume();;){const kt=this.fetch().text;if(!ps[kt]||Eu.test(kt)!==ft)break;_t.unshift(new yo(ps[kt])),this.consume()}const Ct=this.subparse(_t);ft?at={type:"ordgroup",mode:"math",body:Ct}:nt={type:"ordgroup",mode:"math",body:Ct}}else break}return nt||at?{type:"supsub",mode:this.mode,base:tt,sup:nt,sub:at}:tt}parseFunction($,tt){const nt=this.fetch(),at=nt.text,ht=Fo[at];if(!ht)return null;if(this.consume(),tt&&tt!=="atom"&&!ht.allowedInArgument)throw new h("Got function '"+at+"' with no arguments"+(tt?" as "+tt:""),nt);if(this.mode==="text"&&!ht.allowedInText)throw new h("Can't use function '"+at+"' in text mode",nt);if(this.mode==="math"&&ht.allowedInMath===!1)throw new h("Can't use function '"+at+"' in math mode",nt);const{args:ft,optArgs:_t}=this.parseArguments(at,ht);return this.callFunction(at,ft,_t,nt,$)}callFunction($,tt,nt,at,ht){const ft={funcName:$,parser:this,token:at,breakOnTokenText:ht},_t=Fo[$];if(_t&&_t.handler)return _t.handler(ft,tt,nt);throw new h("No function handler for "+$)}parseArguments($,tt){const nt=tt.numArgs+tt.numOptionalArgs;if(nt===0)return{args:[],optArgs:[]};const at=[],ht=[];for(let ft=0;ft<nt;ft++){let _t=tt.argTypes&&tt.argTypes[ft];const Ct=ft<tt.numOptionalArgs;(tt.primitive&&_t==null||tt.type==="sqrt"&&ft===1&&ht[0]==null)&&(_t="primitive");const kt=this.parseGroupOfType("argument to '"+$+"'",_t,Ct);if(Ct)ht.push(kt);else if(kt!=null)at.push(kt);else throw new h("Null argument, please report this as a bug")}return{args:at,optArgs:ht}}parseGroupOfType($,tt,nt){switch(tt){case"color":return this.parseColorGroup(nt);case"size":return this.parseSizeGroup(nt);case"url":return this.parseUrlGroup(nt);case"math":case"text":return this.parseArgumentGroup(nt,tt);case"hbox":{const at=this.parseArgumentGroup(nt,"text");return at!=null?{type:"styling",mode:at.mode,body:[at],style:"text"}:null}case"raw":{const at=this.parseStringGroup("raw",nt);return at!=null?{type:"raw",mode:"text",string:at.text}:null}case"primitive":{if(nt)throw new h("A primitive argument cannot be optional");const at=this.parseGroup($);if(at==null)throw new h("Expected group as "+$,this.fetch());return at}case"original":case null:case void 0:return this.parseArgumentGroup(nt);default:throw new h("Unknown group type as "+$,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup($,tt){const nt=this.gullet.scanArgument(tt);if(nt==null)return null;let at="",ht;for(;(ht=this.fetch()).text!=="EOF";)at+=ht.text,this.consume();return this.consume(),nt.text=at,nt}parseRegexGroup($,tt){const nt=this.fetch();let at=nt,ht="",ft;for(;(ft=this.fetch()).text!=="EOF"&&$.test(ht+ft.text);)at=ft,ht+=at.text,this.consume();if(ht==="")throw new h("Invalid "+tt+": '"+nt.text+"'",nt);return nt.range(at,ht)}parseColorGroup($){const tt=this.parseStringGroup("color",$);if(tt==null)return null;const nt=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(tt.text);if(!nt)throw new h("Invalid color: '"+tt.text+"'",tt);let at=nt[0];return/^[0-9a-f]{6}$/i.test(at)&&(at="#"+at),{type:"color-token",mode:this.mode,color:at}}parseSizeGroup($){let tt,nt=!1;if(this.gullet.consumeSpaces(),!$&&this.gullet.future().text!=="{"?tt=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):tt=this.parseStringGroup("size",$),!tt)return null;!$&&tt.text.length===0&&(tt.text="0pt",nt=!0);const at=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(tt.text);if(!at)throw new h("Invalid size: '"+tt.text+"'",tt);const ht={number:+(at[1]+at[2]),unit:at[3]};if(!qn(ht))throw new h("Invalid unit: '"+ht.unit+"'",tt);return{type:"size",mode:this.mode,value:ht,isBlank:nt}}parseUrlGroup($){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const tt=this.parseStringGroup("url",$);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),tt==null)return null;const nt=tt.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:nt}}parseArgumentGroup($,tt){const nt=this.gullet.scanArgument($);if(nt==null)return null;const at=this.mode;tt&&this.switchMode(tt),this.gullet.beginGroup();const ht=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const ft={type:"ordgroup",mode:this.mode,loc:nt.loc,body:ht};return tt&&this.switchMode(at),ft}parseGroup($,tt){const nt=this.fetch(),at=nt.text;let ht;if(at==="{"||at==="\\begingroup"){this.consume();const ft=at==="{"?"}":"\\endgroup";this.gullet.beginGroup();const _t=this.parseExpression(!1,ft),Ct=this.fetch();this.expect(ft),this.gullet.endGroup(),ht={type:"ordgroup",mode:this.mode,loc:po.range(nt,Ct),body:_t,semisimple:at==="\\begingroup"||void 0}}else if(ht=this.parseFunction(tt,$)||this.parseSymbol(),ht==null&&at[0]==="\\"&&!Tu.hasOwnProperty(at)){if(this.settings.throwOnError)throw new h("Undefined control sequence: "+at,nt);ht=this.formatUnsupportedCmd(at),this.consume()}return ht}formLigatures($){let tt=$.length-1;for(let nt=0;nt<tt;++nt){const at=$[nt],ht=at.text;ht==="-"&&$[nt+1].text==="-"&&(nt+1<tt&&$[nt+2].text==="-"?($.splice(nt,3,{type:"textord",mode:"text",loc:po.range(at,$[nt+2]),text:"---"}),tt-=2):($.splice(nt,2,{type:"textord",mode:"text",loc:po.range(at,$[nt+1]),text:"--"}),tt-=1)),(ht==="'"||ht==="`")&&$[nt+1].text===ht&&($.splice(nt,2,{type:"textord",mode:"text",loc:po.range(at,$[nt+1]),text:ht+ht}),tt-=1)}}parseSymbol(){const $=this.fetch();let tt=$.text;if(/^\\verb[^a-zA-Z]/.test(tt)){this.consume();let ht=tt.slice(5);const ft=ht.charAt(0)==="*";if(ft&&(ht=ht.slice(1)),ht.length<2||ht.charAt(0)!==ht.slice(-1))throw new h(`\\verb assertion failed --
                    please report what input caused this bug`);return ht=ht.slice(1,-1),{type:"verb",mode:"text",body:ht,star:ft}}Cu.hasOwnProperty(tt[0])&&!Lr[this.mode][tt[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+tt[0]+'" used in math mode',$),tt=Cu[tt[0]]+tt.slice(1));const nt=w0.exec(tt);nt&&(tt=tt.substring(0,nt.index),tt==="i"?tt="ı":tt==="j"&&(tt="ȷ"));let at;if(Lr[this.mode][tt]){this.settings.strict&&this.mode==="math"&&no.indexOf(tt)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+tt[0]+'" used in math mode',$);const ht=Lr[this.mode][tt].group,ft=po.range($);let _t;if(Wo.hasOwnProperty(ht)){const Ct=ht;_t={type:"atom",mode:this.mode,family:Ct,loc:ft,text:tt}}else _t={type:ht,mode:this.mode,loc:ft,text:tt};at=_t}else if(tt.charCodeAt(0)>=128)this.settings.strict&&(Tr(tt.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+tt[0]+'" used in math mode',$):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+tt[0]+'"'+(" ("+tt.charCodeAt(0)+")"),$)),at={type:"textord",mode:"text",loc:po.range($),text:tt};else return null;if(this.consume(),nt)for(let ht=0;ht<nt[0].length;ht++){const ft=nt[0][ht];if(!Ws[ft])throw new h("Unknown accent ' "+ft+"'",$);const _t=Ws[ft][this.mode]||Ws[ft].text;if(!_t)throw new h("Accent "+ft+" unsupported in "+this.mode+" mode",$);at={type:"accent",mode:this.mode,loc:po.range($),label:_t,isStretchy:!1,isShifty:!0,base:at}}return at}}ms.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Gs=function(j,$){if(!(typeof j=="string"||j instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const tt=new ms(j,$);delete tt.gullet.macros.current["\\df@tag"];let nt=tt.parse();if(delete tt.gullet.macros.current["\\current@color"],delete tt.gullet.macros.current["\\color"],tt.gullet.macros.get("\\df@tag")){if(!$.displayMode)throw new h("\\tag works only in display equations");nt=[{type:"tag",mode:"text",body:nt,tag:tt.subparse([new yo("\\df@tag")])}]}return nt};let bu=function(j,$,tt){$.textContent="";const nt=Ks(j,tt).toNode();$.appendChild(nt)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),bu=function(){throw new h("KaTeX doesn't work in quirks mode.")});const k0=function(j,$){return Ks(j,$).toMarkup()},P0=function(j,$){const tt=new bt($);return Gs(j,tt)},wu=function(j,$,tt){if(tt.throwOnError||!(j instanceof h))throw j;const nt=qt.makeSpan(["katex-error"],[new ro($)]);return nt.setAttribute("title",j.toString()),nt.setAttribute("style","color:"+tt.errorColor),nt},Ks=function(j,$){const tt=new bt($);try{const nt=Gs(j,tt);return Gu(nt,j,tt)}catch(nt){return wu(nt,j,tt)}};var $0={version:"0.16.10",render:bu,renderToString:k0,ParseError:h,SETTINGS_SCHEMA:gt,__parse:P0,__renderToDomTree:Ks,__renderToHTMLTree:function(j,$){const tt=new bt($);try{const nt=Gs(j,tt);return Ku(nt,j,tt)}catch(nt){return wu(nt,j,tt)}},__setFontMetrics:io,__defineSymbol:lt,__defineFunction:wr,__defineMacro:vt,__domTree:{Span:Wr,Anchor:Gr,SymbolNode:ro,SvgNode:lo,PathNode:co,LineNode:No}},D0=$0;return a=a.default,a}()})}(katex)),katex.exports}(function(e,o){(function(s,a){a(o,reactExports,propTypesExports,requireKatex())})(commonjsGlobal$1,function(s,a,c,h){Object.defineProperty(s,"__esModule",{value:!0});function g(Et,mt){for(var gt in mt)Object.defineProperty(Et,gt,{enumerable:!0,get:mt[gt]})}g(s,{BlockMath:()=>dt,InlineMath:()=>Tt}),a=rt(a),c=_(c),h=_(h);function _(Et){return Et&&Et.__esModule?Et:{default:Et}}function et(Et){if(typeof WeakMap!="function")return null;var mt=new WeakMap,gt=new WeakMap;return(et=function(xt){return xt?gt:mt})(Et)}function rt(Et,mt){if(!mt&&Et&&Et.__esModule)return Et;if(Et===null||typeof Et!="object"&&typeof Et!="function")return{default:Et};var gt=et(mt);if(gt&&gt.has(Et))return gt.get(Et);var xt={},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var It in Et)if(It!=="default"&&Object.prototype.hasOwnProperty.call(Et,It)){var Ut=bt?Object.getOwnPropertyDescriptor(Et,It):null;Ut&&(Ut.get||Ut.set)?Object.defineProperty(xt,It,Ut):xt[It]=Et[It]}return xt.default=Et,gt&&gt.set(Et,xt),xt}const it=(Et,{displayMode:mt})=>{const gt=({children:xt,errorColor:bt,math:It,renderError:Ut})=>{const Ft=It??xt,{html:Bt,error:cr}=(0,a.useMemo)(()=>{try{return{html:h.default.renderToString(Ft,{displayMode:mt,errorColor:bt,throwOnError:!!Ut}),error:void 0}}catch(Ht){if(Ht instanceof h.default.ParseError||Ht instanceof TypeError)return{error:Ht};throw Ht}},[Ft,bt,Ut]);return cr?Ut?Ut(cr):a.default.createElement(Et,{html:`${cr.message}`}):a.default.createElement(Et,{html:Bt})};return gt.propTypes={children:c.default.string,errorColor:c.default.string,math:c.default.string,renderError:c.default.func},gt},ot={html:c.default.string.isRequired},st=({html:Et})=>a.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:Et}});st.propTypes=ot;const ct=({html:Et})=>a.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:Et}});ct.propTypes=ot;const dt=it(st,{displayMode:!0}),Tt=it(ct,{displayMode:!1})})})(reactKatex,reactKatex.exports);var reactKatexExports=reactKatex.exports;const CalculatorCard=({link:e,description:o,equation:s,click:a})=>jsxRuntimeExports.jsxs("article",{className:CalculadorCardCSS.article,"aria-label":e,style:{overflow:"hidden"},onClick:c=>{a()},children:[jsxRuntimeExports.jsx("h3",{className:CalculadorCardCSS.title,children:e}),jsxRuntimeExports.jsx("p",{className:CalculadorCardCSS.description,children:o}),s!==null&&jsxRuntimeExports.jsx("div",{className:CalculadorCardCSS.latex,children:jsxRuntimeExports.jsx(reactKatexExports.InlineMath,{math:"\\color{blue}"+s})})]}),LatexDiv="_LatexDiv_1bz81_3",title="_title_1bz81_13",LatexStyle={LatexDiv,title};function LatexComponent({equation:e,title:o}){return jsxRuntimeExports.jsxs("div",{className:LatexStyle.LatexDiv,children:[o&&jsxRuntimeExports.jsxs("h6",{className:LatexStyle.title,children:[o," "]}),jsxRuntimeExports.jsx(reactKatexExports.InlineMath,{math:"\\color{blue}"+e})]})}const buttonSend="_buttonSend_9549v_1",ButtonStyle={buttonSend};function ButtonPercentage({onClick:e,content:o,isActive:s,title:a}){const c=s?{backgroundColor:"rgba(0, 0, 255, 0.7)",color:"white"}:{};return jsxRuntimeExports.jsx("button",{className:ButtonStyle.buttonSend,title:a,style:c,type:"button",onClick:e,children:o})}let CMC$1=class{constructor(o,s,a,c,h,g,_,et,rt){this.Hours=o,this.MTBF=s,this.DurationTask=a,this.CostHourWork=c,this.Spares=h,this.OperatingCosts=g,this.LogisticDelay=_,this.UnitCosts=et,this.CostFailure=rt}calculateCMC(){const o=Math.round(this.Hours/this.MTBF);return Math.round(o*(Number(this.DurationTask)*Number(this.CostHourWork)+Number(this.Spares)+Number(this.OperatingCosts)+Number(this.LogisticDelay)+(Number(this.DurationTask)*Number(this.UnitCosts)+Number(this.CostFailure))))}};class CalculateCMC{constructor(o){this.cmc=o}calculateMTBF(o,s){return o/100*s}calculateCorrectiveMaintenance(o,s,a,c,h,g,_,et,rt){return this.cmc.Hours=o,this.cmc.MTBF=s,this.cmc.DurationTask=a,this.cmc.CostHourWork=c,this.cmc.Spares=h,this.cmc.OperatingCosts=g,this.cmc.LogisticDelay=_,this.cmc.UnitCosts=et,this.cmc.CostFailure=rt,this.cmc.calculateCMC()}calculateNF(o,s){return Number(o)/Number(s)}calculateCT(o,s,a,c,h){return Number(o)*Number(s)+Number(a)+Number(c)+Number(h)}calculateCF(o,s,a){return Number(o)*Number(s)+Number(a)}}class CMCService{setvalues(o,s,a,c,h,g,_,et,rt){this.cmc.Hours=o,this.cmc.MTBF=s,this.cmc.DurationTask=a,this.cmc.CostHourWork=c,this.cmc.Spares=h,this.cmc.OperatingCosts=g,this.cmc.LogisticDelay=_,this.cmc.UnitCosts=et,this.cmc.CostFailure=rt}calculateCMC(o,s,a,c,h,g,_,et,rt){const it=new CMC$1(o,s,a,c,h,g,_,et,rt);return new CalculateCMC(it).calculateCorrectiveMaintenance(o,s,a,c,h,g,_,et,rt)}calculateMTBF(o,s){const a=new CMC$1(o,s);return new CalculateCMC(a).calculateMTBF(o,s)}calculateNF(o,s){const a=new CMC$1(o,s);return new CalculateCMC(a).calculateNF(o,s)}calculateCT(o,s,a,c,h){const g=new CMC$1(o,s,a,c,h);return new CalculateCMC(g).calculateCT(o,s,a,c,h)}calculateCF(o,s,a){const c=new CMC$1(o,s,a);return new CalculateCMC(c).calculateCF(o,s,a)}}var NF=0,CT=0,CF=0;const CMC=()=>{const e=()=>{const mt=new CMCService;if(ot.MTBF===""&&a==="")return;let gt;if(_){let xt;rt==="H"&&(xt=mt.calculateMTBF(a,ot.HORA)),rt==="R"&&(xt=mt.calculateMTBF(a,ot.R)),rt==="C"&&(xt=mt.calculateMTBF(a,ot.CTO)),gt=mt.calculateCMC(ot.HORA,xt,ot.DT,ot.CHT,ot.R,ot.CTO,ot.RL,ot.CUP,ot.CFVU),NF=mt.calculateNF(ot.HORA,xt)}else gt=mt.calculateCMC(ot.HORA,ot.MTBF,ot.DT,ot.CHT,ot.R,ot.CTO,ot.RL,ot.CUP,ot.CFVU),NF=mt.calculateNF(ot.HORA,ot.MTBF);CT=mt.calculateCT(ot.DT,ot.CHT,ot.R,ot.CTO,ot.RL),CF=mt.calculateCF(ot.DT,ot.CUP,ot.CFVU),s(gt)},[o,s]=reactExports.useState(null),[a,c]=reactExports.useState(""),[h,g]=reactExports.useState(!0),[_,et]=reactExports.useState(!1),[rt,it]=reactExports.useState(null),[ot,st]=reactExports.useState({HORA:"",MTBF:"",DT:"",CHT:"",R:"",CTO:"",RL:"0",CUP:"",CFVU:""}),ct=mt=>{st({...ot,[mt.target.name]:mt.target.value}),s(null)},dt=async mt=>{mt.preventDefault(),e()},Tt=()=>{et(!_),g(!h),h?st(mt=>({...mt,MTBF:""})):(c(""),it(null))},Et=mt=>()=>{_&&it(mt)};return jsxRuntimeExports.jsxs("div",{style:{overflowAnchor:"auto",overflowY:"auto",height:"90vh"},children:[jsxRuntimeExports.jsxs("form",{onClick:mt=>{mt.stopPropagation()},style:{margin:"8px",display:"flex",gap:"12px",flexDirection:"column",overflowY:"auto"},onSubmit:dt,children:[jsxRuntimeExports.jsx("h3",{children:"Mantenimiento correctivo"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,title:"Horas",onChangeInputValue:ct,id:"HORA",isRequired:!0,type:"number",value:ot.HORA,readOnly:!1}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"end"},children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"MTBF",onChangeInputValue:ct,id:"MTBF",isRequired:!1,type:"number",value:ot.MTBF,readOnly:!h}),jsxRuntimeExports.jsx(ButtonPercentage,{onClick:Tt,content:jsxRuntimeExports.jsx(FaPercentage,{size:15}),isActive:_,title:"Porcentaje para el MTBF"})]}),_==!0&&jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"end",gap:"5px",transformStyle:"initial",transition:"all 0.2"},children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Porcentaje para el MTBF (%)",onChangeInputValue:mt=>c(mt.target.value),id:"MTBFPercentage",isRequired:!1,type:"number",value:a,readOnly:h}),jsxRuntimeExports.jsx(ButtonPercentage,{onClick:Et("H"),content:"H",isActive:rt==="H",title:"Horas"}),jsxRuntimeExports.jsx(ButtonPercentage,{onClick:Et("R"),content:"R",isActive:rt==="R",title:"Repuestos"}),jsxRuntimeExports.jsx(ButtonPercentage,{onClick:Et("C"),content:"C",isActive:rt==="C",title:"Costos operativos"})]}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Duración de la tarea",onChangeInputValue:ct,id:"DT",isRequired:!0,type:"number",value:ot.DT,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Costo por hora de trabajo",onChangeInputValue:ct,id:"CHT",isRequired:!0,type:"number",value:ot.CHT,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Repuestos",onChangeInputValue:ct,id:"R",isRequired:!0,type:"number",value:ot.R,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Costes operativos",onChangeInputValue:ct,id:"CTO",isRequired:!0,type:"number",value:ot.CTO,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Retraso logístico",onChangeInputValue:ct,id:"RL",isRequired:!0,type:"number",value:ot.RL,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Costes unitarios",onChangeInputValue:ct,id:"CUP",isRequired:!0,type:"number",value:ot.CUP,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Coste de la falla",onChangeInputValue:ct,id:"CFVU",isRequired:!0,type:"number",value:ot.CFVU,readOnly:!1}),jsxRuntimeExports.jsx(Button,{title:"Calcular",onSubmit:dt})]}),o!=null&&jsxRuntimeExports.jsx(LatexComponent,{title:"Cálculo:",equation:`\\ CMC =  ${Math.round(NF)} \\cdot \\{{${CT} + ${CF} }\\} = ${Math.round(o)} `,inline:"20px",block:"10px"})]})};let EOQ$1=class{constructor(o,s,a){this.demand=o,this.setupCost=s,this.holdingCost=a}calculateEOQ(){return Math.round(Math.sqrt(2*this.demand*this.setupCost/this.holdingCost))}};class CalculateEOQ{constructor(o){this.eoq=o}calculate(o,s){const a=this.convertToAnnualDemand(o,s);return this.eoq.demand=a,this.eoq.calculateEOQ()}convertToAnnualDemand(o,s){switch(s){case"Diaria":return o*365;case"Semanal":return o*52;case"Anual":return o;default:throw new Error("Frecuencia invalida")}}}class EOQService{setCosts(o,s){this.setupCost=o,this.holdingCost=s}calculateEOQ(o,s){const a=new EOQ$1(o,this.setupCost,this.holdingCost);return new CalculateEOQ(a).calculate(o,s)}getDemand(o,s){const a=new EOQ$1;return new CalculateEOQ(a).convertToAnnualDemand(o,s)}}const paymentOptions="_paymentOptions_108bj_1",optionsContainer="_optionsContainer_108bj_11",option="_option_108bj_11",selected="_selected_108bj_77",radio="_radio_108bj_89",innerCircle="_innerCircle_108bj_109",label="_label_108bj_135",styles={paymentOptions,optionsContainer,option,selected,radio,innerCircle,label},Options=({value:e,onChange:o,options:s,name:a})=>jsxRuntimeExports.jsxs("div",{className:styles.paymentOptions,children:[jsxRuntimeExports.jsx("label",{className:styles.label,children:"Tipo de demanda:"}),jsxRuntimeExports.jsx("div",{className:styles.optionsContainer,children:s.map(c=>jsxRuntimeExports.jsxs("button",{name:a,onClick:()=>o({target:{name:a,value:c.value}}),className:`${styles.option} ${e===c.value?styles.selected:""}`,children:[jsxRuntimeExports.jsx("span",{className:styles.radio,children:e===c.value&&jsxRuntimeExports.jsx("span",{className:styles.innerCircle})}),c.label]},c.value))})]});function EOQ(){const e=[{label:"Diaria",value:"Diaria"},{label:"Semanal",value:"Semanal"},{label:"Anual",value:"Anual"}],o=()=>{const et=new EOQService;et.setCosts(c.S,c.H);const rt=et.calculateEOQ(c.D,c.F);h(it=>({...it,DS:et.getDemand(c.D,c.F)})),a(rt)},[s,a]=reactExports.useState(null),[c,h]=reactExports.useState({D:"",S:"",H:"",F:"Diaria",DS:""}),g=et=>{h({...c,[et.target.name]:et.target.value})},_=et=>{et.preventDefault(),o()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("form",{style:{margin:"10px",display:"flex",gap:"20px",flexDirection:"column"},onSubmit:_,children:[jsxRuntimeExports.jsx("h3",{children:"EOQ"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,value:c.D,onChangeInputValue:g,id:"D",title:"Demanda",type:"number",isRequired:!0,readOnly:!1}),jsxRuntimeExports.jsx(Options,{name:"F",value:c.F,onChange:g,options:e}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,onChangeInputValue:g,type:"number",id:"S",isRequired:!0,title:"Coste de establecimiento",value:c.S,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,onChangeInputValue:g,id:"H",type:"number",value:c.H,isRequired:!0,title:"Coste de mantenimiento",readOnly:!1}),jsxRuntimeExports.jsx(Button,{title:"Calcular",onSubmit:_})]}),s!=null&&jsxRuntimeExports.jsx(LatexComponent,{title:"Cálculo:",equation:`\\sqrt{\\frac{2\\cdot  ${c.DS} \\cdot ${c.S} }{ ${c.H} }} = ${Math.round(s)} `,inline:"20px",block:"10px"})]})}const textFields="_textFields_9tioo_1",info="_info_9tioo_15",table="_table_9tioo_49",LUCTLCSTYLE={textFields,info,table};class LTC{constructor(o,s,a,c,h){Er(this,"Period");Er(this,"Units");Er(this,"MaintainedPeriod");Er(this,"MaintenanceCost");Er(this,"CumulativeMaintenanceCost");Er(this,"Delete",!1);Er(this,"PlannedReception",0);this.Period=o,this.Units=s,this.MaintainedPeriod=a,this.MaintenanceCost=c,this.CumulativeMaintenanceCost=h}}class LUC{constructor(o,s,a,c,h,g,_){Er(this,"Units");Er(this,"S");Er(this,"K");Er(this,"TotalCost");Er(this,"UnitCost");Er(this,"Delete",!1);Er(this,"PlannedReception",0);Er(this,"PeriodString","");Er(this,"UnitString","");this.Units=a,this.S=c,this.K=h,this.TotalCost=_,this.UnitCost=g,this.PeriodString=o,this.UnitString=s}}class CalculateLUCLTC{CalculateLUC(o,s,a,c){let h=[],g="1",_=c[0].toString(),et=0,rt=0,it=o,ot=0;for(let st=0;st<c.length;st++)et+=c[st],rt=ot===0?0:c[st]*ot*s,it=ot===0?o:it+rt,ot++,h.push(new LUC(g,_,et,o,rt,it,it/et)),((st+1)%5===0||st+1===c.length)&&(console.log("prueba",st),rt=0,h[st].Delete=!0,g="",ot=0,_="",et=0),g+=g===""?`${ot+1}`:`+${ot+1}`,_+=_===""?`${c[st+1]}`:`+${c[st+1]}`;return h}CalculateLTC(o,s,a){let c=[],h=0;for(let g=0;g<a.length;g++){let _=a[g]*h*s,et=new LTC(h+1,a[g],h,_,c.length==0||c[g-1].Delete==!0?0:Number((c[g-1].CumulativeMaintenanceCost+_).toFixed(3)));c.push(et),h++,c[g].CumulativeMaintenanceCost>o&&(h=0,c[g].Delete=!0)}return c}}const LUCLTC=()=>{const[e,o]=reactExports.useState({S:2.25,K:.02,LT:1,SEMANAS:8}),s=st=>{o({...e,[st.target.name]:st.target.value}),c(!1),g(!1)},[a,c]=reactExports.useState(!1),[h,g]=reactExports.useState(!1),[_,et]=reactExports.useState([]),[rt,it]=reactExports.useState([]);let ot=new CalculateLUCLTC;return jsxRuntimeExports.jsxs("div",{style:{overflowX:"hidden",overflowY:"auto",margin:"10px",display:"flex",gap:"30px",flexDirection:"column",height:"85vh"},children:[jsxRuntimeExports.jsxs("form",{style:{margin:"10px",display:"flex",gap:"30px",flexDirection:"column"},onSubmit:st=>{st.preventDefault(),c(!0)},children:[jsxRuntimeExports.jsx("h3",{children:"Cálculo de LUC Y LTC"}),jsxRuntimeExports.jsxs("div",{className:LUCTLCSTYLE.textFields,children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!0,title:"Costo de ordenar (S)",onChangeInputValue:s,id:"S",isRequired:!0,type:"number",value:e.S.toString(),readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Costo de mantenimiento (K)",onChangeInputValue:s,id:"K",isRequired:!0,type:"number",value:e.K.toString(),readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Tiempo de entrega (LT)",onChangeInputValue:s,id:"LT",isRequired:!0,type:"number",value:e.LT.toString(),readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,title:"Semanas",onChangeInputValue:s,id:"SEMANAS",isRequired:!0,type:"number",value:e.SEMANAS.toString(),readOnly:!1,compareValue:e.LT}),jsxRuntimeExports.jsx("button",{className:LUCTLCSTYLE.info,children:"Continuar"})]})]}),a&&jsxRuntimeExports.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"20px"},onSubmit:st=>{st.preventDefault();let ct=[];for(let dt=0;dt<st.target.elements.length;dt++)st.target.elements[dt].value!=""&&ct.push(Number.parseFloat(st.target.elements[dt].value));et(ot.CalculateLTC(e.S,e.K,ct)),it(ot.CalculateLUC(e.S,e.K,e.LT,ct)),g(!0)},children:[jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("th",{colSpan:e.SEMANAS,children:"Semanas"})})}),jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{textAlign:"start",fontWeight:"bold"},children:[jsxRuntimeExports.jsx("td",{}),Array.from({length:e.SEMANAS},(st,ct)=>jsxRuntimeExports.jsx("td",{children:ct+1},`semana: ${ct+1}`))]})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Requerimiento bruto"}),Array.from({length:e.SEMANAS},(st,ct)=>jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{onInvalid:dt=>{const Tt=dt.target;Tt.value===""&&Tt.setCustomValidity("Campo requerido"),(Tt.value==="--"||Tt.value==="e")&&Tt.setCustomValidity("Solamente números")},step:"any",style:{border:"none",outline:"none"},type:"number",name:`input: ${ct}`,placeholder:"Digite número",required:!0,onInput:dt=>{dt.target.setCustomValidity(""),h&&g(!1)},autoFocus:ct==0&&!0})},`input: ${ct}`))]}),h&&jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"LTC"}),_.map(st=>st.Delete?jsxRuntimeExports.jsx("td",{style:{textAlign:"start"},children:st.Units}):jsxRuntimeExports.jsx("td",{}))]}),h&&jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:"LUC"}),rt.map(st=>st.Delete?jsxRuntimeExports.jsx("td",{style:{textAlign:"start"},children:st.Units}):jsxRuntimeExports.jsx("td",{}))]})]})]})}),jsxRuntimeExports.jsx("button",{className:LUCTLCSTYLE.info,type:"submit",children:"Calcular"})]}),h&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("th",{colSpan:5,children:"LTC"})})}),jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Período"}),jsxRuntimeExports.jsx("th",{children:"Unidades"}),jsxRuntimeExports.jsx("th",{children:"Períodos mantenidos"}),jsxRuntimeExports.jsx("th",{children:"Costo de mantenimiento"}),jsxRuntimeExports.jsx("th",{children:"Costo de mantenimiento acumulado"})]})}),jsxRuntimeExports.jsx("tbody",{children:_.map(st=>jsxRuntimeExports.jsxs("tr",{style:{backgroundColor:st.Delete?"#ff000052":"",color:st.Delete?"white":"",fontWeight:st.Delete?"bold":""},children:[jsxRuntimeExports.jsx("td",{children:st.Period}),jsxRuntimeExports.jsx("td",{children:st.Units}),jsxRuntimeExports.jsx("td",{children:st.MaintainedPeriod}),jsxRuntimeExports.jsx("td",{children:st.MaintenanceCost}),jsxRuntimeExports.jsx("td",{children:st.CumulativeMaintenanceCost})]}))})]})})}),h&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("th",{colSpan:6,children:"LUC"})})}),jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Período"}),jsxRuntimeExports.jsx("th",{children:"Unidades"}),jsxRuntimeExports.jsx("th",{children:"S"}),jsxRuntimeExports.jsx("th",{children:"K"}),jsxRuntimeExports.jsx("th",{children:"Costo total"}),jsxRuntimeExports.jsx("th",{children:"Costo total de unidades"})]})}),jsxRuntimeExports.jsx("tbody",{children:rt.map(st=>jsxRuntimeExports.jsxs("tr",{style:{backgroundColor:st.Delete?"#ff000052":"",color:st.Delete?"white":"",fontWeight:st.Delete?"bold":""},children:[jsxRuntimeExports.jsx("td",{children:st.PeriodString}),jsxRuntimeExports.jsx("td",{children:st.UnitString}),jsxRuntimeExports.jsx("td",{children:st.S}),jsxRuntimeExports.jsx("td",{children:st.K}),jsxRuntimeExports.jsx("td",{children:st.UnitCost.toPrecision(4)}),jsxRuntimeExports.jsx("td",{children:st.TotalCost.toPrecision(4)})]}))})]})})})]})},Select="_Select_228cd_1",select="_select_228cd_1",cs={Select,select};let CS$1=class{constructor(o,s,a,c){this.demand=o,this.safetyStock=s,this.quantityOrdered=a,this.reviewCycle=c}calculateFixedCost(){return this.quantityOrdered/2+Number(this.safetyStock)}calculateAverageCost(){return Math.round(this.reviewCycle*this.demand/2+Number(this.safetyStock))}};class CalculateCS{constructor(o){this.cs=o}calculateInventoryRotation(o,s,a){const c=this.convertToAnnualDemand(o,a);return Math.round(c/Number(s))}calculateFixedCost(o,s){return this.cs.quantityOrdered=o,this.cs.safetyStock=s,this.cs.calculateFixedCost()}calculateAverageCost(o,s,a){return this.cs.demand=o,this.cs.reviewCycle=s,this.cs.safetyStock=a,this.cs.calculateAverageCost()}convertToAnnualDemand(o,s){switch(s){case"Diaria":return o*365;case"Semanal":return o*52;case"Anual":return o;default:throw new Error("Frecuencia invalida")}}}class CSService{setValues(o,s,a){this.safetyStock=o,this.quantityOrdered=s,this.reviewCycle=a}calculateFixedCost(o,s){const a=new CS$1(o,s);return new CalculateCS(a).calculateFixedCost(o,s)}calculateAverageCost(o,s,a){const c=new CS$1(o,s,a);return new CalculateCS(c).calculateAverageCost(o,s,a)}calculateInventoryRotation(o,s,a){const c=new CS$1(o,s,a);return new CalculateCS(c).calculateInventoryRotation(o,s,a)}getDemand(o,s){const a=new CS$1;return new CalculateCS(a).convertToAnnualDemand(o,s)}}const CS=()=>{const[e,o]=reactExports.useState(null),[s,a]=reactExports.useState("CFP"),c=[{label:"Diaria",value:"Diaria"},{label:"Semanal",value:"Semanal"},{label:"Anual",value:"Anual"}],h=()=>{const it=new CSService;it.setValues(g.SS,g.Q,g.T);let ot=0;s==="CFP"?ot=it.calculateFixedCost(g.Q,g.SS):ot=it.calculateAverageCost(g.D,g.T,g.SS),g.ValorPromedio=ot;const st=it.calculateInventoryRotation(g.D,ot,g.F);_(ct=>({...ct,DS:it.getDemand(g.D,g.F)})),o(st)},[g,_]=reactExports.useState({D:"",SS:"",T:"",Q:"",ValorPromedio:"",F:"Diaria",DS:""}),et=it=>{_({...g,[it.target.name]:it.target.value})},rt=async it=>{it.preventDefault(),h()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("form",{style:{margin:"10px",display:"flex",gap:"20px",flexDirection:"column"},onSubmit:rt,children:[jsxRuntimeExports.jsx("h3",{children:"Control de inventario"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,id:"D",title:"Demanda",isRequired:!0,onChangeInputValue:et,type:"number",value:g.D,readOnly:!1}),jsxRuntimeExports.jsx(Options,{name:"F",value:g.F,onChange:et,options:c}),jsxRuntimeExports.jsx(TextField,{id:"SS",title:"Inventario de seguridad",isRequired:!0,onChangeInputValue:et,type:"number",value:g.SS,readOnly:!1}),s!=""?jsxRuntimeExports.jsx(TextField,{id:s=="CFP"?"Q":"T",title:s!="CFP"?"Ciclo de revisión":"Cantidad pedida",isRequired:!0,onChangeInputValue:et,type:"number",value:s=="CFP"?g.Q:g.T,readOnly:!1}):jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("select",{name:"Select",id:cs.Select,required:!0,value:s,onChange:it=>a(it.target.value),children:[jsxRuntimeExports.jsx("option",{defaultValue:"",value:"",children:"Selecciona costo"}),jsxRuntimeExports.jsx("option",{value:"CFP",children:"Costo fijo por pieza"}),jsxRuntimeExports.jsx("option",{value:"CPP",children:"Costo promedio por pieza"})]}),jsxRuntimeExports.jsx(Button,{title:"Calcular",onSubmit:rt})]}),e!=null&&jsxRuntimeExports.jsx(LatexComponent,{title:"Cálculo:",equation:`\\text{RI = } \\frac{${g.DS} }{${g.ValorPromedio} }  = ${Math.round(e)} `,inline:"20px",block:"10px"})]})},CR=()=>{const[e,o]=reactExports.useState({D:"",T:"",C:""}),[s,a]=reactExports.useState(null),[c,h]=reactExports.useState(null),g=et=>{o({...e,[et.target.name]:et.target.value})},_=et=>{console.log("fasdf"),et.preventDefault();const rt=Number(Math.round(Number(e.D)*Number(e.T)/(60*Number(e.C))));a(rt),h(rt*Number(e.C))};return jsxRuntimeExports.jsxs("form",{onSubmit:_,style:{margin:"10px",display:"flex",gap:"20px",flexDirection:"column"},children:[jsxRuntimeExports.jsx("h3",{children:"Cantidad de recipientes y Inventario Máximo"}),jsxRuntimeExports.jsx(TextField,{autoFocus:!0,value:e.D,onChangeInputValue:g,id:"D",title:"Tasa de demanda",type:"number",isRequired:!0,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,value:e.T,onChangeInputValue:g,id:"T",title:"Tiempo de vuelta de recipientes (Minutos)",type:"number",isRequired:!0,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,value:e.C,onChangeInputValue:g,id:"C",title:"Tamaño del recipientes",type:"number",isRequired:!0,readOnly:!1}),jsxRuntimeExports.jsx(Button,{title:"Calcular",onSubmit:et=>{console.log("fad")}}),s!=null&&jsxRuntimeExports.jsx(LatexComponent,{title:"Cálculo de recipientes:",equation:`\\text{N = } \\frac{${e.D} \\cdot ${e.T} }{60 \\cdot ${e.C}  } = \\text{${s} recipientes } `,inline:"20px",block:"10px"}),c!=null&&jsxRuntimeExports.jsx(LatexComponent,{title:"Cálculo de Inventario máximo:",equation:`\\text{IM = } ${s} \\cdot ${e.C} = \\text{${c} unidades}`,inline:"20px",block:"10px"})]})};function GrLinkNext(e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M2,12 L22,12 M13,3 L22,12 L13,21"},child:[]}]})(e)}class KANBAN{constructor(o,s,a,c,h){Er(this,"Nombre");Er(this,"Demanda");Er(this,"TiempoEntrega");Er(this,"StockSeguridad");Er(this,"AlmacenajePorcentual");Er(this,"AlmacenajeUnidad",0);Er(this,"UnidadKanban",0);this.Nombre=o,this.Demanda=s,this.TiempoEntrega=a,this.StockSeguridad=c,this.AlmacenajePorcentual=h;let g=Number(h*s);g=Math.round(g),this.AlmacenajeUnidad=g,this.UnidadKanban=Number(Math.round(s*a*(1+c)/this.AlmacenajeUnidad))}}const Kanban=()=>{const[e,o]=reactExports.useState(null),[s,a]=reactExports.useState({C:3}),[c,h]=reactExports.useState(!1),g=_=>{a({...s,[_.target.name]:_.target.value}),h(!1),c==!0&&h(!1),Kanban!=null&&o(null)};return jsxRuntimeExports.jsxs("div",{style:{overflowX:"hidden",overflowY:"auto",margin:"10px",display:"flex",gap:"30px",flexDirection:"column",height:"85vh"},children:[jsxRuntimeExports.jsx("h3",{children:"KANBAN"}),jsxRuntimeExports.jsx("form",{onSubmit:_=>{_.preventDefault(),h(!0)},children:jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"end"},children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!0,title:"Costo de ordenar (S)",onChangeInputValue:g,id:"C",isRequired:!0,type:"number",value:s.C.toString(),readOnly:!1}),jsxRuntimeExports.jsx("button",{style:{outline:"none",background:"none",border:"none"},children:jsxRuntimeExports.jsx(GrLinkNext,{size:"25px",color:s.C.toString()===""?"grey":"blue"})})]})}),c&&jsxRuntimeExports.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"25px"},onSubmit:_=>{_.preventDefault();const et=_.currentTarget.elements,rt=Array.from({length:s.C},(it,ot)=>{const st=`Componente ${ot+1}`,ct=et[`Demanda: ${ot}`].value,dt=et[`TiempoEntrega: ${ot}`].value,Tt=et[`Almacenaje: ${ot}`].value,Et=et[`StockSeguridad: ${ot}`].value;return new KANBAN(st,parseFloat(ct),parseFloat(dt),parseFloat(Et),parseFloat(Tt))});o(rt)},children:[jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{textAlign:"start",fontWeight:"bold",fontSize:"11px"},children:[jsxRuntimeExports.jsx("th",{children:"Componentes"}),jsxRuntimeExports.jsx("th",{children:"Demanda"}),jsxRuntimeExports.jsx("th",{children:"Tiempo de entrega"}),jsxRuntimeExports.jsx("th",{children:"Stock de seguridad"}),jsxRuntimeExports.jsx("th",{children:"Almacenaje (porcentual)"})]})}),jsxRuntimeExports.jsx("tbody",{children:Array.from({length:s.C},(_,et)=>jsxRuntimeExports.jsxs("tr",{style:{fontSize:"11px"},children:[jsxRuntimeExports.jsx("td",{children:"Componente "+(et+1)}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{max:"1000000",min:"0",onInvalid:rt=>{const it=rt.target;it.value===""&&it.setCustomValidity("Campo requerido"),(it.value==="--"||it.value==="e")&&it.setCustomValidity("Solamente números"),it.value===""&&it.setCustomValidity("Campo requerido"),(it.value==="--"||it.value==="e")&&it.setCustomValidity("Solamente números")},step:"any",style:{border:"none",outline:"none",fontSize:"11px"},type:"number",name:`Demanda: ${et}`,placeholder:"Digite número",required:!0,onInput:rt=>{rt.target.setCustomValidity("")},autoFocus:et===0&&!0})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{max:"1000000",min:"0",onInvalid:rt=>{const it=rt.target;it.value===""&&it.setCustomValidity("Campo requerido"),(it.value==="--"||it.value==="e")&&it.setCustomValidity("Solamente números")},step:"any",style:{border:"none",outline:"none"},type:"number",name:`TiempoEntrega: ${et}`,placeholder:"Digite número",required:!0,onInput:rt=>{rt.target.setCustomValidity("")}})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{max:"1",min:"0",onInvalid:rt=>{const it=rt.target;it.value===""&&it.setCustomValidity("Campo requerido"),(it.value==="--"||it.value==="e")&&it.setCustomValidity("Solamente números")},step:"any",style:{border:"none",outline:"none",fontSize:"11px"},type:"number",name:`StockSeguridad: ${et}`,placeholder:"Digite número",required:!0,onInput:rt=>{rt.target.setCustomValidity("")}})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{max:"1",min:"0",onInvalid:rt=>{const it=rt.target;it.value===""&&it.setCustomValidity("Campo requerido"),(it.value==="--"||it.value==="e")&&it.setCustomValidity("Solamente números"),Number(it.value)>1&&it.setCustomValidity("Solamente porcentajes")},step:"any",style:{border:"none",outline:"none",fontSize:"11px"},type:"number",name:`Almacenaje: ${et}`,placeholder:"Digite número",required:!0,onInput:rt=>{const it=rt.target;it.setCustomValidity(""),Number(it.value)>1&&it.setCustomValidity("Solamente porcentajes")}})})]},et))})]})}),jsxRuntimeExports.jsx("button",{className:LUCTLCSTYLE.info,type:"submit",children:"Calcular"})]}),e!=null&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{style:{fontSize:"11px"},children:[jsxRuntimeExports.jsx("th",{children:"Componente"}),jsxRuntimeExports.jsx("th",{children:"Unidades"}),jsxRuntimeExports.jsx("th",{children:"Kanbanes"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[e.map(_=>jsxRuntimeExports.jsxs("tr",{style:{fontSize:"11px"},children:[jsxRuntimeExports.jsx("td",{children:_.Nombre}),jsxRuntimeExports.jsx("td",{children:_.AlmacenajeUnidad}),jsxRuntimeExports.jsx("td",{children:_.UnidadKanban})]})),jsxRuntimeExports.jsxs("tr",{style:{fontSize:"11px"},children:[jsxRuntimeExports.jsx("td",{children:"Suma totales: "}),jsxRuntimeExports.jsx("td",{}),jsxRuntimeExports.jsxs("td",{children:[e.reduce((_,et)=>_+et.UnidadKanban,0)," kanbanes"]})]})]})]})})})]})};class ZEROINVENTORY{constructor(o,s,a,c,h,g,_,et,rt,it,ot,st){Er(this,"DiasLaborados");Er(this,"Demanda");Er(this,"UnidadesOperario");Er(this,"OperariosRequeridos");Er(this,"OperariosActuales");Er(this,"OperariosContratados");Er(this,"OperariosDespedidos");Er(this,"OperariosUtilizados");Er(this,"UnidadesProducidas");Er(this,"CostoPorContratar",0);Er(this,"CostoPorDespedir",0);Er(this,"CostoManoObra");Er(this,"CostoTotal",0);this.DiasLaborados=o,this.Demanda=s,this.UnidadesOperario=a,this.OperariosRequeridos=c,this.OperariosActuales=h,this.OperariosContratados=g,this.OperariosDespedidos=_,this.OperariosUtilizados=et,this.UnidadesProducidas=rt,this.CostoPorContratar=it,this.CostoPorDespedir=ot,this.CostoManoObra=st,this.CostoTotal=it+st+ot}}class CALCULATEZI{CalculateZI(o,s,a,c,h,g,_){let et=0,rt=[];for(let it=0;it<g.length;it++){let ot=g[it]*o,st=Math.ceil(_[it]/ot);console.log(_[it],ot,st);let ct=it==0?Number(a):et,dt=st>ct?st-ct:0,Tt=ct>st?ct-st:0;et=ct+dt-Tt,rt.push(new ZEROINVENTORY(g[it],_[it],ot,st,ct,dt,Tt,et,_[it],dt*h,c*Tt,g[it]*et*s))}return rt}}const ZeroInventory=()=>{const[e,o]=reactExports.useState(null),[s,a]=reactExports.useState(!1),c=new CALCULATEZI,[h,g]=reactExports.useState({CDTH:0,PPT:0,MESES:0,OAI:0,CDT:0,CCT:0}),[_,et]=reactExports.useState(!1),rt=ot=>{g({...h,[ot.target.name]:ot.target.value}),a(!1),e!=null&&o(null)},it=ot=>{ot.preventDefault(),a(!0)};return jsxRuntimeExports.jsxs("div",{style:{overflowX:"hidden",overflowY:"auto",margin:"10px",display:"flex",gap:"30px",flexDirection:"column",height:"85vh"},children:[jsxRuntimeExports.jsx("h3",{children:"Inventario cero"}),jsxRuntimeExports.jsxs("form",{style:{justifyContent:"center",display:"flex",gap:"20px",flexDirection:"column"},onSubmit:it,children:[jsxRuntimeExports.jsxs("div",{style:{justifyContent:"center",alignItems:"end",display:"flex",gap:"20px"},children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!0,value:h.PPT===0?"":h.PPT.toString(),onChangeInputValue:rt,id:"PPT",title:"Producción por trabajador",type:"number",isRequired:!0,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,onChangeInputValue:rt,type:"number",id:"MESES",isRequired:!0,title:"Meses",value:h.MESES===0?"":h.MESES.toString(),readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,onChangeInputValue:rt,type:"number",id:"OAI",isRequired:!0,title:"Operarios actuales",value:h.OAI===0?"":h.OAI.toString(),readOnly:!1})]}),jsxRuntimeExports.jsxs("div",{style:{justifyContent:"center",alignItems:"end",display:"flex",gap:"20px"},children:[jsxRuntimeExports.jsx(TextField,{autoFocus:!1,value:h.CDT===0?"":h.CDT.toString(),onChangeInputValue:rt,id:"CDT",title:"Costo de despedir un trabajador",type:"number",isRequired:!0,readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,onChangeInputValue:rt,type:"number",id:"CCT",isRequired:!0,title:"Costo de contratar un trabajador",value:h.CCT===0?"":h.CCT.toString(),readOnly:!1}),jsxRuntimeExports.jsx(TextField,{autoFocus:!1,onChangeInputValue:rt,type:"number",id:"CDTH",isRequired:!0,title:"Costo de trabajador por hornal",value:h.CDTH===0?"":h.CDTH.toString(),readOnly:!1})]}),jsxRuntimeExports.jsx("button",{className:LUCTLCSTYLE.info,type:"submit",children:"Siguiente"})]}),s&&jsxRuntimeExports.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"25px"},onSubmit:ot=>{ot.preventDefault();const st=ot.currentTarget.elements,ct=Array.from({length:h.MESES},(Tt,Et)=>Number(st[`Demanda ${Et}`].value)),dt=Array.from({length:h.MESES},(Tt,Et)=>Number(st[`Labores ${Et}`].value));o(c.CalculateZI(h.PPT,h.CDTH,h.OAI,h.CDT,h.CCT,dt,ct)),console.log(e)},children:[jsxRuntimeExports.jsx("div",{style:{overflowX:"auto"},children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("th",{colSpan:h.MESES+1,children:"Datos iniciales"})})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Dias laborados"}),Array.from({length:h.MESES},(ot,st)=>jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{min:1,max:503,onInvalid:ct=>{const dt=ct.target;dt.value===""&&dt.setCustomValidity("Campo requerido"),(dt.value==="--"||dt.value==="e")&&dt.setCustomValidity("Solamente números"),console.log(dt.value),Number.isInteger(Number(dt.value))||dt.setCustomValidity("Solamente números enteros"),Number(dt.value)<=0&&dt.setCustomValidity("Tiene que se mayor que 0")},step:"any",style:{border:"none",outline:"none"},type:"number",name:`Labores ${st}`,placeholder:"Digite número",required:!0,onInput:ct=>{ct.target.setCustomValidity(""),_&&et(!1)},autoFocus:st==0&&!0})},`input: ${st}`))]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Demanda"}),Array.from({length:h.MESES},(ot,st)=>jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{min:1,max:1e5,onInvalid:ct=>{const dt=ct.target;dt.value===""&&dt.setCustomValidity("Campo requerido"),(dt.value==="--"||dt.value==="e")&&dt.setCustomValidity("Solamente números"),console.log(dt.value),Number.isInteger(Number(dt.value))||dt.setCustomValidity("Solamente números enteros"),Number(dt.value)<=0&&dt.setCustomValidity("Tiene que se mayor que 0")},step:"any",style:{border:"none",outline:"none"},type:"number",name:`Demanda ${st}`,placeholder:"Digite número",required:!0,onInput:ct=>{ct.target.setCustomValidity(""),_&&et(!1)},autoFocus:st==0&&!0})},`input2: ${st}`))]})]})]})}),jsxRuntimeExports.jsx("button",{className:LUCTLCSTYLE.info,type:"submit",children:"Siguiente"})]}),e!=null&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("th",{colSpan:h.MESES+1,children:"Inventario cero"})})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Días laborales"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.DiasLaborados})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.DiasLaborados,0)})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Demanda"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.Demanda.toLocaleString("es-MX")})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.Demanda,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Operarios requeridos"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.OperariosRequeridos})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.OperariosRequeridos,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Operarios Actuales"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.OperariosActuales}))]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Operarios contratados"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.OperariosContratados})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.OperariosContratados,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Operarios despedidos"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.OperariosDespedidos})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.OperariosDespedidos,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Operarios utilizados"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.OperariosUtilizados})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.OperariosUtilizados,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Unidades Producidas"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.UnidadesProducidas.toLocaleString("es-MX")})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.UnidadesProducidas,0).toLocaleString("es-MX")})]})]})]})})}),e!=null&&jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("table",{className:LUCTLCSTYLE.table,style:{marginBottom:"10px"},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("th",{colSpan:h.MESES+1,children:"Costo de plan agregado de producción"})})}),jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Por contratar"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.CostoPorContratar.toLocaleString("es-MX")})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.CostoPorContratar,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Por despedir"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.CostoPorDespedir.toLocaleString("es-MX")})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.CostoPorDespedir,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px"},children:"Por mano de obra"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.CostoManoObra.toLocaleString("es-MX")})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.CostoManoObra,0).toLocaleString("es-MX")})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{fontSize:"13px",paddingRight:"10px",fontWeight:"bold"},children:"Costo total"}),e.map(ot=>jsxRuntimeExports.jsx("td",{children:ot.CostoTotal.toLocaleString("es-MX")})),jsxRuntimeExports.jsx("td",{children:e.reduce((ot,st)=>ot+st.CostoTotal,0).toLocaleString("es-MX")})]})]})]})})})]})},CalculatorPage=()=>{const[e,o]=reactExports.useState("/");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("main",{className:ContentPageCSS.main,children:[jsxRuntimeExports.jsx("h2",{className:ContentPageCSS.titlePage,children:"Ecuaciones"}),jsxRuntimeExports.jsxs("section",{style:{gap:"25px",display:"flex",flexDirection:"column",marginBottom:"25px"},children:[jsxRuntimeExports.jsx(CalculatorCard,{click:()=>o("CMC"),link:"Mantenimiento correctivo",description:"conjunto de tareas técnicas, destinadas a corregir las fallas del equipo que demuestren la necesidad de reparación o reemplazo.",equation:"\\text{CMC = NF} \\cdot \\{CTM + CF\\} "}),jsxRuntimeExports.jsx(CalculatorCard,{click:()=>o("EOQ"),description:"El cálculo del EOQ ayuda a las empresas a equilibrar estos tres costes y a eliminar cualquier gasto innecesario importante.",link:"EOQ",equation:"\\sqrt{\\frac{2 \\cdot D \\cdot S}{H}}"}),jsxRuntimeExports.jsx(CalculatorCard,{click:()=>o("CS"),description:"El control de inventario y la cadena de suministro son componentes esenciales para garantizar una operacin eficiente y efectiva en las empresas. ",link:"Control de inventario y cadena de suministros",equation:"\\text{RI = } \\frac{\\text{Costo de los bienes vendidos}}{\\text{Valor promedio del inventario}}"}),jsxRuntimeExports.jsx(CalculatorCard,{click:()=>o("LUCLTC"),link:"LUC Y LTC",description:"Métodos para encontrar la cantidad óptima de pedidos.",equation:"\\text{Primera iteracion = S+K} "}),jsxRuntimeExports.jsx(CalculatorCard,{click:()=>o("CR"),link:"Cantidad de recipientes y inventario acumulado",description:"Cálculos para determinar recipientes y inventario acumulado que necesita una empresa.",equation:"\\text{N = } \\frac{D \\cdot T}{60 \\cdot C} \\text{ Y } \\text{IM = } N \\cdot C"}),jsxRuntimeExports.jsx(CalculatorCard,{click:()=>o("KANBAN"),link:"Administración de inventario KANBAN",description:"Método para determinar la cantidadd de kanbanes a utilizar dentro de una empresa.",equation:"\\text{K = } \\frac{D \\cdot T \\cdot (1+\\infty) }{C}"}),jsxRuntimeExports.jsx(CalculatorCard,{click:()=>o("ZI"),link:"Inventario cero",description:"Estrategia de planificación logística cuyo objetivo es limitar al máximo el número de existencias alojadas en el almacén para ahorrar espacio y evitar incurrir en costos no productivos.",equation:"\\text{Trabajadores requeridos = } \\frac{Demanda}{ \\text{Unidades por trabajador}}"})]})]}),jsxRuntimeExports.jsx("div",{onClick:()=>o("/"),style:{width:"100vw",height:"100vh",background:"rgb(0,0,0,0.5)",zIndex:"6666",display:e=="/"?"none":"flex",position:"fixed",alignItems:"center",justifyContent:"center"},children:jsxRuntimeExports.jsxs("div",{className:ContentPageCSS.contentForm,style:{width:e==="LUCLTC"||e==="KANBAN"||e==="ZI"?"94vw":"400px"},onClick:s=>{s.stopPropagation()},children:[jsxRuntimeExports.jsx("button",{onClick:()=>o("/"),style:{cursor:"pointer",borderRadius:"50%",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"red",borderColor:"red",borderStyle:"solid",position:"absolute",right:e==="CMC"?"20px":"10px",top:"10px",zIndex:"300"},children:jsxRuntimeExports.jsx(IoCloseSharp,{color:"white"})}),Menu(e)]})})]})};function Menu(e){if(e==="/")return jsxRuntimeExports.jsx("div",{});if(e==="EOQ")return jsxRuntimeExports.jsx(EOQ,{});if(e==="CMC")return jsxRuntimeExports.jsx(CMC,{});if(e==="CS")return jsxRuntimeExports.jsx(CS,{});if(e==="LUCLTC")return jsxRuntimeExports.jsx(LUCLTC,{});if(e==="CR")return jsxRuntimeExports.jsx(CR,{});if(e==="KANBAN")return jsxRuntimeExports.jsx(Kanban,{});if(e==="ZI")return jsxRuntimeExports.jsx(ZeroInventory,{})}const AuthLayout=()=>jsxRuntimeExports.jsx(Outlet,{});function Login(){const[e,o]=reactExports.useState({name:"",password:""}),s=c=>{o({...e,[c.target.name]:c.target.value})},a=async c=>{if(c.preventDefault(),e.name==""||e.password=="")return An.error("Campos obligatorios")};return jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:jsxRuntimeExports.jsxs("form",{style:{width:"300px",display:"flex",alignItems:"center",flexDirection:"column",gap:"30px",justifyContent:"center"},onSubmit:a,children:[jsxRuntimeExports.jsx("h1",{style:{color:"blue",fontSize:"3.2em"},children:"DKM"}),jsxRuntimeExports.jsx(TextField,{readOnly:!1,autoFocus:!0,value:e.name,onChangeInputValue:s,id:"name",isRequired:!0,title:"Nombre de usuario",type:"text"}),jsxRuntimeExports.jsx(TextField,{readOnly:!1,autoFocus:!1,value:e.password,onChangeInputValue:s,id:"password",isRequired:!0,title:"Contraseña",type:"text"}),jsxRuntimeExports.jsx(Button,{title:"Iniciar sesión",onSubmit:a})]})})}const UserContext=reactExports.createContext(null),UserProvider=({children:e})=>{const[o,s]=reactExports.useState("");return jsxRuntimeExports.jsx(UserContext.Provider,{value:{User:o,changeUser:s},children:e})};class ProductServices{constructor(o,s,a){Er(this,"iCollectionModel");Er(this,"iProductModel");Er(this,"iGroupModel");this.iProductModel=o,this.iCollectionModel=s,this.iGroupModel=a}async Create(o){return await this.iProductModel.Create(o)}async Update(o){return await this.iProductModel.Update(o)}async Read(){return await this.iProductModel.Read()}async Delete(o){return await this.iProductModel.Delete(o)}async ReadCollection(){return await this.iCollectionModel.Read()}async CreateCollection(o){return await this.iCollectionModel.Create(o)}async UpdateCollection(o){return await this.iCollectionModel.Update(o)}async ReadGroups(){return await this.iGroupModel.Read()}async CreateGroup(o){return await this.iGroupModel.Create(o)}async UpdateGroup(o){return await this.iGroupModel.Update(o)}async UploadImages(o){return await this.iProductModel.UploadImages(o)}async ProductById(o){return await this.iProductModel.ProductById(o)}}var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(e){const o=[];let s=0;for(let a=0;a<e.length;a++){let c=e.charCodeAt(a);c<128?o[s++]=c:c<2048?(o[s++]=c>>6|192,o[s++]=c&63|128):(c&64512)===55296&&a+1<e.length&&(e.charCodeAt(a+1)&64512)===56320?(c=65536+((c&1023)<<10)+(e.charCodeAt(++a)&1023),o[s++]=c>>18|240,o[s++]=c>>12&63|128,o[s++]=c>>6&63|128,o[s++]=c&63|128):(o[s++]=c>>12|224,o[s++]=c>>6&63|128,o[s++]=c&63|128)}return o},byteArrayToString=function(e){const o=[];let s=0,a=0;for(;s<e.length;){const c=e[s++];if(c<128)o[a++]=String.fromCharCode(c);else if(c>191&&c<224){const h=e[s++];o[a++]=String.fromCharCode((c&31)<<6|h&63)}else if(c>239&&c<365){const h=e[s++],g=e[s++],_=e[s++],et=((c&7)<<18|(h&63)<<12|(g&63)<<6|_&63)-65536;o[a++]=String.fromCharCode(55296+(et>>10)),o[a++]=String.fromCharCode(56320+(et&1023))}else{const h=e[s++],g=e[s++];o[a++]=String.fromCharCode((c&15)<<12|(h&63)<<6|g&63)}}return o.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,o){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=o?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let c=0;c<e.length;c+=3){const h=e[c],g=c+1<e.length,_=g?e[c+1]:0,et=c+2<e.length,rt=et?e[c+2]:0,it=h>>2,ot=(h&3)<<4|_>>4;let st=(_&15)<<2|rt>>6,ct=rt&63;et||(ct=64,g||(st=64)),a.push(s[it],s[ot],s[st],s[ct])}return a.join("")},encodeString(e,o){return this.HAS_NATIVE_SUPPORT&&!o?btoa(e):this.encodeByteArray(stringToByteArray$1(e),o)},decodeString(e,o){return this.HAS_NATIVE_SUPPORT&&!o?atob(e):byteArrayToString(this.decodeStringToByteArray(e,o))},decodeStringToByteArray(e,o){this.init_();const s=o?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let c=0;c<e.length;){const h=s[e.charAt(c++)],_=c<e.length?s[e.charAt(c)]:0;++c;const rt=c<e.length?s[e.charAt(c)]:64;++c;const ot=c<e.length?s[e.charAt(c)]:64;if(++c,h==null||_==null||rt==null||ot==null)throw new DecodeBase64StringError;const st=h<<2|_>>4;if(a.push(st),rt!==64){const ct=_<<4&240|rt>>2;if(a.push(ct),ot!==64){const dt=rt<<6&192|ot;a.push(dt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(e){const o=stringToByteArray$1(e);return base64.encodeByteArray(o,!0)},base64urlEncodeWithoutPadding=function(e){return base64Encode(e).replace(/\./g,"")},base64Decode=function(e){try{return base64.decodeString(e,!0)}catch(o){console.error("base64Decode failed: ",o)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const e=define_process_env_default.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const o=e&&base64Decode(e[1]);return o&&JSON.parse(o)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},getDefaultEmulatorHost=e=>{var o,s;return(s=(o=getDefaults())===null||o===void 0?void 0:o.emulatorHosts)===null||s===void 0?void 0:s[e]},getDefaultEmulatorHostnameAndPort=e=>{const o=getDefaultEmulatorHost(e);if(!o)return;const s=o.lastIndexOf(":");if(s<=0||s+1===o.length)throw new Error(`Invalid host ${o} with no separate hostname and port!`);const a=parseInt(o.substring(s+1),10);return o[0]==="["?[o.substring(1,s-1),a]:[o.substring(0,s),a]},getDefaultAppConfig=()=>{var e;return(e=getDefaults())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((o,s)=>{this.resolve=o,this.reject=s})}wrapCallback(o){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof o=="function"&&(this.promise.catch(()=>{}),o.length===1?o(s):o(s,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(e,o){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=o||"demo-project",c=e.iat||0,h=e.sub||e.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const g=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:c,exp:c+3600,auth_time:c,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},e);return[base64urlEncodeWithoutPadding(JSON.stringify(s)),base64urlEncodeWithoutPadding(JSON.stringify(g)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isNode(){var e;const o=(e=getDefaults())===null||e===void 0?void 0:e.forceEnvironment;if(o==="node")return!0;if(o==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowserExtension(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function isSafari(){return!isNode()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((e,o)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(a);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(a),e(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{var h;o(((h=c.error)===null||h===void 0?void 0:h.message)||"")}}catch(s){o(s)}})}function areCookiesEnabled(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(o,s,a){super(s),this.code=o,this.customData=a,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(o,s,a){this.service=o,this.serviceName=s,this.errors=a}create(o,...s){const a=s[0]||{},c=`${this.service}/${o}`,h=this.errors[o],g=h?replaceTemplate(h,a):"Error",_=`${this.serviceName}: ${g} (${c}).`;return new FirebaseError(c,_,a)}}function replaceTemplate(e,o){return e.replace(PATTERN,(s,a)=>{const c=o[a];return c!=null?String(c):`<${a}?>`})}const PATTERN=/\{\$([^}]+)}/g;function deepEqual(e,o){if(e===o)return!0;const s=Object.keys(e),a=Object.keys(o);for(const c of s){if(!a.includes(c))return!1;const h=e[c],g=o[c];if(isObject(h)&&isObject(g)){if(!deepEqual(h,g))return!1}else if(h!==g)return!1}for(const c of a)if(!s.includes(c))return!1;return!0}function isObject(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=4*60*60*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(e,o=DEFAULT_INTERVAL_MILLIS,s=DEFAULT_BACKOFF_FACTOR){const a=o*Math.pow(s,e),c=Math.round(RANDOM_FACTOR*a*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,a+c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(e){return e&&e._delegate?e._delegate:e}class Component{constructor(o,s,a){this.name=o,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(o){return this.instantiationMode=o,this}setMultipleInstances(o){return this.multipleInstances=o,this}setServiceProps(o){return this.serviceProps=o,this}setInstanceCreatedCallback(o){return this.onInstanceCreated=o,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(o,s){this.name=o,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(o){const s=this.normalizeInstanceIdentifier(o);if(!this.instancesDeferred.has(s)){const a=new Deferred;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&a.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(o){var s;const a=this.normalizeInstanceIdentifier(o==null?void 0:o.identifier),c=(s=o==null?void 0:o.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(c)return null;throw h}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(o){if(o.name!==this.name)throw Error(`Mismatching Component ${o.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=o,!!this.shouldAutoInitialize()){if(isComponentEager(o))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const h=this.getOrInitializeService({instanceIdentifier:c});a.resolve(h)}catch{}}}}clearInstance(o=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(o),this.instancesOptions.delete(o),this.instances.delete(o)}async delete(){const o=Array.from(this.instances.values());await Promise.all([...o.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...o.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(o=DEFAULT_ENTRY_NAME$1){return this.instances.has(o)}getOptions(o=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(o)||{}}initialize(o={}){const{options:s={}}=o,a=this.normalizeInstanceIdentifier(o.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[h,g]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);a===_&&g.resolve(c)}return c}onInit(o,s){var a;const c=this.normalizeInstanceIdentifier(s),h=(a=this.onInitCallbacks.get(c))!==null&&a!==void 0?a:new Set;h.add(o),this.onInitCallbacks.set(c,h);const g=this.instances.get(c);return g&&o(g,c),()=>{h.delete(o)}}invokeOnInitCallbacks(o,s){const a=this.onInitCallbacks.get(s);if(a)for(const c of a)try{c(o,s)}catch{}}getOrInitializeService({instanceIdentifier:o,options:s={}}){let a=this.instances.get(o);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(o),options:s}),this.instances.set(o,a),this.instancesOptions.set(o,s),this.invokeOnInitCallbacks(a,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,o,a)}catch{}return a||null}normalizeInstanceIdentifier(o=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?o:DEFAULT_ENTRY_NAME$1:o}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(e){return e===DEFAULT_ENTRY_NAME$1?void 0:e}function isComponentEager(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(o){this.name=o,this.providers=new Map}addComponent(o){const s=this.getProvider(o.name);if(s.isComponentSet())throw new Error(`Component ${o.name} has already been registered with ${this.name}`);s.setComponent(o)}addOrOverwriteComponent(o){this.getProvider(o.name).isComponentSet()&&this.providers.delete(o.name),this.addComponent(o)}getProvider(o){if(this.providers.has(o))return this.providers.get(o);const s=new Provider(o,this);return this.providers.set(o,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(e,o,...s)=>{if(o<e.logLevel)return;const a=new Date().toISOString(),c=ConsoleMethod[o];if(c)console[c](`[${a}]  ${e.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${o})`)};class Logger{constructor(o){this.name=o,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(o){if(!(o in LogLevel))throw new TypeError(`Invalid value "${o}" assigned to \`logLevel\``);this._logLevel=o}setLogLevel(o){this._logLevel=typeof o=="string"?levelStringToEnum[o]:o}get logHandler(){return this._logHandler}set logHandler(o){if(typeof o!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=o}get userLogHandler(){return this._userLogHandler}set userLogHandler(o){this._userLogHandler=o}debug(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...o),this._logHandler(this,LogLevel.DEBUG,...o)}log(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...o),this._logHandler(this,LogLevel.VERBOSE,...o)}info(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...o),this._logHandler(this,LogLevel.INFO,...o)}warn(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...o),this._logHandler(this,LogLevel.WARN,...o)}error(...o){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...o),this._logHandler(this,LogLevel.ERROR,...o)}}const instanceOfAny=(e,o)=>o.some(s=>e instanceof s);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(e){const o=new Promise((s,a)=>{const c=()=>{e.removeEventListener("success",h),e.removeEventListener("error",g)},h=()=>{s(wrap(e.result)),c()},g=()=>{a(e.error),c()};e.addEventListener("success",h),e.addEventListener("error",g)});return o.then(s=>{s instanceof IDBCursor&&cursorRequestMap.set(s,e)}).catch(()=>{}),reverseTransformCache.set(o,e),o}function cacheDonePromiseForTransaction(e){if(transactionDoneMap.has(e))return;const o=new Promise((s,a)=>{const c=()=>{e.removeEventListener("complete",h),e.removeEventListener("error",g),e.removeEventListener("abort",g)},h=()=>{s(),c()},g=()=>{a(e.error||new DOMException("AbortError","AbortError")),c()};e.addEventListener("complete",h),e.addEventListener("error",g),e.addEventListener("abort",g)});transactionDoneMap.set(e,o)}let idbProxyTraps={get(e,o,s){if(e instanceof IDBTransaction){if(o==="done")return transactionDoneMap.get(e);if(o==="objectStoreNames")return e.objectStoreNames||transactionStoreNamesMap.get(e);if(o==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return wrap(e[o])},set(e,o,s){return e[o]=s,!0},has(e,o){return e instanceof IDBTransaction&&(o==="done"||o==="store")?!0:o in e}};function replaceTraps(e){idbProxyTraps=e(idbProxyTraps)}function wrapFunction(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(o,...s){const a=e.call(unwrap(this),o,...s);return transactionStoreNamesMap.set(a,o.sort?o.sort():[o]),wrap(a)}:getCursorAdvanceMethods().includes(e)?function(...o){return e.apply(unwrap(this),o),wrap(cursorRequestMap.get(this))}:function(...o){return wrap(e.apply(unwrap(this),o))}}function transformCachableValue(e){return typeof e=="function"?wrapFunction(e):(e instanceof IDBTransaction&&cacheDonePromiseForTransaction(e),instanceOfAny(e,getIdbProxyableTypes())?new Proxy(e,idbProxyTraps):e)}function wrap(e){if(e instanceof IDBRequest)return promisifyRequest(e);if(transformCache.has(e))return transformCache.get(e);const o=transformCachableValue(e);return o!==e&&(transformCache.set(e,o),reverseTransformCache.set(o,e)),o}const unwrap=e=>reverseTransformCache.get(e);function openDB(e,o,{blocked:s,upgrade:a,blocking:c,terminated:h}={}){const g=indexedDB.open(e,o),_=wrap(g);return a&&g.addEventListener("upgradeneeded",et=>{a(wrap(g.result),et.oldVersion,et.newVersion,wrap(g.transaction),et)}),s&&g.addEventListener("blocked",et=>s(et.oldVersion,et.newVersion,et)),_.then(et=>{h&&et.addEventListener("close",()=>h()),c&&et.addEventListener("versionchange",rt=>c(rt.oldVersion,rt.newVersion,rt))}).catch(()=>{}),_}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(e,o){if(!(e instanceof IDBDatabase&&!(o in e)&&typeof o=="string"))return;if(cachedMethods.get(o))return cachedMethods.get(o);const s=o.replace(/FromIndex$/,""),a=o!==s,c=writeMethods.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(c||readMethods.includes(s)))return;const h=async function(g,..._){const et=this.transaction(g,c?"readwrite":"readonly");let rt=et.store;return a&&(rt=rt.index(_.shift())),(await Promise.all([rt[s](..._),c&&et.done]))[0]};return cachedMethods.set(o,h),h}replaceTraps(e=>({...e,get:(o,s,a)=>getMethod(o,s)||e.get(o,s,a),has:(o,s)=>!!getMethod(o,s)||e.has(o,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(o){this.container=o}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(isVersionServiceProvider(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function isVersionServiceProvider(e){const o=e.getComponent();return(o==null?void 0:o.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$4="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(e,o){try{e.container.addComponent(o)}catch(s){logger$1.debug(`Component ${o.name} failed to register with FirebaseApp ${e.name}`,s)}}function _registerComponent(e){const o=e.name;if(_components.has(o))return logger$1.debug(`There were multiple attempts to register component ${o}.`),!1;_components.set(o,e);for(const s of _apps.values())_addComponent(s,e);for(const s of _serverApps.values())_addComponent(s,e);return!0}function _getProvider(e,o){const s=e.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),e.container.getProvider(o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY$2=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(o,s,a){this._isDeleted=!1,this._options=Object.assign({},o),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(o){this.checkDestroyed(),this._automaticDataCollectionEnabled=o}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(o){this._isDeleted=o}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$2.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$4;function initializeApp(e,o={}){let s=e;typeof o!="object"&&(o={name:o});const a=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},o),c=a.name;if(typeof c!="string"||!c)throw ERROR_FACTORY$2.create("bad-app-name",{appName:String(c)});if(s||(s=getDefaultAppConfig()),!s)throw ERROR_FACTORY$2.create("no-options");const h=_apps.get(c);if(h){if(deepEqual(s,h.options)&&deepEqual(a,h.config))return h;throw ERROR_FACTORY$2.create("duplicate-app",{appName:c})}const g=new ComponentContainer(c);for(const et of _components.values())g.addComponent(et);const _=new FirebaseAppImpl(s,a,g);return _apps.set(c,_),_}function getApp(e=DEFAULT_ENTRY_NAME){const o=_apps.get(e);if(!o&&e===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!o)throw ERROR_FACTORY$2.create("no-app",{appName:e});return o}function registerVersion(e,o,s){var a;let c=(a=PLATFORM_LOG_STRING[e])!==null&&a!==void 0?a:e;s&&(c+=`-${s}`);const h=c.match(/\s|\//),g=o.match(/\s|\//);if(h||g){const _=[`Unable to register library "${c}" with version "${o}":`];h&&_.push(`library name "${c}" contains illegal characters (whitespace or "/")`),h&&g&&_.push("and"),g&&_.push(`version name "${o}" contains illegal characters (whitespace or "/")`),logger$1.warn(_.join(" "));return}_registerComponent(new Component(`${c}-version`,()=>({library:c,version:o}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise$1=null;function getDbPromise$1(){return dbPromise$1||(dbPromise$1=openDB(DB_NAME,DB_VERSION,{upgrade:(e,o)=>{switch(o){case 0:try{e.createObjectStore(STORE_NAME)}catch(s){console.warn(s)}}}}).catch(e=>{throw ERROR_FACTORY$2.create("idb-open",{originalErrorMessage:e.message})})),dbPromise$1}async function readHeartbeatsFromIndexedDB(e){try{const s=(await getDbPromise$1()).transaction(STORE_NAME),a=await s.objectStore(STORE_NAME).get(computeKey(e));return await s.done,a}catch(o){if(o instanceof FirebaseError)logger$1.warn(o.message);else{const s=ERROR_FACTORY$2.create("idb-get",{originalErrorMessage:o==null?void 0:o.message});logger$1.warn(s.message)}}}async function writeHeartbeatsToIndexedDB(e,o){try{const a=(await getDbPromise$1()).transaction(STORE_NAME,"readwrite");await a.objectStore(STORE_NAME).put(o,computeKey(e)),await a.done}catch(s){if(s instanceof FirebaseError)logger$1.warn(s.message);else{const a=ERROR_FACTORY$2.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});logger$1.warn(a.message)}}}function computeKey(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(o){this.container=o,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var o,s;const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=getUTCDateString();if(!(((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(g=>g.date===h)))return this._heartbeatsCache.heartbeats.push({date:h,agent:c}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(g=>{const _=new Date(g.date).valueOf();return Date.now()-_<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var o;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=getUTCDateString(),{heartbeatsToSend:a,unsentEntries:c}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),h=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(e,o=MAX_HEADER_BYTES){const s=[];let a=e.slice();for(const c of e){const h=s.find(g=>g.agent===c.agent);if(h){if(h.dates.push(c.date),countBytes(s)>o){h.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),countBytes(s)>o){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class HeartbeatStorageImpl{constructor(o){this.app=o,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await readHeartbeatsFromIndexedDB(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(o){var s;if(await this._canUseIndexedDBPromise){const c=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=o.lastSentHeartbeatDate)!==null&&s!==void 0?s:c.lastSentHeartbeatDate,heartbeats:o.heartbeats})}else return}async add(o){var s;if(await this._canUseIndexedDBPromise){const c=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=o.lastSentHeartbeatDate)!==null&&s!==void 0?s:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...o.heartbeats]})}else return}}function countBytes(e){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(e){_registerComponent(new Component("platform-logger",o=>new PlatformLoggerServiceImpl(o),"PRIVATE")),_registerComponent(new Component("heartbeat",o=>new HeartbeatServiceImpl(o),"PRIVATE")),registerVersion(name$o,version$1$1,e),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,goog=goog||{},l=commonjsGlobal||self;function aa(e){var o=typeof e;return o=o!="object"?o:e?Array.isArray(e)?"array":o:"null",o=="array"||o=="object"&&typeof e.length=="number"}function p(e){var o=typeof e;return o=="object"&&e!=null||o=="function"}function ba(e){return Object.prototype.hasOwnProperty.call(e,ca)&&e[ca]||(e[ca]=++da)}var ca="closure_uid_"+(1e9*Math.random()>>>0),da=0;function ea(e,o,s){return e.call.apply(e.bind,arguments)}function fa(e,o,s){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,a),e.apply(o,c)}}return function(){return e.apply(o,arguments)}}function q(e,o,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q=ea:q=fa,q.apply(null,arguments)}function ha(e,o){var s=Array.prototype.slice.call(arguments,1);return function(){var a=s.slice();return a.push.apply(a,arguments),e.apply(this,a)}}function r(e,o){function s(){}s.prototype=o.prototype,e.$=o.prototype,e.prototype=new s,e.prototype.constructor=e,e.ac=function(a,c,h){for(var g=Array(arguments.length-2),_=2;_<arguments.length;_++)g[_-2]=arguments[_];return o.prototype[c].apply(a,g)}}function v$1(){this.s=this.s,this.o=this.o}var ia=0;v$1.prototype.s=!1;v$1.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ia!=0)&&ba(this)};v$1.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ka=Array.prototype.indexOf?function(e,o){return Array.prototype.indexOf.call(e,o,void 0)}:function(e,o){if(typeof e=="string")return typeof o!="string"||o.length!=1?-1:e.indexOf(o,0);for(let s=0;s<e.length;s++)if(s in e&&e[s]===o)return s;return-1};function ma(e){const o=e.length;if(0<o){const s=Array(o);for(let a=0;a<o;a++)s[a]=e[a];return s}return[]}function na(e,o){for(let s=1;s<arguments.length;s++){const a=arguments[s];if(aa(a)){const c=e.length||0,h=a.length||0;e.length=c+h;for(let g=0;g<h;g++)e[c+g]=a[g]}else e.push(a)}}function w$1(e,o){this.type=e,this.g=this.target=o,this.defaultPrevented=!1}w$1.prototype.h=function(){this.defaultPrevented=!0};var oa=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var e=!1,o=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const s=()=>{};l.addEventListener("test",s,o),l.removeEventListener("test",s,o)}catch{}return e}();function x(e){return/^[\s\xa0]*$/.test(e)}function pa(){var e=l.navigator;return e&&(e=e.userAgent)?e:""}function y(e){return pa().indexOf(e)!=-1}function qa(e){return qa[" "](e),e}qa[" "]=function(){};function ra(e,o){var s=sa;return Object.prototype.hasOwnProperty.call(s,e)?s[e]:s[e]=o(e)}var ta=y("Opera"),z=y("Trident")||y("MSIE"),ua=y("Edge"),va=ua||z,wa=y("Gecko")&&!(pa().toLowerCase().indexOf("webkit")!=-1&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),xa=pa().toLowerCase().indexOf("webkit")!=-1&&!y("Edge");function ya(){var e=l.document;return e?e.documentMode:void 0}var za;e:{var Aa="",Ba=function(){var e=pa();if(wa)return/rv:([^\);]+)(\)|;)/.exec(e);if(ua)return/Edge\/([\d\.]+)/.exec(e);if(z)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(xa)return/WebKit\/(\S+)/.exec(e);if(ta)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Ba&&(Aa=Ba?Ba[1]:""),z){var Ca=ya();if(Ca!=null&&Ca>parseFloat(Aa)){za=String(Ca);break e}}za=Aa}var Da;if(l.document&&z){var Ea=ya();Da=Ea||parseInt(za,10)||void 0}else Da=void 0;var Fa=Da;function A(e,o){if(w$1.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var s=this.type=e.type,a=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=o,o=e.relatedTarget){if(wa){e:{try{qa(o.nodeName);var c=!0;break e}catch{}c=!1}c||(o=null)}}else s=="mouseover"?o=e.fromElement:s=="mouseout"&&(o=e.toElement);this.relatedTarget=o,a?(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Ga[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&A.$.h.call(this)}}r(A,w$1);var Ga={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ia=0;function Ja(e,o,s,a,c){this.listener=e,this.proxy=null,this.src=o,this.type=s,this.capture=!!a,this.la=c,this.key=++Ia,this.fa=this.ia=!1}function Ma(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Na(e,o,s){for(const a in e)o.call(s,e[a],a,e)}function Oa(e,o){for(const s in e)o.call(void 0,e[s],s,e)}function Pa(e){const o={};for(const s in e)o[s]=e[s];return o}const Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(e,o){let s,a;for(let c=1;c<arguments.length;c++){a=arguments[c];for(s in a)e[s]=a[s];for(let h=0;h<Qa.length;h++)s=Qa[h],Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}}function Sa(e){this.src=e,this.g={},this.h=0}Sa.prototype.add=function(e,o,s,a,c){var h=e.toString();e=this.g[h],e||(e=this.g[h]=[],this.h++);var g=Ta(e,o,a,c);return-1<g?(o=e[g],s||(o.ia=!1)):(o=new Ja(o,this.src,h,!!a,c),o.ia=s,e.push(o)),o};function Ua(e,o){var s=o.type;if(s in e.g){var a=e.g[s],c=ka(a,o),h;(h=0<=c)&&Array.prototype.splice.call(a,c,1),h&&(Ma(o),e.g[s].length==0&&(delete e.g[s],e.h--))}}function Ta(e,o,s,a){for(var c=0;c<e.length;++c){var h=e[c];if(!h.fa&&h.listener==o&&h.capture==!!s&&h.la==a)return c}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Wa={};function Ya(e,o,s,a,c){if(a&&a.once)return Za(e,o,s,a,c);if(Array.isArray(o)){for(var h=0;h<o.length;h++)Ya(e,o[h],s,a,c);return null}return s=$a(s),e&&e[Ha]?e.O(o,s,p(a)?!!a.capture:!!a,c):ab(e,o,s,!1,a,c)}function ab(e,o,s,a,c,h){if(!o)throw Error("Invalid event type");var g=p(c)?!!c.capture:!!c,_=bb(e);if(_||(e[Va]=_=new Sa(e)),s=_.add(o,s,a,g,h),s.proxy)return s;if(a=cb(),s.proxy=a,a.src=e,a.listener=s,e.addEventListener)oa||(c=g),c===void 0&&(c=!1),e.addEventListener(o.toString(),a,c);else if(e.attachEvent)e.attachEvent(db$1(o.toString()),a);else if(e.addListener&&e.removeListener)e.addListener(a);else throw Error("addEventListener and attachEvent are unavailable.");return s}function cb(){function e(s){return o.call(e.src,e.listener,s)}const o=eb;return e}function Za(e,o,s,a,c){if(Array.isArray(o)){for(var h=0;h<o.length;h++)Za(e,o[h],s,a,c);return null}return s=$a(s),e&&e[Ha]?e.P(o,s,p(a)?!!a.capture:!!a,c):ab(e,o,s,!0,a,c)}function fb(e,o,s,a,c){if(Array.isArray(o))for(var h=0;h<o.length;h++)fb(e,o[h],s,a,c);else a=p(a)?!!a.capture:!!a,s=$a(s),e&&e[Ha]?(e=e.i,o=String(o).toString(),o in e.g&&(h=e.g[o],s=Ta(h,s,a,c),-1<s&&(Ma(h[s]),Array.prototype.splice.call(h,s,1),h.length==0&&(delete e.g[o],e.h--)))):e&&(e=bb(e))&&(o=e.g[o.toString()],e=-1,o&&(e=Ta(o,s,a,c)),(s=-1<e?o[e]:null)&&gb(s))}function gb(e){if(typeof e!="number"&&e&&!e.fa){var o=e.src;if(o&&o[Ha])Ua(o.i,e);else{var s=e.type,a=e.proxy;o.removeEventListener?o.removeEventListener(s,a,e.capture):o.detachEvent?o.detachEvent(db$1(s),a):o.addListener&&o.removeListener&&o.removeListener(a),(s=bb(o))?(Ua(s,e),s.h==0&&(s.src=null,o[Va]=null)):Ma(e)}}}function db$1(e){return e in Wa?Wa[e]:Wa[e]="on"+e}function eb(e,o){if(e.fa)e=!0;else{o=new A(o,this);var s=e.listener,a=e.la||e.src;e.ia&&gb(e),e=s.call(a,o)}return e}function bb(e){return e=e[Va],e instanceof Sa?e:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(e){return typeof e=="function"?e:(e[hb]||(e[hb]=function(o){return e.handleEvent(o)}),e[hb])}function B(){v$1.call(this),this.i=new Sa(this),this.S=this,this.J=null}r(B,v$1);B.prototype[Ha]=!0;B.prototype.removeEventListener=function(e,o,s,a){fb(this,e,o,s,a)};function C$1(e,o){var s,a=e.J;if(a)for(s=[];a;a=a.J)s.push(a);if(e=e.S,a=o.type||o,typeof o=="string")o=new w$1(o,e);else if(o instanceof w$1)o.target=o.target||e;else{var c=o;o=new w$1(a,e),Ra(o,c)}if(c=!0,s)for(var h=s.length-1;0<=h;h--){var g=o.g=s[h];c=ib(g,a,!0,o)&&c}if(g=o.g=e,c=ib(g,a,!0,o)&&c,c=ib(g,a,!1,o)&&c,s)for(h=0;h<s.length;h++)g=o.g=s[h],c=ib(g,a,!1,o)&&c}B.prototype.N=function(){if(B.$.N.call(this),this.i){var e=this.i,o;for(o in e.g){for(var s=e.g[o],a=0;a<s.length;a++)Ma(s[a]);delete e.g[o],e.h--}}this.J=null};B.prototype.O=function(e,o,s,a){return this.i.add(String(e),o,!1,s,a)};B.prototype.P=function(e,o,s,a){return this.i.add(String(e),o,!0,s,a)};function ib(e,o,s,a){if(o=e.i.g[String(o)],!o)return!0;o=o.concat();for(var c=!0,h=0;h<o.length;++h){var g=o[h];if(g&&!g.fa&&g.capture==s){var _=g.listener,et=g.la||g.src;g.ia&&Ua(e.i,g),c=_.call(et,a)!==!1&&c}}return c&&!a.defaultPrevented}var jb=l.JSON.stringify;class kb{constructor(o,s){this.i=o,this.j=s,this.h=0,this.g=null}get(){let o;return 0<this.h?(this.h--,o=this.g,this.g=o.next,o.next=null):o=this.i(),o}}function lb(){var e=mb;let o=null;return e.g&&(o=e.g,e.g=e.g.next,e.g||(e.h=null),o.next=null),o}class nb{constructor(){this.h=this.g=null}add(o,s){const a=ob.get();a.set(o,s),this.h?this.h.next=a:this.g=a,this.h=a}}var ob=new kb(()=>new pb,e=>e.reset());class pb{constructor(){this.next=this.g=this.h=null}set(o,s){this.h=o,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function qb(e){var o=1;e=e.split(":");const s=[];for(;0<o&&e.length;)s.push(e.shift()),o--;return e.length&&s.push(e.join(":")),s}function rb(e){l.setTimeout(()=>{throw e},0)}let sb,tb=!1,mb=new nb,vb=()=>{const e=l.Promise.resolve(void 0);sb=()=>{e.then(ub)}};var ub=()=>{for(var e;e=lb();){try{e.h.call(e.g)}catch(s){rb(s)}var o=ob;o.j(e),100>o.h&&(o.h++,e.next=o.g,o.g=e)}tb=!1};function wb(e,o){B.call(this),this.h=e||1,this.g=o||l,this.j=q(this.qb,this),this.l=Date.now()}r(wb,B);k=wb.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$1(this,"tick"),this.ga&&(xb(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xb(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}k.N=function(){wb.$.N.call(this),xb(this),delete this.g};function yb(e,o,s){if(typeof e=="function")s&&(e=q(e,s));else if(e&&typeof e.handleEvent=="function")e=q(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(o)?-1:l.setTimeout(e,o||0)}function zb(e){e.g=yb(()=>{e.g=null,e.i&&(e.i=!1,zb(e))},e.j);const o=e.h;e.h=null,e.m.apply(null,o)}class Ab extends v$1{constructor(o,s){super(),this.m=o,this.j=s,this.h=null,this.i=!1,this.g=null}l(o){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bb(e){v$1.call(this),this.h=e,this.g={}}r(Bb,v$1);var Cb=[];function Eb(e,o,s,a){Array.isArray(s)||(s&&(Cb[0]=s.toString()),s=Cb);for(var c=0;c<s.length;c++){var h=Ya(o,s[c],a||e.handleEvent,!1,e.h||e);if(!h)break;e.g[h.key]=h}}function Fb(e){Na(e.g,function(o,s){this.g.hasOwnProperty(s)&&gb(o)},e),e.g={}}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)};Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Ea=function(){this.g=!1};function Hb(e,o,s,a,c,h){e.info(function(){if(e.g)if(h)for(var g="",_=h.split("&"),et=0;et<_.length;et++){var rt=_[et].split("=");if(1<rt.length){var it=rt[0];rt=rt[1];var ot=it.split("_");g=2<=ot.length&&ot[1]=="type"?g+(it+"="+rt+"&"):g+(it+"=redacted&")}}else g=null;else g=h;return"XMLHTTP REQ ("+a+") [attempt "+c+"]: "+o+`
`+s+`
`+g})}function Ib(e,o,s,a,c,h,g){e.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+c+"]: "+o+`
`+s+`
`+h+" "+g})}function D$1(e,o,s,a){e.info(function(){return"XMLHTTP TEXT ("+o+"): "+Jb(e,s)+(a?" "+a:"")})}function Kb(e,o){e.info(function(){return"TIMEOUT: "+o})}Gb.prototype.info=function(){};function Jb(e,o){if(!e.g)return o;if(!o)return null;try{var s=JSON.parse(o);if(s){for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var a=s[e];if(!(2>a.length)){var c=a[1];if(Array.isArray(c)&&!(1>c.length)){var h=c[0];if(h!="noop"&&h!="stop"&&h!="close")for(var g=1;g<c.length;g++)c[g]=""}}}}return jb(s)}catch{return o}}var E={},Lb=null;function Mb(){return Lb=Lb||new B}E.Ta="serverreachability";function Nb(e){w$1.call(this,E.Ta,e)}r(Nb,w$1);function Ob(e){const o=Mb();C$1(o,new Nb(o))}E.STAT_EVENT="statevent";function Pb(e,o){w$1.call(this,E.STAT_EVENT,e),this.stat=o}r(Pb,w$1);function F$1(e){const o=Mb();C$1(o,new Pb(o,e))}E.Ua="timingevent";function Qb(e,o){w$1.call(this,E.Ua,e),this.size=o}r(Qb,w$1);function Rb(e,o){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){e()},o)}var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}Ub.prototype.h=null;function Vb(e){return e.h||(e.h=e.i())}function Wb(){}var Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w$1.call(this,"d")}r(Yb,w$1);function Zb(){w$1.call(this,"c")}r(Zb,w$1);var $b;function ac(){}r(ac,Ub);ac.prototype.g=function(){return new XMLHttpRequest};ac.prototype.i=function(){return{}};$b=new ac;function bc(e,o,s,a){this.l=e,this.j=o,this.m=s,this.W=a||1,this.U=new Bb(this),this.P=cc,e=va?125:void 0,this.V=new wb(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var cc=45e3,ec={},fc={};k=bc.prototype;k.setTimeout=function(e){this.P=e};function gc(e,o,s){e.L=1,e.A=hc(G(o)),e.u=s,e.S=!0,ic(e,null)}function ic(e,o){e.G=Date.now(),jc(e),e.B=G(e.A);var s=e.B,a=e.W;Array.isArray(a)||(a=[String(a)]),kc(s.i,"t",a),e.o=0,s=e.l.J,e.h=new dc,e.g=lc(e.l,s?o:null,!e.u),0<e.O&&(e.M=new Ab(q(e.Pa,e,e.g),e.O)),Eb(e.U,e.g,"readystatechange",e.nb),o=e.I?Pa(e.I):{},e.u?(e.v||(e.v="POST"),o["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,o)):(e.v="GET",e.g.ha(e.B,e.v,null,o)),Ob(),Hb(e.j,e.v,e.B,e.m,e.W,e.u)}k.nb=function(e){e=e.target;const o=this.M;o&&H(e)==3?o.l():this.Pa(e)};k.Pa=function(e){try{if(e==this.g)e:{const it=H(this.g);var o=this.g.Ia();const ot=this.g.da();if(!(3>it)&&(it!=3||va||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||it!=4||o==7||(o==8||0>=ot?Ob(3):Ob(2)),nc(this);var s=this.g.da();this.ca=s;t:if(oc(this)){var a=mc(this.g);e="";var c=a.length,h=H(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){I(this),pc(this);var g="";break t}this.h.i=new l.TextDecoder}for(o=0;o<c;o++)this.h.h=!0,e+=this.h.i.decode(a[o],{stream:h&&o==c-1});a.length=0,this.h.g+=e,this.o=0,g=this.h.g}else g=this.g.ja();if(this.i=s==200,Ib(this.j,this.v,this.B,this.m,this.W,it,s),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,et=this.g;if((_=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(_)){var rt=_;break t}}rt=null}if(s=rt)D$1(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,s);else{this.i=!1,this.s=3,F$1(12),I(this),pc(this);break e}}this.S?(rc(this,it,g),va&&this.i&&it==3&&(Eb(this.U,this.V,"tick",this.mb),this.V.start())):(D$1(this.j,this.m,g,null),qc(this,g)),it==4&&I(this),this.i&&!this.J&&(it==4?sc(this.l,this):(this.i=!1,jc(this)))}else tc(this.g),s==400&&0<g.indexOf("Unknown SID")?(this.s=3,F$1(12)):(this.s=0,F$1(13)),I(this),pc(this)}}}catch{}finally{}};function oc(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function rc(e,o,s){let a=!0,c;for(;!e.J&&e.o<s.length;)if(c=uc(e,s),c==fc){o==4&&(e.s=4,F$1(14),a=!1),D$1(e.j,e.m,null,"[Incomplete Response]");break}else if(c==ec){e.s=4,F$1(15),D$1(e.j,e.m,s,"[Invalid Chunk]"),a=!1;break}else D$1(e.j,e.m,c,null),qc(e,c);oc(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),o!=4||s.length!=0||e.h.h||(e.s=1,F$1(16),a=!1),e.i=e.i&&a,a?0<s.length&&!e.ba&&(e.ba=!0,o=e.l,o.g==e&&o.ca&&!o.M&&(o.l.info("Great, no buffering proxy detected. Bytes received: "+s.length),vc(o),o.M=!0,F$1(11))):(D$1(e.j,e.m,s,"[Invalid Chunked Response]"),I(e),pc(e))}k.mb=function(){if(this.g){var e=H(this.g),o=this.g.ja();this.o<o.length&&(nc(this),rc(this,e,o),this.i&&e!=4&&jc(this))}};function uc(e,o){var s=e.o,a=o.indexOf(`
`,s);return a==-1?fc:(s=Number(o.substring(s,a)),isNaN(s)?ec:(a+=1,a+s>o.length?fc:(o=o.slice(a,a+s),e.o=a+s,o)))}k.cancel=function(){this.J=!0,I(this)};function jc(e){e.Y=Date.now()+e.P,wc(e,e.P)}function wc(e,o){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Rb(q(e.lb,e),o)}function nc(e){e.C&&(l.clearTimeout(e.C),e.C=null)}k.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(Kb(this.j,this.B),this.L!=2&&(Ob(),F$1(17)),I(this),this.s=2,pc(this)):wc(this,this.Y-e)};function pc(e){e.l.H==0||e.J||sc(e.l,e)}function I(e){nc(e);var o=e.M;o&&typeof o.sa=="function"&&o.sa(),e.M=null,xb(e.V),Fb(e.U),e.g&&(o=e.g,e.g=null,o.abort(),o.sa())}function qc(e,o){try{var s=e.l;if(s.H!=0&&(s.g==e||xc(s.i,e))){if(!e.K&&xc(s.i,e)&&s.H==3){try{var a=s.Ja.g.parse(o)}catch{a=null}if(Array.isArray(a)&&a.length==3){var c=a;if(c[0]==0){e:if(!s.u){if(s.g)if(s.g.G+3e3<e.G)yc(s),zc(s);else break e;Ac(s),F$1(18)}}else s.Fa=c[1],0<s.Fa-s.V&&37500>c[2]&&s.G&&s.A==0&&!s.v&&(s.v=Rb(q(s.ib,s),6e3));if(1>=Bc(s.i)&&s.oa){try{s.oa()}catch{}s.oa=void 0}}else J(s,11)}else if((e.K||s.g==e)&&yc(s),!x(o))for(c=s.Ja.g.parse(o),o=0;o<c.length;o++){let rt=c[o];if(s.V=rt[0],rt=rt[1],s.H==2)if(rt[0]=="c"){s.K=rt[1],s.pa=rt[2];const it=rt[3];it!=null&&(s.ra=it,s.l.info("VER="+s.ra));const ot=rt[4];ot!=null&&(s.Ga=ot,s.l.info("SVER="+s.Ga));const st=rt[5];st!=null&&typeof st=="number"&&0<st&&(a=1.5*st,s.L=a,s.l.info("backChannelRequestTimeoutMs_="+a)),a=s;const ct=e.g;if(ct){const dt=ct.g?ct.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dt){var h=a.i;h.g||dt.indexOf("spdy")==-1&&dt.indexOf("quic")==-1&&dt.indexOf("h2")==-1||(h.j=h.l,h.g=new Set,h.h&&(Cc(h,h.h),h.h=null))}if(a.F){const Tt=ct.g?ct.g.getResponseHeader("X-HTTP-Session-Id"):null;Tt&&(a.Da=Tt,K(a.I,a.F,Tt))}}s.H=3,s.h&&s.h.Ba(),s.ca&&(s.S=Date.now()-e.G,s.l.info("Handshake RTT: "+s.S+"ms")),a=s;var g=e;if(a.wa=Dc(a,a.J?a.pa:null,a.Y),g.K){Ec(a.i,g);var _=g,et=a.L;et&&_.setTimeout(et),_.C&&(nc(_),jc(_)),a.g=g}else Fc(a);0<s.j.length&&Gc(s)}else rt[0]!="stop"&&rt[0]!="close"||J(s,7);else s.H==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?J(s,7):Hc(s):rt[0]!="noop"&&s.h&&s.h.Aa(rt),s.A=0)}}Ob(4)}catch{}}function Ic(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(aa(e)){for(var o=[],s=e.length,a=0;a<s;a++)o.push(e[a]);return o}o=[],s=0;for(a in e)o[s++]=e[a];return o}function Jc(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(aa(e)||typeof e=="string"){var o=[];e=e.length;for(var s=0;s<e;s++)o.push(s);return o}o=[],s=0;for(const a in e)o[s++]=a;return o}}}function Kc(e,o){if(e.forEach&&typeof e.forEach=="function")e.forEach(o,void 0);else if(aa(e)||typeof e=="string")Array.prototype.forEach.call(e,o,void 0);else for(var s=Jc(e),a=Ic(e),c=a.length,h=0;h<c;h++)o.call(void 0,a[h],s&&s[h],e)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(e,o){if(e){e=e.split("&");for(var s=0;s<e.length;s++){var a=e[s].indexOf("="),c=null;if(0<=a){var h=e[s].substring(0,a);c=e[s].substring(a+1)}else h=e[s];o(h,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}function M(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof M){this.h=e.h,Nc(this,e.j),this.s=e.s,this.g=e.g,Oc(this,e.m),this.l=e.l;var o=e.i,s=new Pc;s.i=o.i,o.g&&(s.g=new Map(o.g),s.h=o.h),Qc(this,s),this.o=e.o}else e&&(o=String(e).match(Lc))?(this.h=!1,Nc(this,o[1]||"",!0),this.s=Rc(o[2]||""),this.g=Rc(o[3]||"",!0),Oc(this,o[4]),this.l=Rc(o[5]||"",!0),Qc(this,o[6]||"",!0),this.o=Rc(o[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}M.prototype.toString=function(){var e=[],o=this.j;o&&e.push(Sc(o,Tc,!0),":");var s=this.g;return(s||o=="file")&&(e.push("//"),(o=this.s)&&e.push(Sc(o,Tc,!0),"@"),e.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s=this.m,s!=null&&e.push(":",String(s))),(s=this.l)&&(this.g&&s.charAt(0)!="/"&&e.push("/"),e.push(Sc(s,s.charAt(0)=="/"?Uc:Vc,!0))),(s=this.i.toString())&&e.push("?",s),(s=this.o)&&e.push("#",Sc(s,Wc)),e.join("")};function G(e){return new M(e)}function Nc(e,o,s){e.j=s?Rc(o,!0):o,e.j&&(e.j=e.j.replace(/:$/,""))}function Oc(e,o){if(o){if(o=Number(o),isNaN(o)||0>o)throw Error("Bad port number "+o);e.m=o}else e.m=null}function Qc(e,o,s){o instanceof Pc?(e.i=o,Xc(e.i,e.h)):(s||(o=Sc(o,Yc)),e.i=new Pc(o,e.h))}function K(e,o,s){e.i.set(o,s)}function hc(e){return K(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rc(e,o){return e?o?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Sc(e,o,s){return typeof e=="string"?(e=encodeURI(e).replace(o,Zc),s&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zc(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Tc=/[#\/\?@]/g,Vc=/[#\?:]/g,Uc=/[#\?]/g,Yc=/[#\?@]/g,Wc=/#/g;function Pc(e,o){this.h=this.g=null,this.i=e||null,this.j=!!o}function N(e){e.g||(e.g=new Map,e.h=0,e.i&&Mc(e.i,function(o,s){e.add(decodeURIComponent(o.replace(/\+/g," ")),s)}))}k=Pc.prototype;k.add=function(e,o){N(this),this.i=null,e=O(this,e);var s=this.g.get(e);return s||this.g.set(e,s=[]),s.push(o),this.h+=1,this};function $c(e,o){N(e),o=O(e,o),e.g.has(o)&&(e.i=null,e.h-=e.g.get(o).length,e.g.delete(o))}function ad(e,o){return N(e),o=O(e,o),e.g.has(o)}k.forEach=function(e,o){N(this),this.g.forEach(function(s,a){s.forEach(function(c){e.call(o,c,a,this)},this)},this)};k.ta=function(){N(this);const e=Array.from(this.g.values()),o=Array.from(this.g.keys()),s=[];for(let a=0;a<o.length;a++){const c=e[a];for(let h=0;h<c.length;h++)s.push(o[a])}return s};k.Z=function(e){N(this);let o=[];if(typeof e=="string")ad(this,e)&&(o=o.concat(this.g.get(O(this,e))));else{e=Array.from(this.g.values());for(let s=0;s<e.length;s++)o=o.concat(e[s])}return o};k.set=function(e,o){return N(this),this.i=null,e=O(this,e),ad(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[o]),this.h+=1,this};k.get=function(e,o){return e?(e=this.Z(e),0<e.length?String(e[0]):o):o};function kc(e,o,s){$c(e,o),0<s.length&&(e.i=null,e.g.set(O(e,o),ma(s)),e.h+=s.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],o=Array.from(this.g.keys());for(var s=0;s<o.length;s++){var a=o[s];const h=encodeURIComponent(String(a)),g=this.Z(a);for(a=0;a<g.length;a++){var c=h;g[a]!==""&&(c+="="+encodeURIComponent(String(g[a]))),e.push(c)}}return this.i=e.join("&")};function O(e,o){return o=String(o),e.j&&(o=o.toLowerCase()),o}function Xc(e,o){o&&!e.j&&(N(e),e.i=null,e.g.forEach(function(s,a){var c=a.toLowerCase();a!=c&&($c(this,a),kc(this,c,s))},e)),e.j=o}var bd=class{constructor(e,o){this.g=e,this.map=o}};function cd(e){this.l=e||dd,l.PerformanceNavigationTiming?(e=l.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(l.g&&l.g.Ka&&l.g.Ka()&&l.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dd=10;function ed(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Bc(e){return e.h?1:e.g?e.g.size:0}function xc(e,o){return e.h?e.h==o:e.g?e.g.has(o):!1}function Cc(e,o){e.g?e.g.add(o):e.h=o}function Ec(e,o){e.h&&e.h==o?e.h=null:e.g&&e.g.has(o)&&e.g.delete(o)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function fd(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let o=e.i;for(const s of e.g.values())o=o.concat(s.F);return o}return ma(e.i)}var gd=class{stringify(e){return l.JSON.stringify(e,void 0)}parse(e){return l.JSON.parse(e,void 0)}};function hd(){this.g=new gd}function id(e,o,s){const a=s||"";try{Kc(e,function(c,h){let g=c;p(c)&&(g=jb(c)),o.push(a+h+"="+encodeURIComponent(g))})}catch(c){throw o.push(a+"type="+encodeURIComponent("_badmap")),c}}function jd(e,o){const s=new Gb;if(l.Image){const a=new Image;a.onload=ha(kd,s,a,"TestLoadImage: loaded",!0,o),a.onerror=ha(kd,s,a,"TestLoadImage: error",!1,o),a.onabort=ha(kd,s,a,"TestLoadImage: abort",!1,o),a.ontimeout=ha(kd,s,a,"TestLoadImage: timeout",!1,o),l.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=e}else o(!1)}function kd(e,o,s,a,c){try{o.onload=null,o.onerror=null,o.onabort=null,o.ontimeout=null,c(a)}catch{}}function ld(e){this.l=e.ec||null,this.j=e.ob||!1}r(ld,Ub);ld.prototype.g=function(){return new md(this.l,this.j)};ld.prototype.i=function(e){return function(){return e}}({});function md(e,o){B.call(this),this.F=e,this.u=o,this.m=void 0,this.readyState=nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r(md,B);var nd=0;k=md.prototype;k.open=function(e,o){if(this.readyState!=nd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=o,this.readyState=1,od(this)};k.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const o={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(o.body=e),(this.F||l).fetch(new Request(this.B,o)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=nd};k.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function qd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}k.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var o=e.value?e.value:new Uint8Array(0);(o=this.A.decode(o,{stream:!e.done}))&&(this.response=this.responseText+=o)}e.done?pd(this):od(this),this.readyState==3&&qd(this)}};k.Za=function(e){this.g&&(this.response=this.responseText=e,pd(this))};k.Ya=function(e){this.g&&(this.response=e,pd(this))};k.ka=function(){this.g&&pd(this)};function pd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,od(e)}k.setRequestHeader=function(e,o){this.v.append(e,o)};k.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],o=this.h.entries();for(var s=o.next();!s.done;)s=s.value,e.push(s[0]+": "+s[1]),s=o.next();return e.join(`\r
`)};function od(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var rd=l.JSON.parse;function P(e){B.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sd,this.L=this.M=!1}r(P,B);var sd="",td=/^https?$/i,ud=["POST","PUT"];k=P.prototype;k.Oa=function(e){this.M=e};k.ha=function(e,o,s,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);o=o?o.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Vb(this.u):Vb($b),this.g.onreadystatechange=q(this.La,this);try{this.G=!0,this.g.open(o,String(e),!0),this.G=!1}catch(h){vd(this,h);return}if(e=s||"",s=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var c in a)s.set(c,a[c]);else if(typeof a.keys=="function"&&typeof a.get=="function")for(const h of a.keys())s.set(h,a.get(h));else throw Error("Unknown input type for opt_headers: "+String(a));a=Array.from(s.keys()).find(h=>h.toLowerCase()=="content-type"),c=l.FormData&&e instanceof l.FormData,!(0<=ka(ud,o))||a||c||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,g]of s)this.g.setRequestHeader(h,g);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=xd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(h){vd(this,h)}};function xd(e){return z&&typeof e.timeout=="number"&&e.ontimeout!==void 0}k.ua=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))};function vd(e,o){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=o,e.m=5,yd(e),zd(e)}function yd(e){e.F||(e.F=!0,C$1(e,"complete"),C$1(e,"error"))}k.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,C$1(this,"complete"),C$1(this,"abort"),zd(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())};k.kb=function(){Ad(this)};function Ad(e){if(e.h&&typeof goog<"u"&&(!e.C[1]||H(e)!=4||e.da()!=2)){if(e.v&&H(e)==4)yb(e.La,0,e);else if(C$1(e,"readystatechange"),H(e)==4){e.h=!1;try{const g=e.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}var s;if(!(s=o)){var a;if(a=g===0){var c=String(e.I).match(Lc)[1]||null;!c&&l.self&&l.self.location&&(c=l.self.location.protocol.slice(0,-1)),a=!td.test(c?c.toLowerCase():"")}s=a}if(s)C$1(e,"complete"),C$1(e,"success");else{e.m=6;try{var h=2<H(e)?e.g.statusText:""}catch{h=""}e.j=h+" ["+e.da()+"]",yd(e)}}finally{zd(e)}}}}function zd(e,o){if(e.g){wd(e);const s=e.g,a=e.C[0]?()=>{}:null;e.g=null,e.C=null,o||C$1(e,"ready");try{s.onreadystatechange=a}catch{}}}function wd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(l.clearTimeout(e.A),e.A=null)}k.isActive=function(){return!!this.g};function H(e){return e.g?e.g.readyState:0}k.da=function(){try{return 2<H(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(e){if(this.g){var o=this.g.responseText;return e&&o.indexOf(e)==0&&(o=o.substring(e.length)),rd(o)}};function mc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case sd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(e){const o={};e=(e.g&&2<=H(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let a=0;a<e.length;a++){if(x(e[a]))continue;var s=qb(e[a]);const c=s[0];if(s=s[1],typeof s!="string")continue;s=s.trim();const h=o[c]||[];o[c]=h,h.push(s)}Oa(o,function(a){return a.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bd(e){let o="";return Na(e,function(s,a){o+=a,o+=":",o+=s,o+=`\r
`}),o}function Cd(e,o,s){e:{for(a in s){var a=!1;break e}a=!0}a||(s=Bd(s),typeof e=="string"?s!=null&&encodeURIComponent(String(s)):K(e,o,s))}function Dd(e,o,s){return s&&s.internalChannelParams&&s.internalChannelParams[e]||o}function Ed(e){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,e),this.hb=Dd("retryDelaySeedMs",1e4,e),this.eb=Dd("forwardChannelMaxRetries",2,e),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cd(e&&e.concurrentRequestLimit),this.Ja=new hd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=Ed.prototype;k.ra=8;k.H=1;function Hc(e){if(Fd(e),e.H==3){var o=e.W++,s=G(e.I);if(K(s,"SID",e.K),K(s,"RID",o),K(s,"TYPE","terminate"),Gd(e,s),o=new bc(e,e.l,o),o.L=2,o.A=hc(G(s)),s=!1,l.navigator&&l.navigator.sendBeacon)try{s=l.navigator.sendBeacon(o.A.toString(),"")}catch{}!s&&l.Image&&(new Image().src=o.A,s=!0),s||(o.g=lc(o.l,null),o.g.ha(o.A)),o.G=Date.now(),jc(o)}Hd(e)}function zc(e){e.g&&(vc(e),e.g.cancel(),e.g=null)}function Fd(e){zc(e),e.u&&(l.clearTimeout(e.u),e.u=null),yc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&l.clearTimeout(e.m),e.m=null)}function Gc(e){if(!ed(e.i)&&!e.m){e.m=!0;var o=e.Na;sb||vb(),tb||(sb(),tb=!0),mb.add(o,e),e.C=0}}function Id(e,o){return Bc(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=o.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Rb(q(e.Na,e,o),Jd(e,e.C)),e.C++,!0)}k.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const c=new bc(this,this.l,e);let h=this.s;if(this.U&&(h?(h=Pa(h),Ra(h,this.U)):h=this.U),this.o!==null||this.O||(c.I=h,h=null),this.P)e:{for(var o=0,s=0;s<this.j.length;s++){t:{var a=this.j[s];if("__data__"in a.map&&(a=a.map.__data__,typeof a=="string")){a=a.length;break t}a=void 0}if(a===void 0)break;if(o+=a,4096<o){o=s;break e}if(o===4096||s===this.j.length-1){o=s+1;break e}}o=1e3}else o=1e3;o=Kd(this,c,o),s=G(this.I),K(s,"RID",e),K(s,"CVER",22),this.F&&K(s,"X-HTTP-Session-Id",this.F),Gd(this,s),h&&(this.O?o="headers="+encodeURIComponent(String(Bd(h)))+"&"+o:this.o&&Cd(s,this.o,h)),Cc(this.i,c),this.bb&&K(s,"TYPE","init"),this.P?(K(s,"$req",o),K(s,"SID","null"),c.aa=!0,gc(c,s,null)):gc(c,s,o),this.H=2}}else this.H==3&&(e?Ld(this,e):this.j.length==0||ed(this.i)||Ld(this))};function Ld(e,o){var s;o?s=o.m:s=e.W++;const a=G(e.I);K(a,"SID",e.K),K(a,"RID",s),K(a,"AID",e.V),Gd(e,a),e.o&&e.s&&Cd(a,e.o,e.s),s=new bc(e,e.l,s,e.C+1),e.o===null&&(s.I=e.s),o&&(e.j=o.F.concat(e.j)),o=Kd(e,s,1e3),s.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Cc(e.i,s),gc(s,a,o)}function Gd(e,o){e.na&&Na(e.na,function(s,a){K(o,a,s)}),e.h&&Kc({},function(s,a){K(o,a,s)})}function Kd(e,o,s){s=Math.min(e.j.length,s);var a=e.h?q(e.h.Va,e.h,e):null;e:{var c=e.j;let h=-1;for(;;){const g=["count="+s];h==-1?0<s?(h=c[0].g,g.push("ofs="+h)):h=0:g.push("ofs="+h);let _=!0;for(let et=0;et<s;et++){let rt=c[et].g;const it=c[et].map;if(rt-=h,0>rt)h=Math.max(0,c[et].g-100),_=!1;else try{id(it,g,"req"+rt+"_")}catch{a&&a(it)}}if(_){a=g.join("&");break e}}}return e=e.j.splice(0,s),o.F=e,a}function Fc(e){if(!e.g&&!e.u){e.ba=1;var o=e.Ma;sb||vb(),tb||(sb(),tb=!0),mb.add(o,e),e.A=0}}function Ac(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Rb(q(e.Ma,e),Jd(e,e.A)),e.A++,!0)}k.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rb(q(this.jb,this),e)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$1(10),zc(this),Md(this))};function vc(e){e.B!=null&&(l.clearTimeout(e.B),e.B=null)}function Md(e){e.g=new bc(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var o=G(e.wa);K(o,"RID","rpc"),K(o,"SID",e.K),K(o,"AID",e.V),K(o,"CI",e.G?"0":"1"),!e.G&&e.qa&&K(o,"TO",e.qa),K(o,"TYPE","xmlhttp"),Gd(e,o),e.o&&e.s&&Cd(o,e.o,e.s),e.L&&e.g.setTimeout(e.L);var s=e.g;e=e.pa,s.L=1,s.A=hc(G(o)),s.u=null,s.S=!0,ic(s,e)}k.ib=function(){this.v!=null&&(this.v=null,zc(this),Ac(this),F$1(19))};function yc(e){e.v!=null&&(l.clearTimeout(e.v),e.v=null)}function sc(e,o){var s=null;if(e.g==o){yc(e),vc(e),e.g=null;var a=2}else if(xc(e.i,o))s=o.F,Ec(e.i,o),a=1;else return;if(e.H!=0){if(o.i)if(a==1){s=o.u?o.u.length:0,o=Date.now()-o.G;var c=e.C;a=Mb(),C$1(a,new Qb(a,s)),Gc(e)}else Fc(e);else if(c=o.s,c==3||c==0&&0<o.ca||!(a==1&&Id(e,o)||a==2&&Ac(e)))switch(s&&0<s.length&&(o=e.i,o.i=o.i.concat(s)),c){case 1:J(e,5);break;case 4:J(e,10);break;case 3:J(e,6);break;default:J(e,2)}}}function Jd(e,o){let s=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(s*=2),s*o}function J(e,o){if(e.l.info("Error code "+o),o==2){var s=null;e.h&&(s=null);var a=q(e.pb,e);s||(s=new M("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Nc(s,"https"),hc(s)),jd(s.toString(),a)}else F$1(2);e.H=0,e.h&&e.h.za(o),Hd(e),Fd(e)}k.pb=function(e){e?(this.l.info("Successfully pinged google.com"),F$1(2)):(this.l.info("Failed to ping google.com"),F$1(1))};function Hd(e){if(e.H=0,e.ma=[],e.h){const o=fd(e.i);(o.length!=0||e.j.length!=0)&&(na(e.ma,o),na(e.ma,e.j),e.i.i.length=0,ma(e.j),e.j.length=0),e.h.ya()}}function Dc(e,o,s){var a=s instanceof M?G(s):new M(s);if(a.g!="")o&&(a.g=o+"."+a.g),Oc(a,a.m);else{var c=l.location;a=c.protocol,o=o?o+"."+c.hostname:c.hostname,c=+c.port;var h=new M(null);a&&Nc(h,a),o&&(h.g=o),c&&Oc(h,c),s&&(h.l=s),a=h}return s=e.F,o=e.Da,s&&o&&K(a,s,o),K(a,"VER",e.ra),Gd(e,a),a}function lc(e,o,s){if(o&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return o=e.Ha&&!e.va?new P(new ld({ob:s})):new P(e.va),o.Oa(e.J),o}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function Nd(){}k=Nd.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Od(){if(z&&!(10<=Number(Fa)))throw Error("Environmental error: no available transport.")}Od.prototype.g=function(e,o){return new Q(e,o)};function Q(e,o){B.call(this),this.g=new Ed(o),this.l=e,this.h=o&&o.messageUrlParams||null,e=o&&o.messageHeaders||null,o&&o.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=o&&o.initMessageHeaders||null,o&&o.messageContentType&&(e?e["X-WebChannel-Content-Type"]=o.messageContentType:e={"X-WebChannel-Content-Type":o.messageContentType}),o&&o.Ca&&(e?e["X-WebChannel-Client-Profile"]=o.Ca:e={"X-WebChannel-Client-Profile":o.Ca}),this.g.U=e,(e=o&&o.cc)&&!x(e)&&(this.g.o=e),this.A=o&&o.supportsCrossDomainXhr||!1,this.v=o&&o.sendRawJson||!1,(o=o&&o.httpSessionIdParam)&&!x(o)&&(this.g.F=o,e=this.h,e!==null&&o in e&&(e=this.h,o in e&&delete e[o])),this.j=new R(this)}r(Q,B);Q.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,o=this.l,s=this.h||void 0;F$1(0),e.Y=o,e.na=s||{},e.G=e.aa,e.I=Dc(e,null,e.Y),Gc(e)};Q.prototype.close=function(){Hc(this.g)};Q.prototype.u=function(e){var o=this.g;if(typeof e=="string"){var s={};s.__data__=e,e=s}else this.v&&(s={},s.__data__=jb(e),e=s);o.j.push(new bd(o.fb++,e)),o.H==3&&Gc(o)};Q.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q.$.N.call(this)};function Pd(e){Yb.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var o=e.__sm__;if(o){e:{for(const s in o){e=s;break e}e=void 0}(this.i=e)&&(e=this.i,o=o!==null&&e in o?o[e]:void 0),this.data=o}else this.data=e}r(Pd,Yb);function Qd(){Zb.call(this),this.status=1}r(Qd,Zb);function R(e){this.g=e}r(R,Nd);R.prototype.Ba=function(){C$1(this.g,"a")};R.prototype.Aa=function(e){C$1(this.g,new Pd(e))};R.prototype.za=function(e){C$1(this.g,new Qd)};R.prototype.ya=function(){C$1(this.g,"b")};function Rd(){this.blockSize=-1}function S$1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}r(S$1,Rd);S$1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sd(e,o,s){s||(s=0);var a=Array(16);if(typeof o=="string")for(var c=0;16>c;++c)a[c]=o.charCodeAt(s++)|o.charCodeAt(s++)<<8|o.charCodeAt(s++)<<16|o.charCodeAt(s++)<<24;else for(c=0;16>c;++c)a[c]=o[s++]|o[s++]<<8|o[s++]<<16|o[s++]<<24;o=e.g[0],s=e.g[1],c=e.g[2];var h=e.g[3],g=o+(h^s&(c^h))+a[0]+3614090360&4294967295;o=s+(g<<7&4294967295|g>>>25),g=h+(c^o&(s^c))+a[1]+3905402710&4294967295,h=o+(g<<12&4294967295|g>>>20),g=c+(s^h&(o^s))+a[2]+606105819&4294967295,c=h+(g<<17&4294967295|g>>>15),g=s+(o^c&(h^o))+a[3]+3250441966&4294967295,s=c+(g<<22&4294967295|g>>>10),g=o+(h^s&(c^h))+a[4]+4118548399&4294967295,o=s+(g<<7&4294967295|g>>>25),g=h+(c^o&(s^c))+a[5]+1200080426&4294967295,h=o+(g<<12&4294967295|g>>>20),g=c+(s^h&(o^s))+a[6]+2821735955&4294967295,c=h+(g<<17&4294967295|g>>>15),g=s+(o^c&(h^o))+a[7]+4249261313&4294967295,s=c+(g<<22&4294967295|g>>>10),g=o+(h^s&(c^h))+a[8]+1770035416&4294967295,o=s+(g<<7&4294967295|g>>>25),g=h+(c^o&(s^c))+a[9]+2336552879&4294967295,h=o+(g<<12&4294967295|g>>>20),g=c+(s^h&(o^s))+a[10]+4294925233&4294967295,c=h+(g<<17&4294967295|g>>>15),g=s+(o^c&(h^o))+a[11]+2304563134&4294967295,s=c+(g<<22&4294967295|g>>>10),g=o+(h^s&(c^h))+a[12]+1804603682&4294967295,o=s+(g<<7&4294967295|g>>>25),g=h+(c^o&(s^c))+a[13]+4254626195&4294967295,h=o+(g<<12&4294967295|g>>>20),g=c+(s^h&(o^s))+a[14]+2792965006&4294967295,c=h+(g<<17&4294967295|g>>>15),g=s+(o^c&(h^o))+a[15]+1236535329&4294967295,s=c+(g<<22&4294967295|g>>>10),g=o+(c^h&(s^c))+a[1]+4129170786&4294967295,o=s+(g<<5&4294967295|g>>>27),g=h+(s^c&(o^s))+a[6]+3225465664&4294967295,h=o+(g<<9&4294967295|g>>>23),g=c+(o^s&(h^o))+a[11]+643717713&4294967295,c=h+(g<<14&4294967295|g>>>18),g=s+(h^o&(c^h))+a[0]+3921069994&4294967295,s=c+(g<<20&4294967295|g>>>12),g=o+(c^h&(s^c))+a[5]+3593408605&4294967295,o=s+(g<<5&4294967295|g>>>27),g=h+(s^c&(o^s))+a[10]+38016083&4294967295,h=o+(g<<9&4294967295|g>>>23),g=c+(o^s&(h^o))+a[15]+3634488961&4294967295,c=h+(g<<14&4294967295|g>>>18),g=s+(h^o&(c^h))+a[4]+3889429448&4294967295,s=c+(g<<20&4294967295|g>>>12),g=o+(c^h&(s^c))+a[9]+568446438&4294967295,o=s+(g<<5&4294967295|g>>>27),g=h+(s^c&(o^s))+a[14]+3275163606&4294967295,h=o+(g<<9&4294967295|g>>>23),g=c+(o^s&(h^o))+a[3]+4107603335&4294967295,c=h+(g<<14&4294967295|g>>>18),g=s+(h^o&(c^h))+a[8]+1163531501&4294967295,s=c+(g<<20&4294967295|g>>>12),g=o+(c^h&(s^c))+a[13]+2850285829&4294967295,o=s+(g<<5&4294967295|g>>>27),g=h+(s^c&(o^s))+a[2]+4243563512&4294967295,h=o+(g<<9&4294967295|g>>>23),g=c+(o^s&(h^o))+a[7]+1735328473&4294967295,c=h+(g<<14&4294967295|g>>>18),g=s+(h^o&(c^h))+a[12]+2368359562&4294967295,s=c+(g<<20&4294967295|g>>>12),g=o+(s^c^h)+a[5]+4294588738&4294967295,o=s+(g<<4&4294967295|g>>>28),g=h+(o^s^c)+a[8]+2272392833&4294967295,h=o+(g<<11&4294967295|g>>>21),g=c+(h^o^s)+a[11]+1839030562&4294967295,c=h+(g<<16&4294967295|g>>>16),g=s+(c^h^o)+a[14]+4259657740&4294967295,s=c+(g<<23&4294967295|g>>>9),g=o+(s^c^h)+a[1]+2763975236&4294967295,o=s+(g<<4&4294967295|g>>>28),g=h+(o^s^c)+a[4]+1272893353&4294967295,h=o+(g<<11&4294967295|g>>>21),g=c+(h^o^s)+a[7]+4139469664&4294967295,c=h+(g<<16&4294967295|g>>>16),g=s+(c^h^o)+a[10]+3200236656&4294967295,s=c+(g<<23&4294967295|g>>>9),g=o+(s^c^h)+a[13]+681279174&4294967295,o=s+(g<<4&4294967295|g>>>28),g=h+(o^s^c)+a[0]+3936430074&4294967295,h=o+(g<<11&4294967295|g>>>21),g=c+(h^o^s)+a[3]+3572445317&4294967295,c=h+(g<<16&4294967295|g>>>16),g=s+(c^h^o)+a[6]+76029189&4294967295,s=c+(g<<23&4294967295|g>>>9),g=o+(s^c^h)+a[9]+3654602809&4294967295,o=s+(g<<4&4294967295|g>>>28),g=h+(o^s^c)+a[12]+3873151461&4294967295,h=o+(g<<11&4294967295|g>>>21),g=c+(h^o^s)+a[15]+530742520&4294967295,c=h+(g<<16&4294967295|g>>>16),g=s+(c^h^o)+a[2]+3299628645&4294967295,s=c+(g<<23&4294967295|g>>>9),g=o+(c^(s|~h))+a[0]+4096336452&4294967295,o=s+(g<<6&4294967295|g>>>26),g=h+(s^(o|~c))+a[7]+1126891415&4294967295,h=o+(g<<10&4294967295|g>>>22),g=c+(o^(h|~s))+a[14]+2878612391&4294967295,c=h+(g<<15&4294967295|g>>>17),g=s+(h^(c|~o))+a[5]+4237533241&4294967295,s=c+(g<<21&4294967295|g>>>11),g=o+(c^(s|~h))+a[12]+1700485571&4294967295,o=s+(g<<6&4294967295|g>>>26),g=h+(s^(o|~c))+a[3]+2399980690&4294967295,h=o+(g<<10&4294967295|g>>>22),g=c+(o^(h|~s))+a[10]+4293915773&4294967295,c=h+(g<<15&4294967295|g>>>17),g=s+(h^(c|~o))+a[1]+2240044497&4294967295,s=c+(g<<21&4294967295|g>>>11),g=o+(c^(s|~h))+a[8]+1873313359&4294967295,o=s+(g<<6&4294967295|g>>>26),g=h+(s^(o|~c))+a[15]+4264355552&4294967295,h=o+(g<<10&4294967295|g>>>22),g=c+(o^(h|~s))+a[6]+2734768916&4294967295,c=h+(g<<15&4294967295|g>>>17),g=s+(h^(c|~o))+a[13]+1309151649&4294967295,s=c+(g<<21&4294967295|g>>>11),g=o+(c^(s|~h))+a[4]+4149444226&4294967295,o=s+(g<<6&4294967295|g>>>26),g=h+(s^(o|~c))+a[11]+3174756917&4294967295,h=o+(g<<10&4294967295|g>>>22),g=c+(o^(h|~s))+a[2]+718787259&4294967295,c=h+(g<<15&4294967295|g>>>17),g=s+(h^(c|~o))+a[9]+3951481745&4294967295,e.g[0]=e.g[0]+o&4294967295,e.g[1]=e.g[1]+(c+(g<<21&4294967295|g>>>11))&4294967295,e.g[2]=e.g[2]+c&4294967295,e.g[3]=e.g[3]+h&4294967295}S$1.prototype.j=function(e,o){o===void 0&&(o=e.length);for(var s=o-this.blockSize,a=this.m,c=this.h,h=0;h<o;){if(c==0)for(;h<=s;)Sd(this,e,h),h+=this.blockSize;if(typeof e=="string"){for(;h<o;)if(a[c++]=e.charCodeAt(h++),c==this.blockSize){Sd(this,a),c=0;break}}else for(;h<o;)if(a[c++]=e[h++],c==this.blockSize){Sd(this,a),c=0;break}}this.h=c,this.i+=o};S$1.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var o=1;o<e.length-8;++o)e[o]=0;var s=8*this.i;for(o=e.length-8;o<e.length;++o)e[o]=s&255,s/=256;for(this.j(e),e=Array(16),o=s=0;4>o;++o)for(var a=0;32>a;a+=8)e[s++]=this.g[o]>>>a&255;return e};function T(e,o){this.h=o;for(var s=[],a=!0,c=e.length-1;0<=c;c--){var h=e[c]|0;a&&h==o||(s[c]=h,a=!1)}this.g=s}var sa={};function Td(e){return-128<=e&&128>e?ra(e,function(o){return new T([o|0],0>o?-1:0)}):new T([e|0],0>e?-1:0)}function U(e){if(isNaN(e)||!isFinite(e))return V;if(0>e)return W(U(-e));for(var o=[],s=1,a=0;e>=s;a++)o[a]=e/s|0,s*=Ud;return new T(o,0)}function Vd(e,o){if(e.length==0)throw Error("number format error: empty string");if(o=o||10,2>o||36<o)throw Error("radix out of range: "+o);if(e.charAt(0)=="-")return W(Vd(e.substring(1),o));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=U(Math.pow(o,8)),a=V,c=0;c<e.length;c+=8){var h=Math.min(8,e.length-c),g=parseInt(e.substring(c,c+h),o);8>h?(h=U(Math.pow(o,h)),a=a.R(h).add(U(g))):(a=a.R(s),a=a.add(U(g)))}return a}var Ud=4294967296,V=Td(0),Wd=Td(1),Xd=Td(16777216);k=T.prototype;k.ea=function(){if(X(this))return-W(this).ea();for(var e=0,o=1,s=0;s<this.g.length;s++){var a=this.D(s);e+=(0<=a?a:Ud+a)*o,o*=Ud}return e};k.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Y(this))return"0";if(X(this))return"-"+W(this).toString(e);for(var o=U(Math.pow(e,6)),s=this,a="";;){var c=Yd(s,o).g;s=Zd(s,c.R(o));var h=((0<s.g.length?s.g[0]:s.h)>>>0).toString(e);if(s=c,Y(s))return h+a;for(;6>h.length;)h="0"+h;a=h+a}};k.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Y(e){if(e.h!=0)return!1;for(var o=0;o<e.g.length;o++)if(e.g[o]!=0)return!1;return!0}function X(e){return e.h==-1}k.X=function(e){return e=Zd(this,e),X(e)?-1:Y(e)?0:1};function W(e){for(var o=e.g.length,s=[],a=0;a<o;a++)s[a]=~e.g[a];return new T(s,~e.h).add(Wd)}k.abs=function(){return X(this)?W(this):this};k.add=function(e){for(var o=Math.max(this.g.length,e.g.length),s=[],a=0,c=0;c<=o;c++){var h=a+(this.D(c)&65535)+(e.D(c)&65535),g=(h>>>16)+(this.D(c)>>>16)+(e.D(c)>>>16);a=g>>>16,h&=65535,g&=65535,s[c]=g<<16|h}return new T(s,s[s.length-1]&-2147483648?-1:0)};function Zd(e,o){return e.add(W(o))}k.R=function(e){if(Y(this)||Y(e))return V;if(X(this))return X(e)?W(this).R(W(e)):W(W(this).R(e));if(X(e))return W(this.R(W(e)));if(0>this.X(Xd)&&0>e.X(Xd))return U(this.ea()*e.ea());for(var o=this.g.length+e.g.length,s=[],a=0;a<2*o;a++)s[a]=0;for(a=0;a<this.g.length;a++)for(var c=0;c<e.g.length;c++){var h=this.D(a)>>>16,g=this.D(a)&65535,_=e.D(c)>>>16,et=e.D(c)&65535;s[2*a+2*c]+=g*et,$d(s,2*a+2*c),s[2*a+2*c+1]+=h*et,$d(s,2*a+2*c+1),s[2*a+2*c+1]+=g*_,$d(s,2*a+2*c+1),s[2*a+2*c+2]+=h*_,$d(s,2*a+2*c+2)}for(a=0;a<o;a++)s[a]=s[2*a+1]<<16|s[2*a];for(a=o;a<2*o;a++)s[a]=0;return new T(s,0)};function $d(e,o){for(;(e[o]&65535)!=e[o];)e[o+1]+=e[o]>>>16,e[o]&=65535,o++}function ae$1(e,o){this.g=e,this.h=o}function Yd(e,o){if(Y(o))throw Error("division by zero");if(Y(e))return new ae$1(V,V);if(X(e))return o=Yd(W(e),o),new ae$1(W(o.g),W(o.h));if(X(o))return o=Yd(e,W(o)),new ae$1(W(o.g),o.h);if(30<e.g.length){if(X(e)||X(o))throw Error("slowDivide_ only works with positive integers.");for(var s=Wd,a=o;0>=a.X(e);)s=be(s),a=be(a);var c=Z(s,1),h=Z(a,1);for(a=Z(a,2),s=Z(s,2);!Y(a);){var g=h.add(a);0>=g.X(e)&&(c=c.add(s),h=g),a=Z(a,1),s=Z(s,1)}return o=Zd(e,c.R(o)),new ae$1(c,o)}for(c=V;0<=e.X(o);){for(s=Math.max(1,Math.floor(e.ea()/o.ea())),a=Math.ceil(Math.log(s)/Math.LN2),a=48>=a?1:Math.pow(2,a-48),h=U(s),g=h.R(o);X(g)||0<g.X(e);)s-=a,h=U(s),g=h.R(o);Y(h)&&(h=Wd),c=c.add(h),e=Zd(e,g)}return new ae$1(c,e)}k.gb=function(e){return Yd(this,e).h};k.and=function(e){for(var o=Math.max(this.g.length,e.g.length),s=[],a=0;a<o;a++)s[a]=this.D(a)&e.D(a);return new T(s,this.h&e.h)};k.or=function(e){for(var o=Math.max(this.g.length,e.g.length),s=[],a=0;a<o;a++)s[a]=this.D(a)|e.D(a);return new T(s,this.h|e.h)};k.xor=function(e){for(var o=Math.max(this.g.length,e.g.length),s=[],a=0;a<o;a++)s[a]=this.D(a)^e.D(a);return new T(s,this.h^e.h)};function be(e){for(var o=e.g.length+1,s=[],a=0;a<o;a++)s[a]=e.D(a)<<1|e.D(a-1)>>>31;return new T(s,e.h)}function Z(e,o){var s=o>>5;o%=32;for(var a=e.g.length-s,c=[],h=0;h<a;h++)c[h]=0<o?e.D(h+s)>>>o|e.D(h+s+1)<<32-o:e.D(h+s);return new T(c,e.h)}Od.prototype.createWebChannel=Od.prototype.g;Q.prototype.send=Q.prototype.u;Q.prototype.open=Q.prototype.m;Q.prototype.close=Q.prototype.close;Sb.NO_ERROR=0;Sb.TIMEOUT=8;Sb.HTTP_ERROR=6;Tb.COMPLETE="complete";Wb.EventType=Xb;Xb.OPEN="a";Xb.CLOSE="b";Xb.ERROR="c";Xb.MESSAGE="d";B.prototype.listen=B.prototype.O;P.prototype.listenOnce=P.prototype.P;P.prototype.getLastError=P.prototype.Sa;P.prototype.getLastErrorCode=P.prototype.Ia;P.prototype.getStatus=P.prototype.da;P.prototype.getResponseJson=P.prototype.Wa;P.prototype.getResponseText=P.prototype.ja;P.prototype.send=P.prototype.ha;P.prototype.setWithCredentials=P.prototype.Oa;S$1.prototype.digest=S$1.prototype.l;S$1.prototype.reset=S$1.prototype.reset;S$1.prototype.update=S$1.prototype.j;T.prototype.add=T.prototype.add;T.prototype.multiply=T.prototype.R;T.prototype.modulo=T.prototype.gb;T.prototype.compare=T.prototype.X;T.prototype.toNumber=T.prototype.ea;T.prototype.toString=T.prototype.toString;T.prototype.getBits=T.prototype.D;T.fromNumber=U;T.fromString=Vd;var createWebChannelTransport=function(){return new Od},getStatEventTarget=function(){return Mb()},ErrorCode$1=Sb,EventType=Tb,Event$1=E,Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WebChannel=Wb,XhrIo=P,Md5=S$1,Integer=T;const w="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(o){this.uid=o}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(o){return o.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b.logLevel}function __PRIVATE_logDebug(e,...o){if(b.logLevel<=LogLevel.DEBUG){const s=o.map(__PRIVATE_argToString);b.debug(`Firestore (${S}): ${e}`,...s)}}function __PRIVATE_logError(e,...o){if(b.logLevel<=LogLevel.ERROR){const s=o.map(__PRIVATE_argToString);b.error(`Firestore (${S}): ${e}`,...s)}}function __PRIVATE_logWarn(e,...o){if(b.logLevel<=LogLevel.WARN){const s=o.map(__PRIVATE_argToString);b.warn(`Firestore (${S}): ${e}`,...s)}}function __PRIVATE_argToString(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(e="Unexpected state"){const o=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+e;throw __PRIVATE_logError(o),new Error(o)}function __PRIVATE_hardAssert(e,o){e||fail()}function __PRIVATE_debugCast(e,o){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(o,s){super(o,s),this.code=o,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((o,s)=>{this.resolve=o,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(o,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${o}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(o,s){o.enqueueRetryable(()=>s(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(o){this.token=o,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(o,s){this.changeListener=s,o.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(o){this.t=o,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(o,s){let a=this.i;const c=et=>this.i!==a?(a=this.i,s(et)):Promise.resolve();let h=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new __PRIVATE_Deferred,o.enqueueRetryable(()=>c(this.currentUser))};const g=()=>{const et=h;o.enqueueRetryable(async()=>{await et.promise,await c(this.currentUser)})},_=et=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=et,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(et=>_(et)),setTimeout(()=>{if(!this.auth){const et=this.t.getImmediate({optional:!0});et?_(et):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new __PRIVATE_Deferred)}},0),g()}getToken(){const o=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==o?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(__PRIVATE_hardAssert(typeof a.accessToken=="string"),new __PRIVATE_OAuthToken(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const o=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(o===null||typeof o=="string"),new User(o)}}class __PRIVATE_FirstPartyToken{constructor(o,s,a){this.l=o,this.h=s,this.P=a,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const o=this.T();return o&&this.I.set("Authorization",o),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(o,s,a){this.l=o,this.h=s,this.P=a}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(o,s){o.enqueueRetryable(()=>s(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(o){this.value=o,this.type="AppCheck",this.headers=new Map,o&&o.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(o){this.A=o,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(o,s){const a=h=>{h.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.R;return this.R=h.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?s(h.token):Promise.resolve()};this.o=h=>{o.enqueueRetryable(()=>a(h))};const c=h=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>c(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?c(h):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const o=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(o).then(s=>s?(__PRIVATE_hardAssert(typeof s.token=="string"),this.R=s.token,new AppCheckToken(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(e){const o=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(e);if(o&&typeof o.getRandomValues=="function")o.getRandomValues(s);else for(let a=0;a<e;a++)s[a]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/o.length)*o.length;let a="";for(;a.length<20;){const c=__PRIVATE_randomBytes(40);for(let h=0;h<c.length;++h)a.length<20&&c[h]<s&&(a+=o.charAt(c[h]%o.length))}return a}}function __PRIVATE_primitiveComparator(e,o){return e<o?-1:e>o?1:0}function __PRIVATE_arrayEquals(e,o,s){return e.length===o.length&&e.every((a,c)=>s(a,o[c]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(o,s){if(this.seconds=o,this.nanoseconds=s,s<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(o<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o);if(o>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+o)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(o){return Timestamp.fromMillis(o.getTime())}static fromMillis(o){const s=Math.floor(o/1e3),a=Math.floor(1e6*(o-1e3*s));return new Timestamp(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(o){return this.seconds===o.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,o.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,o.seconds)}isEqual(o){return o.seconds===this.seconds&&o.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const o=this.seconds- -62135596800;return String(o).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(o){this.timestamp=o}static fromTimestamp(o){return new SnapshotVersion(o)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(o){return this.timestamp._compareTo(o.timestamp)}isEqual(o){return this.timestamp.isEqual(o.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(o,s,a){s===void 0?s=0:s>o.length&&fail(),a===void 0?a=o.length-s:a>o.length-s&&fail(),this.segments=o,this.offset=s,this.len=a}get length(){return this.len}isEqual(o){return BasePath.comparator(this,o)===0}child(o){const s=this.segments.slice(this.offset,this.limit());return o instanceof BasePath?o.forEach(a=>{s.push(a)}):s.push(o),this.construct(s)}limit(){return this.offset+this.length}popFirst(o){return o=o===void 0?1:o,this.construct(this.segments,this.offset+o,this.length-o)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(o){return this.segments[this.offset+o]}isEmpty(){return this.length===0}isPrefixOf(o){if(o.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==o.get(s))return!1;return!0}isImmediateParentOf(o){if(this.length+1!==o.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==o.get(s))return!1;return!0}forEach(o){for(let s=this.offset,a=this.limit();s<a;s++)o(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(o,s){const a=Math.min(o.length,s.length);for(let c=0;c<a;c++){const h=o.get(c),g=s.get(c);if(h<g)return-1;if(h>g)return 1}return o.length<s.length?-1:o.length>s.length?1:0}}class ResourcePath extends BasePath{construct(o,s,a){return new ResourcePath(o,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...o){const s=[];for(const a of o){if(a.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(c=>c.length>0))}return new ResourcePath(s)}static emptyPath(){return new ResourcePath([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(o,s,a){return new FieldPath$1(o,s,a)}static isValidIdentifier(o){return C.test(o)}canonicalString(){return this.toArray().map(o=>(o=o.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(o)||(o="`"+o+"`"),o)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(o){const s=[];let a="",c=0;const h=()=>{if(a.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${o}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let g=!1;for(;c<o.length;){const _=o[c];if(_==="\\"){if(c+1===o.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+o);const et=o[c+1];if(et!=="\\"&&et!=="."&&et!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+o);a+=et,c+=2}else _==="`"?(g=!g,c++):_!=="."||g?(a+=_,c++):(h(),c++)}if(h(),g)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+o);return new FieldPath$1(s)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(o){this.path=o}static fromPath(o){return new DocumentKey(ResourcePath.fromString(o))}static fromName(o){return new DocumentKey(ResourcePath.fromString(o).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(o){return this.path.length>=2&&this.path.get(this.path.length-2)===o}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(o){return o!==null&&ResourcePath.comparator(this.path,o.path)===0}toString(){return this.path.toString()}static comparator(o,s){return ResourcePath.comparator(o.path,s.path)}static isDocumentKey(o){return o.length%2==0}static fromSegments(o){return new DocumentKey(new ResourcePath(o.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(e,o){const s=e.toTimestamp().seconds,a=e.toTimestamp().nanoseconds+1,c=SnapshotVersion.fromTimestamp(a===1e9?new Timestamp(s+1,0):new Timestamp(s,a));return new IndexOffset(c,DocumentKey.empty(),o)}function __PRIVATE_newIndexOffsetFromDocument(e){return new IndexOffset(e.readTime,e.key,-1)}class IndexOffset{constructor(o,s,a){this.readTime=o,this.documentKey=s,this.largestBatchId=a}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(e,o){let s=e.readTime.compareTo(o.readTime);return s!==0?s:(s=DocumentKey.comparator(e.documentKey,o.documentKey),s!==0?s:__PRIVATE_primitiveComparator(e.largestBatchId,o.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(o){this.onCommittedListeners.push(o)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(o=>o())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(e){if(e.code!==D.FAILED_PRECONDITION||e.message!==v)throw e;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(o){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,o(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(o){return this.next(void 0,o)}next(o,s){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(o,this.result):new PersistencePromise((a,c)=>{this.nextCallback=h=>{this.wrapSuccess(o,h).next(a,c)},this.catchCallback=h=>{this.wrapFailure(s,h).next(a,c)}})}toPromise(){return new Promise((o,s)=>{this.next(o,s)})}wrapUserFunction(o){try{const s=o();return s instanceof PersistencePromise?s:PersistencePromise.resolve(s)}catch(s){return PersistencePromise.reject(s)}}wrapSuccess(o,s){return o?this.wrapUserFunction(()=>o(s)):PersistencePromise.resolve(s)}wrapFailure(o,s){return o?this.wrapUserFunction(()=>o(s)):PersistencePromise.reject(s)}static resolve(o){return new PersistencePromise((s,a)=>{s(o)})}static reject(o){return new PersistencePromise((s,a)=>{a(o)})}static waitFor(o){return new PersistencePromise((s,a)=>{let c=0,h=0,g=!1;o.forEach(_=>{++c,_.next(()=>{++h,g&&h===c&&s()},et=>a(et))}),g=!0,h===c&&s()})}static or(o){let s=PersistencePromise.resolve(!1);for(const a of o)s=s.next(c=>c?PersistencePromise.resolve(c):a());return s}static forEach(o,s){const a=[];return o.forEach((c,h)=>{a.push(s.call(this,c,h))}),this.waitFor(a)}static mapArray(o,s){return new PersistencePromise((a,c)=>{const h=o.length,g=new Array(h);let _=0;for(let et=0;et<h;et++){const rt=et;s(o[rt]).next(it=>{g[rt]=it,++_,_===h&&a(g)},it=>c(it))}})}static doWhile(o,s){return new PersistencePromise((a,c)=>{const h=()=>{o()===!0?s().next(()=>{h()},c):a()};h()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SimpleDbTransaction{constructor(o,s){this.action=o,this.transaction=s,this.aborted=!1,this.V=new __PRIVATE_Deferred,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{s.error?this.V.reject(new __PRIVATE_IndexedDbTransactionError(o,s.error)):this.V.resolve()},this.transaction.onerror=a=>{const c=__PRIVATE_checkForAndReportiOSError(a.target.error);this.V.reject(new __PRIVATE_IndexedDbTransactionError(o,c))}}static open(o,s,a,c){try{return new __PRIVATE_SimpleDbTransaction(s,o.transaction(c,a))}catch(h){throw new __PRIVATE_IndexedDbTransactionError(s,h)}}get m(){return this.V.promise}abort(o){o&&this.V.reject(o),this.aborted||(__PRIVATE_logDebug("SimpleDb","Aborting transaction:",o?o.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const o=this.transaction;this.aborted||typeof o.commit!="function"||o.commit()}store(o){const s=this.transaction.objectStore(o);return new __PRIVATE_SimpleDbStore(s)}}class __PRIVATE_SimpleDb{constructor(o,s,a){this.name=o,this.version=s,this.p=a,__PRIVATE_SimpleDb.S(getUA())===12.2&&__PRIVATE_logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(o){return __PRIVATE_logDebug("SimpleDb","Removing database:",o),__PRIVATE_wrapRequest(window.indexedDB.deleteDatabase(o)).toPromise()}static D(){if(!isIndexedDBAvailable())return!1;if(__PRIVATE_SimpleDb.C())return!0;const o=getUA(),s=__PRIVATE_SimpleDb.S(o),a=0<s&&s<10,c=__PRIVATE_SimpleDb.v(o),h=0<c&&c<4.5;return!(o.indexOf("MSIE ")>0||o.indexOf("Trident/")>0||o.indexOf("Edge/")>0||a||h)}static C(){var o;return typeof process<"u"&&((o=process.__PRIVATE_env)===null||o===void 0?void 0:o.F)==="YES"}static M(o,s){return o.store(s)}static S(o){const s=o.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static v(o){const s=o.match(/Android ([\d.]+)/i),a=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(a)}async O(o){return this.db||(__PRIVATE_logDebug("SimpleDb","Opening database:",this.name),this.db=await new Promise((s,a)=>{const c=indexedDB.open(this.name,this.version);c.onsuccess=h=>{const g=h.target.result;s(g)},c.onblocked=()=>{a(new __PRIVATE_IndexedDbTransactionError(o,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const g=h.target.error;g.name==="VersionError"?a(new FirestoreError(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):g.name==="InvalidStateError"?a(new FirestoreError(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g)):a(new __PRIVATE_IndexedDbTransactionError(o,g))},c.onupgradeneeded=h=>{__PRIVATE_logDebug("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',h.oldVersion);const g=h.target.result;this.p.N(g,c.transaction,h.oldVersion,this.version).next(()=>{__PRIVATE_logDebug("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=s=>this.L(s)),this.db}B(o){this.L=o,this.db&&(this.db.onversionchange=s=>o(s))}async runTransaction(o,s,a,c){const h=s==="readonly";let g=0;for(;;){++g;try{this.db=await this.O(o);const _=__PRIVATE_SimpleDbTransaction.open(this.db,o,h?"readonly":"readwrite",a),et=c(_).next(rt=>(_.g(),rt)).catch(rt=>(_.abort(rt),PersistencePromise.reject(rt))).toPromise();return et.catch(()=>{}),await _.m,et}catch(_){const et=_,rt=et.name!=="FirebaseError"&&g<3;if(__PRIVATE_logDebug("SimpleDb","Transaction failed with error:",et.message,"Retrying:",rt),this.close(),!rt)return Promise.reject(et)}}}close(){this.db&&this.db.close(),this.db=void 0}}class __PRIVATE_IterationController{constructor(o){this.k=o,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(o){this.k=o}done(){this.q=!0}U(o){this.K=o}delete(){return __PRIVATE_wrapRequest(this.k.delete())}}class __PRIVATE_IndexedDbTransactionError extends FirestoreError{constructor(o,s){super(D.UNAVAILABLE,`IndexedDB transaction '${o}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function __PRIVATE_isIndexedDbTransactionError(e){return e.name==="IndexedDbTransactionError"}class __PRIVATE_SimpleDbStore{constructor(o){this.store=o}put(o,s){let a;return s!==void 0?(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,o,s),a=this.store.put(s,o)):(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,"<auto-key>",o),a=this.store.put(o)),__PRIVATE_wrapRequest(a)}add(o){return __PRIVATE_logDebug("SimpleDb","ADD",this.store.name,o,o),__PRIVATE_wrapRequest(this.store.add(o))}get(o){return __PRIVATE_wrapRequest(this.store.get(o)).next(s=>(s===void 0&&(s=null),__PRIVATE_logDebug("SimpleDb","GET",this.store.name,o,s),s))}delete(o){return __PRIVATE_logDebug("SimpleDb","DELETE",this.store.name,o),__PRIVATE_wrapRequest(this.store.delete(o))}count(){return __PRIVATE_logDebug("SimpleDb","COUNT",this.store.name),__PRIVATE_wrapRequest(this.store.count())}W(o,s){const a=this.options(o,s),c=a.index?this.store.index(a.index):this.store;if(typeof c.getAll=="function"){const h=c.getAll(a.range);return new PersistencePromise((g,_)=>{h.onerror=et=>{_(et.target.error)},h.onsuccess=et=>{g(et.target.result)}})}{const h=this.cursor(a),g=[];return this.G(h,(_,et)=>{g.push(et)}).next(()=>g)}}j(o,s){const a=this.store.getAll(o,s===null?void 0:s);return new PersistencePromise((c,h)=>{a.onerror=g=>{h(g.target.error)},a.onsuccess=g=>{c(g.target.result)}})}H(o,s){__PRIVATE_logDebug("SimpleDb","DELETE ALL",this.store.name);const a=this.options(o,s);a.J=!1;const c=this.cursor(a);return this.G(c,(h,g,_)=>_.delete())}Y(o,s){let a;s?a=o:(a={},s=o);const c=this.cursor(a);return this.G(c,s)}Z(o){const s=this.cursor({});return new PersistencePromise((a,c)=>{s.onerror=h=>{const g=__PRIVATE_checkForAndReportiOSError(h.target.error);c(g)},s.onsuccess=h=>{const g=h.target.result;g?o(g.primaryKey,g.value).next(_=>{_?g.continue():a()}):a()}})}G(o,s){const a=[];return new PersistencePromise((c,h)=>{o.onerror=g=>{h(g.target.error)},o.onsuccess=g=>{const _=g.target.result;if(!_)return void c();const et=new __PRIVATE_IterationController(_),rt=s(_.primaryKey,_.value,et);if(rt instanceof PersistencePromise){const it=rt.catch(ot=>(et.done(),PersistencePromise.reject(ot)));a.push(it)}et.isDone?c():et.$===null?_.continue():_.continue(et.$)}}).next(()=>PersistencePromise.waitFor(a))}options(o,s){let a;return o!==void 0&&(typeof o=="string"?a=o:s=o),{index:a,range:s}}cursor(o){let s="next";if(o.reverse&&(s="prev"),o.index){const a=this.store.index(o.index);return o.J?a.openKeyCursor(o.range,s):a.openCursor(o.range,s)}return this.store.openCursor(o.range,s)}}function __PRIVATE_wrapRequest(e){return new PersistencePromise((o,s)=>{e.onsuccess=a=>{const c=a.target.result;o(c)},e.onerror=a=>{const c=__PRIVATE_checkForAndReportiOSError(a.target.error);s(c)}})}let F=!1;function __PRIVATE_checkForAndReportiOSError(e){const o=__PRIVATE_SimpleDb.S(getUA());if(o>=12.2&&o<13){const s="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(s)>=0){const a=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return F||(F=!0,setTimeout(()=>{throw a},0)),a}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(o,s){this.previousValue=o,s&&(s.sequenceNumberHandler=a=>this.se(a),this.oe=a=>s.writeSequenceNumber(a))}se(o){return this.previousValue=Math.max(o,this.previousValue),this.previousValue}next(){const o=++this.previousValue;return this.oe&&this.oe(o),o}}__PRIVATE_ListenSequence._e=-1;function __PRIVATE_isNullOrUndefined(e){return e==null}function __PRIVATE_isNegativeZero(e){return e===0&&1/e==-1/0}function isSafeInteger(e){return typeof e=="number"&&Number.isInteger(e)&&!__PRIVATE_isNegativeZero(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(e){let o=0;for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&o++;return o}function forEach(e,o){for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&o(s,e[s])}function isEmpty(e){for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(o,s){this.comparator=o,this.root=s||LLRBNode.EMPTY}insert(o,s){return new SortedMap(this.comparator,this.root.insert(o,s,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(o){return new SortedMap(this.comparator,this.root.remove(o,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(o){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(o,s.key);if(a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(o){let s=0,a=this.root;for(;!a.isEmpty();){const c=this.comparator(o,a.key);if(c===0)return s+a.left.size;c<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(o){return this.root.inorderTraversal(o)}forEach(o){this.inorderTraversal((s,a)=>(o(s,a),!1))}toString(){const o=[];return this.inorderTraversal((s,a)=>(o.push(`${s}:${a}`),!1)),`{${o.join(", ")}}`}reverseTraversal(o){return this.root.reverseTraversal(o)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(o){return new SortedMapIterator(this.root,o,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(o){return new SortedMapIterator(this.root,o,this.comparator,!0)}}class SortedMapIterator{constructor(o,s,a,c){this.isReverse=c,this.nodeStack=[];let h=1;for(;!o.isEmpty();)if(h=s?a(o.key,s):1,s&&c&&(h*=-1),h<0)o=this.isReverse?o.left:o.right;else{if(h===0){this.nodeStack.push(o);break}this.nodeStack.push(o),o=this.isReverse?o.right:o.left}}getNext(){let o=this.nodeStack.pop();const s={key:o.key,value:o.value};if(this.isReverse)for(o=o.left;!o.isEmpty();)this.nodeStack.push(o),o=o.right;else for(o=o.right;!o.isEmpty();)this.nodeStack.push(o),o=o.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const o=this.nodeStack[this.nodeStack.length-1];return{key:o.key,value:o.value}}}class LLRBNode{constructor(o,s,a,c,h){this.key=o,this.value=s,this.color=a??LLRBNode.RED,this.left=c??LLRBNode.EMPTY,this.right=h??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(o,s,a,c,h){return new LLRBNode(o??this.key,s??this.value,a??this.color,c??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(o){return this.left.inorderTraversal(o)||o(this.key,this.value)||this.right.inorderTraversal(o)}reverseTraversal(o){return this.right.reverseTraversal(o)||o(this.key,this.value)||this.left.reverseTraversal(o)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(o,s,a){let c=this;const h=a(o,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(o,s,a),null):h===0?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(o,s,a)),c.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let o=this;return o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.removeMin(),null),o.fixUp()}remove(o,s){let a,c=this;if(s(o,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(o,s),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),s(o,c.key)===0){if(c.right.isEmpty())return LLRBNode.EMPTY;a=c.right.min(),c=c.copy(a.key,a.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(o,s))}return c.fixUp()}isRed(){return this.color}fixUp(){let o=this;return o.right.isRed()&&!o.left.isRed()&&(o=o.rotateLeft()),o.left.isRed()&&o.left.left.isRed()&&(o=o.rotateRight()),o.left.isRed()&&o.right.isRed()&&(o=o.colorFlip()),o}moveRedLeft(){let o=this.colorFlip();return o.right.left.isRed()&&(o=o.copy(null,null,null,null,o.right.rotateRight()),o=o.rotateLeft(),o=o.colorFlip()),o}moveRedRight(){let o=this.colorFlip();return o.left.left.isRed()&&(o=o.rotateRight(),o=o.colorFlip()),o}rotateLeft(){const o=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,o,null)}rotateRight(){const o=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,o)}colorFlip(){const o=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,o,s)}checkMaxDepth(){const o=this.check();return Math.pow(2,o)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const o=this.left.check();if(o!==this.right.check())throw fail();return o+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(o,s,a,c,h){return this}insert(o,s,a){return new LLRBNode(o,s)}remove(o,s){return this}isEmpty(){return!0}inorderTraversal(o){return!1}reverseTraversal(o){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(o){this.comparator=o,this.data=new SortedMap(this.comparator)}has(o){return this.data.get(o)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(o){return this.data.indexOf(o)}forEach(o){this.data.inorderTraversal((s,a)=>(o(s),!1))}forEachInRange(o,s){const a=this.data.getIteratorFrom(o[0]);for(;a.hasNext();){const c=a.getNext();if(this.comparator(c.key,o[1])>=0)return;s(c.key)}}forEachWhile(o,s){let a;for(a=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!o(a.getNext().key))return}firstAfterOrEqual(o){const s=this.data.getIteratorFrom(o);return s.hasNext()?s.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(o){return new SortedSetIterator(this.data.getIteratorFrom(o))}add(o){return this.copy(this.data.remove(o).insert(o,!0))}delete(o){return this.has(o)?this.copy(this.data.remove(o)):this}isEmpty(){return this.data.isEmpty()}unionWith(o){let s=this;return s.size<o.size&&(s=o,o=this),o.forEach(a=>{s=s.add(a)}),s}isEqual(o){if(!(o instanceof SortedSet)||this.size!==o.size)return!1;const s=this.data.getIterator(),a=o.data.getIterator();for(;s.hasNext();){const c=s.getNext().key,h=a.getNext().key;if(this.comparator(c,h)!==0)return!1}return!0}toArray(){const o=[];return this.forEach(s=>{o.push(s)}),o}toString(){const o=[];return this.forEach(s=>o.push(s)),"SortedSet("+o.toString()+")"}copy(o){const s=new SortedSet(this.comparator);return s.data=o,s}}class SortedSetIterator{constructor(o){this.iter=o}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(o){this.fields=o,o.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(o){let s=new SortedSet(FieldPath$1.comparator);for(const a of this.fields)s=s.add(a);for(const a of o)s=s.add(a);return new FieldMask(s.toArray())}covers(o){for(const s of this.fields)if(s.isPrefixOf(o))return!0;return!1}isEqual(o){return __PRIVATE_arrayEquals(this.fields,o.fields,(s,a)=>s.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(o){this.binaryString=o}static fromBase64String(o){const s=function(c){try{return atob(c)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+h):h}}(o);return new ByteString(s)}static fromUint8Array(o){const s=function(c){let h="";for(let g=0;g<c.length;++g)h+=String.fromCharCode(c[g]);return h}(o);return new ByteString(s)}[Symbol.iterator](){let o=0;return{next:()=>o<this.binaryString.length?{value:this.binaryString.charCodeAt(o++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const a=new Uint8Array(s.length);for(let c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(o){return __PRIVATE_primitiveComparator(this.binaryString,o.binaryString)}isEqual(o){return this.binaryString===o.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const te=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(e){if(__PRIVATE_hardAssert(!!e),typeof e=="string"){let o=0;const s=te.exec(e);if(__PRIVATE_hardAssert(!!s),s[1]){let c=s[1];c=(c+"000000000").substr(0,9),o=Number(c)}const a=new Date(e);return{seconds:Math.floor(a.getTime()/1e3),nanos:o}}return{seconds:__PRIVATE_normalizeNumber(e.seconds),nanos:__PRIVATE_normalizeNumber(e.nanos)}}function __PRIVATE_normalizeNumber(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function __PRIVATE_normalizeByteString(e){return typeof e=="string"?ByteString.fromBase64String(e):ByteString.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(e){var o,s;return((s=(((o=e==null?void 0:e.mapValue)===null||o===void 0?void 0:o.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(e){const o=e.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(o)?__PRIVATE_getPreviousValue(o):o}function __PRIVATE_getLocalWriteTime(e){const o=__PRIVATE_normalizeTimestamp(e.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(o.seconds,o.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(o,s,a,c,h,g,_,et,rt){this.databaseId=o,this.appId=s,this.persistenceKey=a,this.host=c,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=_,this.longPollingOptions=et,this.useFetchStreams=rt}}class DatabaseId{constructor(o,s){this.projectId=o,this.database=s||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(o){return o instanceof DatabaseId&&o.projectId===this.projectId&&o.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?__PRIVATE_isServerTimestamp(e)?4:__PRIVATE_isMaxValue(e)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(e,o){if(e===o)return!0;const s=__PRIVATE_typeOrder(e);if(s!==__PRIVATE_typeOrder(o))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===o.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(e).isEqual(__PRIVATE_getLocalWriteTime(o));case 3:return function(c,h){if(typeof c.timestampValue=="string"&&typeof h.timestampValue=="string"&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const g=__PRIVATE_normalizeTimestamp(c.timestampValue),_=__PRIVATE_normalizeTimestamp(h.timestampValue);return g.seconds===_.seconds&&g.nanos===_.nanos}(e,o);case 5:return e.stringValue===o.stringValue;case 6:return function(c,h){return __PRIVATE_normalizeByteString(c.bytesValue).isEqual(__PRIVATE_normalizeByteString(h.bytesValue))}(e,o);case 7:return e.referenceValue===o.referenceValue;case 8:return function(c,h){return __PRIVATE_normalizeNumber(c.geoPointValue.latitude)===__PRIVATE_normalizeNumber(h.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(c.geoPointValue.longitude)===__PRIVATE_normalizeNumber(h.geoPointValue.longitude)}(e,o);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return __PRIVATE_normalizeNumber(c.integerValue)===__PRIVATE_normalizeNumber(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const g=__PRIVATE_normalizeNumber(c.doubleValue),_=__PRIVATE_normalizeNumber(h.doubleValue);return g===_?__PRIVATE_isNegativeZero(g)===__PRIVATE_isNegativeZero(_):isNaN(g)&&isNaN(_)}return!1}(e,o);case 9:return __PRIVATE_arrayEquals(e.arrayValue.values||[],o.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(c,h){const g=c.mapValue.fields||{},_=h.mapValue.fields||{};if(__PRIVATE_objectSize(g)!==__PRIVATE_objectSize(_))return!1;for(const et in g)if(g.hasOwnProperty(et)&&(_[et]===void 0||!__PRIVATE_valueEquals(g[et],_[et])))return!1;return!0}(e,o);default:return fail()}}function __PRIVATE_arrayValueContains(e,o){return(e.values||[]).find(s=>__PRIVATE_valueEquals(s,o))!==void 0}function __PRIVATE_valueCompare(e,o){if(e===o)return 0;const s=__PRIVATE_typeOrder(e),a=__PRIVATE_typeOrder(o);if(s!==a)return __PRIVATE_primitiveComparator(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(e.booleanValue,o.booleanValue);case 2:return function(h,g){const _=__PRIVATE_normalizeNumber(h.integerValue||h.doubleValue),et=__PRIVATE_normalizeNumber(g.integerValue||g.doubleValue);return _<et?-1:_>et?1:_===et?0:isNaN(_)?isNaN(et)?0:-1:1}(e,o);case 3:return __PRIVATE_compareTimestamps(e.timestampValue,o.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(e),__PRIVATE_getLocalWriteTime(o));case 5:return __PRIVATE_primitiveComparator(e.stringValue,o.stringValue);case 6:return function(h,g){const _=__PRIVATE_normalizeByteString(h),et=__PRIVATE_normalizeByteString(g);return _.compareTo(et)}(e.bytesValue,o.bytesValue);case 7:return function(h,g){const _=h.split("/"),et=g.split("/");for(let rt=0;rt<_.length&&rt<et.length;rt++){const it=__PRIVATE_primitiveComparator(_[rt],et[rt]);if(it!==0)return it}return __PRIVATE_primitiveComparator(_.length,et.length)}(e.referenceValue,o.referenceValue);case 8:return function(h,g){const _=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(h.latitude),__PRIVATE_normalizeNumber(g.latitude));return _!==0?_:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(h.longitude),__PRIVATE_normalizeNumber(g.longitude))}(e.geoPointValue,o.geoPointValue);case 9:return function(h,g){const _=h.values||[],et=g.values||[];for(let rt=0;rt<_.length&&rt<et.length;++rt){const it=__PRIVATE_valueCompare(_[rt],et[rt]);if(it)return it}return __PRIVATE_primitiveComparator(_.length,et.length)}(e.arrayValue,o.arrayValue);case 10:return function(h,g){if(h===ne.mapValue&&g===ne.mapValue)return 0;if(h===ne.mapValue)return 1;if(g===ne.mapValue)return-1;const _=h.fields||{},et=Object.keys(_),rt=g.fields||{},it=Object.keys(rt);et.sort(),it.sort();for(let ot=0;ot<et.length&&ot<it.length;++ot){const st=__PRIVATE_primitiveComparator(et[ot],it[ot]);if(st!==0)return st;const ct=__PRIVATE_valueCompare(_[et[ot]],rt[it[ot]]);if(ct!==0)return ct}return __PRIVATE_primitiveComparator(et.length,it.length)}(e.mapValue,o.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(e,o){if(typeof e=="string"&&typeof o=="string"&&e.length===o.length)return __PRIVATE_primitiveComparator(e,o);const s=__PRIVATE_normalizeTimestamp(e),a=__PRIVATE_normalizeTimestamp(o),c=__PRIVATE_primitiveComparator(s.seconds,a.seconds);return c!==0?c:__PRIVATE_primitiveComparator(s.nanos,a.nanos)}function canonicalId(e){return __PRIVATE_canonifyValue(e)}function __PRIVATE_canonifyValue(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(s){const a=__PRIVATE_normalizeTimestamp(s);return`time(${a.seconds},${a.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(s){return __PRIVATE_normalizeByteString(s).toBase64()}(e.bytesValue):"referenceValue"in e?function(s){return DocumentKey.fromName(s).toString()}(e.referenceValue):"geoPointValue"in e?function(s){return`geo(${s.latitude},${s.longitude})`}(e.geoPointValue):"arrayValue"in e?function(s){let a="[",c=!0;for(const h of s.values||[])c?c=!1:a+=",",a+=__PRIVATE_canonifyValue(h);return a+"]"}(e.arrayValue):"mapValue"in e?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",h=!0;for(const g of a)h?h=!1:c+=",",c+=`${g}:${__PRIVATE_canonifyValue(s.fields[g])}`;return c+"}"}(e.mapValue):fail()}function isInteger(e){return!!e&&"integerValue"in e}function isArray(e){return!!e&&"arrayValue"in e}function __PRIVATE_isNullValue(e){return!!e&&"nullValue"in e}function __PRIVATE_isNanValue(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function __PRIVATE_isMapValue(e){return!!e&&"mapValue"in e}function __PRIVATE_deepClone(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const o={mapValue:{fields:{}}};return forEach(e.mapValue.fields,(s,a)=>o.mapValue.fields[s]=__PRIVATE_deepClone(a)),o}if(e.arrayValue){const o={arrayValue:{values:[]}};for(let s=0;s<(e.arrayValue.values||[]).length;++s)o.arrayValue.values[s]=__PRIVATE_deepClone(e.arrayValue.values[s]);return o}return Object.assign({},e)}function __PRIVATE_isMaxValue(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(o){this.value=o}static empty(){return new ObjectValue({mapValue:{}})}field(o){if(o.isEmpty())return this.value;{let s=this.value;for(let a=0;a<o.length-1;++a)if(s=(s.mapValue.fields||{})[o.get(a)],!__PRIVATE_isMapValue(s))return null;return s=(s.mapValue.fields||{})[o.lastSegment()],s||null}}set(o,s){this.getFieldsMap(o.popLast())[o.lastSegment()]=__PRIVATE_deepClone(s)}setAll(o){let s=FieldPath$1.emptyPath(),a={},c=[];o.forEach((g,_)=>{if(!s.isImmediateParentOf(_)){const et=this.getFieldsMap(s);this.applyChanges(et,a,c),a={},c=[],s=_.popLast()}g?a[_.lastSegment()]=__PRIVATE_deepClone(g):c.push(_.lastSegment())});const h=this.getFieldsMap(s);this.applyChanges(h,a,c)}delete(o){const s=this.field(o.popLast());__PRIVATE_isMapValue(s)&&s.mapValue.fields&&delete s.mapValue.fields[o.lastSegment()]}isEqual(o){return __PRIVATE_valueEquals(this.value,o.value)}getFieldsMap(o){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<o.length;++a){let c=s.mapValue.fields[o.get(a)];__PRIVATE_isMapValue(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},s.mapValue.fields[o.get(a)]=c),s=c}return s.mapValue.fields}applyChanges(o,s,a){forEach(s,(c,h)=>o[c]=h);for(const c of a)delete o[c]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(e){const o=[];return forEach(e.fields,(s,a)=>{const c=new FieldPath$1([s]);if(__PRIVATE_isMapValue(a)){const h=__PRIVATE_extractFieldMask(a.mapValue).fields;if(h.length===0)o.push(c);else for(const g of h)o.push(c.child(g))}else o.push(c)}),new FieldMask(o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(o,s,a,c,h,g,_){this.key=o,this.documentType=s,this.version=a,this.readTime=c,this.createTime=h,this.data=g,this.documentState=_}static newInvalidDocument(o){return new MutableDocument(o,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(o,s,a,c){return new MutableDocument(o,1,s,SnapshotVersion.min(),a,c,0)}static newNoDocument(o,s){return new MutableDocument(o,2,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(o,s){return new MutableDocument(o,3,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(o,s){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=o),this.version=o,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(o){return this.version=o,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(o){return this.version=o,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(o){return this.readTime=o,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(o){return o instanceof MutableDocument&&this.key.isEqual(o.key)&&this.version.isEqual(o.version)&&this.documentType===o.documentType&&this.documentState===o.documentState&&this.data.isEqual(o.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(o,s){this.position=o,this.inclusive=s}}function __PRIVATE_boundCompareToDocument(e,o,s){let a=0;for(let c=0;c<e.position.length;c++){const h=o[c],g=e.position[c];if(h.field.isKeyField()?a=DocumentKey.comparator(DocumentKey.fromName(g.referenceValue),s.key):a=__PRIVATE_valueCompare(g,s.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function __PRIVATE_boundEquals(e,o){if(e===null)return o===null;if(o===null||e.inclusive!==o.inclusive||e.position.length!==o.position.length)return!1;for(let s=0;s<e.position.length;s++)if(!__PRIVATE_valueEquals(e.position[s],o.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(o,s="asc"){this.field=o,this.dir=s}}function __PRIVATE_orderByEquals(e,o){return e.dir===o.dir&&e.field.isEqual(o.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(o,s,a){super(),this.field=o,this.op=s,this.value=a}static create(o,s,a){return o.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(o,s,a):new __PRIVATE_KeyFieldFilter(o,s,a):s==="array-contains"?new __PRIVATE_ArrayContainsFilter(o,a):s==="in"?new __PRIVATE_InFilter(o,a):s==="not-in"?new __PRIVATE_NotInFilter(o,a):s==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(o,a):new FieldFilter(o,s,a)}static createKeyFieldInFilter(o,s,a){return s==="in"?new __PRIVATE_KeyFieldInFilter(o,a):new __PRIVATE_KeyFieldNotInFilter(o,a)}matches(o){const s=o.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value)):s!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(s)&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value))}matchesComparison(o){switch(this.op){case"<":return o<0;case"<=":return o<=0;case"==":return o===0;case"!=":return o!==0;case">":return o>0;case">=":return o>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(o,s){super(),this.filters=o,this.op=s,this.ue=null}static create(o,s){return new CompositeFilter(o,s)}matches(o){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(s=>!s.matches(o))===void 0:this.filters.find(s=>s.matches(o))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((o,s)=>o.concat(s.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(e){return e.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(e){return __PRIVATE_compositeFilterIsFlat(e)&&__PRIVATE_compositeFilterIsConjunction(e)}function __PRIVATE_compositeFilterIsFlat(e){for(const o of e.filters)if(o instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(e){if(e instanceof FieldFilter)return e.field.canonicalString()+e.op.toString()+canonicalId(e.value);if(__PRIVATE_compositeFilterIsFlatConjunction(e))return e.filters.map(o=>__PRIVATE_canonifyFilter(o)).join(",");{const o=e.filters.map(s=>__PRIVATE_canonifyFilter(s)).join(",");return`${e.op}(${o})`}}function __PRIVATE_filterEquals(e,o){return e instanceof FieldFilter?function(a,c){return c instanceof FieldFilter&&a.op===c.op&&a.field.isEqual(c.field)&&__PRIVATE_valueEquals(a.value,c.value)}(e,o):e instanceof CompositeFilter?function(a,c){return c instanceof CompositeFilter&&a.op===c.op&&a.filters.length===c.filters.length?a.filters.reduce((h,g,_)=>h&&__PRIVATE_filterEquals(g,c.filters[_]),!0):!1}(e,o):void fail()}function __PRIVATE_stringifyFilter(e){return e instanceof FieldFilter?function(s){return`${s.field.canonicalString()} ${s.op} ${canonicalId(s.value)}`}(e):e instanceof CompositeFilter?function(s){return s.op.toString()+" {"+s.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(e):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(o,s,a){super(o,s,a),this.key=DocumentKey.fromName(a.referenceValue)}matches(o){const s=DocumentKey.comparator(o.key,this.key);return this.matchesComparison(s)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(o,s){super(o,"in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",s)}matches(o){return this.keys.some(s=>s.isEqual(o.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(o,s){super(o,"not-in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",s)}matches(o){return!this.keys.some(s=>s.isEqual(o.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(e,o){var s;return(((s=o.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(a=>DocumentKey.fromName(a.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(o,s){super(o,"array-contains",s)}matches(o){const s=o.data.field(this.field);return isArray(s)&&__PRIVATE_arrayValueContains(s.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(o,s){super(o,"in",s)}matches(o){const s=o.data.field(this.field);return s!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(o,s){super(o,"not-in",s)}matches(o){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=o.data.field(this.field);return s!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(o,s){super(o,"array-contains-any",s)}matches(o){const s=o.data.field(this.field);return!(!isArray(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>__PRIVATE_arrayValueContains(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(o,s=null,a=[],c=[],h=null,g=null,_=null){this.path=o,this.collectionGroup=s,this.orderBy=a,this.filters=c,this.limit=h,this.startAt=g,this.endAt=_,this.ce=null}}function __PRIVATE_newTarget(e,o=null,s=[],a=[],c=null,h=null,g=null){return new __PRIVATE_TargetImpl(e,o,s,a,c,h,g)}function __PRIVATE_canonifyTarget(e){const o=__PRIVATE_debugCast(e);if(o.ce===null){let s=o.path.canonicalString();o.collectionGroup!==null&&(s+="|cg:"+o.collectionGroup),s+="|f:",s+=o.filters.map(a=>__PRIVATE_canonifyFilter(a)).join(","),s+="|ob:",s+=o.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),__PRIVATE_isNullOrUndefined(o.limit)||(s+="|l:",s+=o.limit),o.startAt&&(s+="|lb:",s+=o.startAt.inclusive?"b:":"a:",s+=o.startAt.position.map(a=>canonicalId(a)).join(",")),o.endAt&&(s+="|ub:",s+=o.endAt.inclusive?"a:":"b:",s+=o.endAt.position.map(a=>canonicalId(a)).join(",")),o.ce=s}return o.ce}function __PRIVATE_targetEquals(e,o){if(e.limit!==o.limit||e.orderBy.length!==o.orderBy.length)return!1;for(let s=0;s<e.orderBy.length;s++)if(!__PRIVATE_orderByEquals(e.orderBy[s],o.orderBy[s]))return!1;if(e.filters.length!==o.filters.length)return!1;for(let s=0;s<e.filters.length;s++)if(!__PRIVATE_filterEquals(e.filters[s],o.filters[s]))return!1;return e.collectionGroup===o.collectionGroup&&!!e.path.isEqual(o.path)&&!!__PRIVATE_boundEquals(e.startAt,o.startAt)&&__PRIVATE_boundEquals(e.endAt,o.endAt)}function __PRIVATE_targetIsDocumentTarget(e){return DocumentKey.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(o,s=null,a=[],c=[],h=null,g="F",_=null,et=null){this.path=o,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=c,this.limit=h,this.limitType=g,this.startAt=_,this.endAt=et,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(e,o,s,a,c,h,g,_){return new __PRIVATE_QueryImpl(e,o,s,a,c,h,g,_)}function __PRIVATE_newQueryForPath(e){return new __PRIVATE_QueryImpl(e)}function __PRIVATE_queryMatchesAllDocuments(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(e){return e.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(e){const o=__PRIVATE_debugCast(e);if(o.le===null){o.le=[];const s=new Set;for(const h of o.explicitOrderBy)o.le.push(h),s.add(h.field.canonicalString());const a=o.explicitOrderBy.length>0?o.explicitOrderBy[o.explicitOrderBy.length-1].dir:"asc";(function(g){let _=new SortedSet(FieldPath$1.comparator);return g.filters.forEach(et=>{et.getFlattenedFilters().forEach(rt=>{rt.isInequality()&&(_=_.add(rt.field))})}),_})(o).forEach(h=>{s.has(h.canonicalString())||h.isKeyField()||o.le.push(new OrderBy(h,a))}),s.has(FieldPath$1.keyField().canonicalString())||o.le.push(new OrderBy(FieldPath$1.keyField(),a))}return o.le}function __PRIVATE_queryToTarget(e){const o=__PRIVATE_debugCast(e);return o.he||(o.he=__PRIVATE__queryToTarget(o,__PRIVATE_queryNormalizedOrderBy(e))),o.he}function __PRIVATE__queryToTarget(e,o){if(e.limitType==="F")return __PRIVATE_newTarget(e.path,e.collectionGroup,o,e.filters,e.limit,e.startAt,e.endAt);{o=o.map(c=>{const h=c.dir==="desc"?"asc":"desc";return new OrderBy(c.field,h)});const s=e.endAt?new Bound(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Bound(e.startAt.position,e.startAt.inclusive):null;return __PRIVATE_newTarget(e.path,e.collectionGroup,o,e.filters,e.limit,s,a)}}function __PRIVATE_queryWithLimit(e,o,s){return new __PRIVATE_QueryImpl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),o,s,e.startAt,e.endAt)}function __PRIVATE_queryEquals(e,o){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(e),__PRIVATE_queryToTarget(o))&&e.limitType===o.limitType}function __PRIVATE_canonifyQuery(e){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(e))}|lt:${e.limitType}`}function __PRIVATE_stringifyQuery(e){return`Query(target=${function(s){let a=s.path.canonicalString();return s.collectionGroup!==null&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map(c=>__PRIVATE_stringifyFilter(c)).join(", ")}]`),__PRIVATE_isNullOrUndefined(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map(c=>function(g){return`${g.field.canonicalString()} (${g.dir})`}(c)).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map(c=>canonicalId(c)).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map(c=>canonicalId(c)).join(",")),`Target(${a})`}(__PRIVATE_queryToTarget(e))}; limitType=${e.limitType})`}function __PRIVATE_queryMatches(e,o){return o.isFoundDocument()&&function(a,c){const h=c.key.path;return a.collectionGroup!==null?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):DocumentKey.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(e,o)&&function(a,c){for(const h of __PRIVATE_queryNormalizedOrderBy(a))if(!h.field.isKeyField()&&c.data.field(h.field)===null)return!1;return!0}(e,o)&&function(a,c){for(const h of a.filters)if(!h.matches(c))return!1;return!0}(e,o)&&function(a,c){return!(a.startAt&&!function(g,_,et){const rt=__PRIVATE_boundCompareToDocument(g,_,et);return g.inclusive?rt<=0:rt<0}(a.startAt,__PRIVATE_queryNormalizedOrderBy(a),c)||a.endAt&&!function(g,_,et){const rt=__PRIVATE_boundCompareToDocument(g,_,et);return g.inclusive?rt>=0:rt>0}(a.endAt,__PRIVATE_queryNormalizedOrderBy(a),c))}(e,o)}function __PRIVATE_queryCollectionGroup(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function __PRIVATE_newQueryComparator(e){return(o,s)=>{let a=!1;for(const c of __PRIVATE_queryNormalizedOrderBy(e)){const h=__PRIVATE_compareDocs(c,o,s);if(h!==0)return h;a=a||c.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(e,o,s){const a=e.field.isKeyField()?DocumentKey.comparator(o.key,s.key):function(h,g,_){const et=g.data.field(h),rt=_.data.field(h);return et!==null&&rt!==null?__PRIVATE_valueCompare(et,rt):fail()}(e.field,o,s);switch(e.dir){case"asc":return a;case"desc":return-1*a;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(o,s){this.mapKeyFn=o,this.equalsFn=s,this.inner={},this.innerSize=0}get(o){const s=this.mapKeyFn(o),a=this.inner[s];if(a!==void 0){for(const[c,h]of a)if(this.equalsFn(c,o))return h}}has(o){return this.get(o)!==void 0}set(o,s){const a=this.mapKeyFn(o),c=this.inner[a];if(c===void 0)return this.inner[a]=[[o,s]],void this.innerSize++;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],o))return void(c[h]=[o,s]);c.push([o,s]),this.innerSize++}delete(o){const s=this.mapKeyFn(o),a=this.inner[s];if(a===void 0)return!1;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],o))return a.length===1?delete this.inner[s]:a.splice(c,1),this.innerSize--,!0;return!1}forEach(o){forEach(this.inner,(s,a)=>{for(const[c,h]of a)o(c,h)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return ie}const se=new SortedMap(DocumentKey.comparator);function documentMap(...e){let o=se;for(const s of e)o=o.insert(s.key,s);return o}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(e){let o=se;return e.forEach((s,a)=>o=o.insert(s,a.overlayedDocument)),o}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(e=>e.toString(),(e,o)=>e.isEqual(o))}const oe=new SortedMap(DocumentKey.comparator),_e=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...e){let o=_e;for(const s of e)o=o.add(s);return o}const ae=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ae}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(e,o){if(e.useProto3Json){if(isNaN(o))return{doubleValue:"NaN"};if(o===1/0)return{doubleValue:"Infinity"};if(o===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(o)?"-0":o}}function __PRIVATE_toInteger(e){return{integerValue:""+e}}function toNumber(e,o){return isSafeInteger(o)?__PRIVATE_toInteger(o):__PRIVATE_toDouble(e,o)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(e,o,s){return e instanceof __PRIVATE_ServerTimestampTransform?function(c,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&__PRIVATE_isServerTimestamp(h)&&(h=__PRIVATE_getPreviousValue(h)),h&&(g.fields.__previous_value__=h),{mapValue:g}}(s,o):e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,o):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,o):function(c,h){const g=__PRIVATE_computeTransformOperationBaseValue(c,h),_=asNumber(g)+asNumber(c.Ie);return isInteger(g)&&isInteger(c.Ie)?__PRIVATE_toInteger(_):__PRIVATE_toDouble(c.serializer,_)}(e,o)}function __PRIVATE_applyTransformOperationToRemoteDocument(e,o,s){return e instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(e,o):e instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(e,o):s}function __PRIVATE_computeTransformOperationBaseValue(e,o){return e instanceof __PRIVATE_NumericIncrementTransformOperation?function(a){return isInteger(a)||function(h){return!!h&&"doubleValue"in h}(a)}(o)?o:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(o){super(),this.elements=o}}function __PRIVATE_applyArrayUnionTransformOperation(e,o){const s=__PRIVATE_coercedFieldValuesArray(o);for(const a of e.elements)s.some(c=>__PRIVATE_valueEquals(c,a))||s.push(a);return{arrayValue:{values:s}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(o){super(),this.elements=o}}function __PRIVATE_applyArrayRemoveTransformOperation(e,o){let s=__PRIVATE_coercedFieldValuesArray(o);for(const a of e.elements)s=s.filter(c=>!__PRIVATE_valueEquals(c,a));return{arrayValue:{values:s}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(o,s){super(),this.serializer=o,this.Ie=s}}function asNumber(e){return __PRIVATE_normalizeNumber(e.integerValue||e.doubleValue)}function __PRIVATE_coercedFieldValuesArray(e){return isArray(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function __PRIVATE_fieldTransformEquals(e,o){return e.field.isEqual(o.field)&&function(a,c){return a instanceof __PRIVATE_ArrayUnionTransformOperation&&c instanceof __PRIVATE_ArrayUnionTransformOperation||a instanceof __PRIVATE_ArrayRemoveTransformOperation&&c instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(a.elements,c.elements,__PRIVATE_valueEquals):a instanceof __PRIVATE_NumericIncrementTransformOperation&&c instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(a.Ie,c.Ie):a instanceof __PRIVATE_ServerTimestampTransform&&c instanceof __PRIVATE_ServerTimestampTransform}(e.transform,o.transform)}class MutationResult{constructor(o,s){this.version=o,this.transformResults=s}}class Precondition{constructor(o,s){this.updateTime=o,this.exists=s}static none(){return new Precondition}static exists(o){return new Precondition(void 0,o)}static updateTime(o){return new Precondition(o)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(o){return this.exists===o.exists&&(this.updateTime?!!o.updateTime&&this.updateTime.isEqual(o.updateTime):!o.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(e,o){return e.updateTime!==void 0?o.isFoundDocument()&&o.version.isEqual(e.updateTime):e.exists===void 0||e.exists===o.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(e,o){if(!e.hasLocalMutations||o&&o.fields.length===0)return null;if(o===null)return e.isNoDocument()?new __PRIVATE_DeleteMutation(e.key,Precondition.none()):new __PRIVATE_SetMutation(e.key,e.data,Precondition.none());{const s=e.data,a=ObjectValue.empty();let c=new SortedSet(FieldPath$1.comparator);for(let h of o.fields)if(!c.has(h)){let g=s.field(h);g===null&&h.length>1&&(h=h.popLast(),g=s.field(h)),g===null?a.delete(h):a.set(h,g),c=c.add(h)}return new __PRIVATE_PatchMutation(e.key,a,new FieldMask(c.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(e,o,s){e instanceof __PRIVATE_SetMutation?function(c,h,g){const _=c.value.clone(),et=__PRIVATE_serverTransformResults(c.fieldTransforms,h,g.transformResults);_.setAll(et),h.convertToFoundDocument(g.version,_).setHasCommittedMutations()}(e,o,s):e instanceof __PRIVATE_PatchMutation?function(c,h,g){if(!__PRIVATE_preconditionIsValidForDocument(c.precondition,h))return void h.convertToUnknownDocument(g.version);const _=__PRIVATE_serverTransformResults(c.fieldTransforms,h,g.transformResults),et=h.data;et.setAll(__PRIVATE_getPatch(c)),et.setAll(_),h.convertToFoundDocument(g.version,et).setHasCommittedMutations()}(e,o,s):function(c,h,g){h.convertToNoDocument(g.version).setHasCommittedMutations()}(0,o,s)}function __PRIVATE_mutationApplyToLocalView(e,o,s,a){return e instanceof __PRIVATE_SetMutation?function(h,g,_,et){if(!__PRIVATE_preconditionIsValidForDocument(h.precondition,g))return _;const rt=h.value.clone(),it=__PRIVATE_localTransformResults(h.fieldTransforms,et,g);return rt.setAll(it),g.convertToFoundDocument(g.version,rt).setHasLocalMutations(),null}(e,o,s,a):e instanceof __PRIVATE_PatchMutation?function(h,g,_,et){if(!__PRIVATE_preconditionIsValidForDocument(h.precondition,g))return _;const rt=__PRIVATE_localTransformResults(h.fieldTransforms,et,g),it=g.data;return it.setAll(__PRIVATE_getPatch(h)),it.setAll(rt),g.convertToFoundDocument(g.version,it).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(ot=>ot.field))}(e,o,s,a):function(h,g,_){return __PRIVATE_preconditionIsValidForDocument(h.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):_}(e,o,s)}function __PRIVATE_mutationExtractBaseValue(e,o){let s=null;for(const a of e.fieldTransforms){const c=o.data.field(a.field),h=__PRIVATE_computeTransformOperationBaseValue(a.transform,c||null);h!=null&&(s===null&&(s=ObjectValue.empty()),s.set(a.field,h))}return s||null}function __PRIVATE_mutationEquals(e,o){return e.type===o.type&&!!e.key.isEqual(o.key)&&!!e.precondition.isEqual(o.precondition)&&!!function(a,c){return a===void 0&&c===void 0||!(!a||!c)&&__PRIVATE_arrayEquals(a,c,(h,g)=>__PRIVATE_fieldTransformEquals(h,g))}(e.fieldTransforms,o.fieldTransforms)&&(e.type===0?e.value.isEqual(o.value):e.type!==1||e.data.isEqual(o.data)&&e.fieldMask.isEqual(o.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(o,s,a,c=[]){super(),this.key=o,this.value=s,this.precondition=a,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(o,s,a,c,h=[]){super(),this.key=o,this.data=s,this.fieldMask=a,this.precondition=c,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(e){const o=new Map;return e.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=e.data.field(s);o.set(s,a)}}),o}function __PRIVATE_serverTransformResults(e,o,s){const a=new Map;__PRIVATE_hardAssert(e.length===s.length);for(let c=0;c<s.length;c++){const h=e[c],g=h.transform,_=o.data.field(h.field);a.set(h.field,__PRIVATE_applyTransformOperationToRemoteDocument(g,_,s[c]))}return a}function __PRIVATE_localTransformResults(e,o,s){const a=new Map;for(const c of e){const h=c.transform,g=s.data.field(c.field);a.set(c.field,__PRIVATE_applyTransformOperationToLocalView(h,g,o))}return a}class __PRIVATE_DeleteMutation extends Mutation{constructor(o,s){super(),this.key=o,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(o,s){super(),this.key=o,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(o,s,a,c){this.batchId=o,this.localWriteTime=s,this.baseMutations=a,this.mutations=c}applyToRemoteDocument(o,s){const a=s.mutationResults;for(let c=0;c<this.mutations.length;c++){const h=this.mutations[c];h.key.isEqual(o.key)&&__PRIVATE_mutationApplyToRemoteDocument(h,o,a[c])}}applyToLocalView(o,s){for(const a of this.baseMutations)a.key.isEqual(o.key)&&(s=__PRIVATE_mutationApplyToLocalView(a,o,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(o.key)&&(s=__PRIVATE_mutationApplyToLocalView(a,o,s,this.localWriteTime));return s}applyToLocalDocumentSet(o,s){const a=__PRIVATE_newMutationMap();return this.mutations.forEach(c=>{const h=o.get(c.key),g=h.overlayedDocument;let _=this.applyToLocalView(g,h.mutatedFields);_=s.has(c.key)?null:_;const et=__PRIVATE_calculateOverlayMutation(g,_);et!==null&&a.set(c.key,et),g.isValidDocument()||g.convertToNoDocument(SnapshotVersion.min())}),a}keys(){return this.mutations.reduce((o,s)=>o.add(s.key),__PRIVATE_documentKeySet())}isEqual(o){return this.batchId===o.batchId&&__PRIVATE_arrayEquals(this.mutations,o.mutations,(s,a)=>__PRIVATE_mutationEquals(s,a))&&__PRIVATE_arrayEquals(this.baseMutations,o.baseMutations,(s,a)=>__PRIVATE_mutationEquals(s,a))}}class MutationBatchResult{constructor(o,s,a,c){this.batch=o,this.commitVersion=s,this.mutationResults=a,this.docVersions=c}static from(o,s,a){__PRIVATE_hardAssert(o.mutations.length===a.length);let c=function(){return oe}();const h=o.mutations;for(let g=0;g<h.length;g++)c=c.insert(h[g].key,a[g].version);return new MutationBatchResult(o,s,a,c)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(o,s){this.largestBatchId=o,this.mutation=s}getKey(){return this.mutation.key}isEqual(o){return o!==null&&this.mutation===o.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(o,s){this.count=o,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue,ce;function __PRIVATE_isPermanentError(e){switch(e){default:return fail();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(e){if(e===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch(e){case ue.OK:return D.OK;case ue.CANCELLED:return D.CANCELLED;case ue.UNKNOWN:return D.UNKNOWN;case ue.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ue.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ue.INTERNAL:return D.INTERNAL;case ue.UNAVAILABLE:return D.UNAVAILABLE;case ue.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ue.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ue.NOT_FOUND:return D.NOT_FOUND;case ue.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ue.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ue.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ue.ABORTED:return D.ABORTED;case ue.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ue.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ue.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(ce=ue||(ue={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(e){const o=__PRIVATE_newTextEncoder().encode(e),s=new Md5;return s.update(o),new Uint8Array(s.digest())}function __PRIVATE_get64BitUints(e){const o=new DataView(e.buffer),s=o.getUint32(0,!0),a=o.getUint32(4,!0),c=o.getUint32(8,!0),h=o.getUint32(12,!0);return[new Integer([s,a],0),new Integer([c,h],0)]}class BloomFilter{constructor(o,s,a){if(this.bitmap=o,this.padding=s,this.hashCount=a,s<0||s>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${s}`);if(a<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(o.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(o.length===0&&s!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${s}`);this.Te=8*o.length-s,this.Ee=Integer.fromNumber(this.Te)}de(o,s,a){let c=o.add(s.multiply(Integer.fromNumber(a)));return c.compare(he)===1&&(c=new Integer([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ee).toNumber()}Ae(o){return(this.bitmap[Math.floor(o/8)]&1<<o%8)!=0}mightContain(o){if(this.Te===0)return!1;const s=__PRIVATE_getMd5HashValue(o),[a,c]=__PRIVATE_get64BitUints(s);for(let h=0;h<this.hashCount;h++){const g=this.de(a,c,h);if(!this.Ae(g))return!1}return!0}static create(o,s,a){const c=o%8==0?0:8-o%8,h=new Uint8Array(Math.ceil(o/8)),g=new BloomFilter(h,c,s);return a.forEach(_=>g.insert(_)),g}insert(o){if(this.Te===0)return;const s=__PRIVATE_getMd5HashValue(o),[a,c]=__PRIVATE_get64BitUints(s);for(let h=0;h<this.hashCount;h++){const g=this.de(a,c,h);this.Re(g)}}Re(o){const s=Math.floor(o/8),a=o%8;this.bitmap[s]|=1<<a}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(o,s,a,c,h){this.snapshotVersion=o,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=c,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(o,s,a){const c=new Map;return c.set(o,TargetChange.createSynthesizedTargetChangeForCurrentChange(o,s,a)),new RemoteEvent(SnapshotVersion.min(),c,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(o,s,a,c,h){this.resumeToken=o,this.current=s,this.addedDocuments=a,this.modifiedDocuments=c,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(o,s,a){return new TargetChange(a,s,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(o,s,a,c){this.Ve=o,this.removedTargetIds=s,this.key=a,this.me=c}}class __PRIVATE_ExistenceFilterChange{constructor(o,s){this.targetId=o,this.fe=s}}class __PRIVATE_WatchTargetChange{constructor(o,s,a=ByteString.EMPTY_BYTE_STRING,c=null){this.state=o,this.targetIds=s,this.resumeToken=a,this.cause=c}}class __PRIVATE_TargetState{constructor(){this.ge=0,this.pe=__PRIVATE_snapshotChangesMap(),this.ye=ByteString.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(o){o.approximateByteSize()>0&&(this.Se=!0,this.ye=o)}ve(){let o=__PRIVATE_documentKeySet(),s=__PRIVATE_documentKeySet(),a=__PRIVATE_documentKeySet();return this.pe.forEach((c,h)=>{switch(h){case 0:o=o.add(c);break;case 2:s=s.add(c);break;case 1:a=a.add(c);break;default:fail()}}),new TargetChange(this.ye,this.we,o,s,a)}Fe(){this.Se=!1,this.pe=__PRIVATE_snapshotChangesMap()}Me(o,s){this.Se=!0,this.pe=this.pe.insert(o,s)}xe(o){this.Se=!0,this.pe=this.pe.remove(o)}Oe(){this.ge+=1}Ne(){this.ge-=1,__PRIVATE_hardAssert(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class __PRIVATE_WatchChangeAggregator{constructor(o){this.Be=o,this.ke=new Map,this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator)}$e(o){for(const s of o.Ve)o.me&&o.me.isFoundDocument()?this.Ue(s,o.me):this.We(s,o.key,o.me);for(const s of o.removedTargetIds)this.We(s,o.key,o.me)}Ge(o){this.forEachTarget(o,s=>{const a=this.ze(s);switch(o.state){case 0:this.je(s)&&a.Ce(o.resumeToken);break;case 1:a.Ne(),a.be||a.Fe(),a.Ce(o.resumeToken);break;case 2:a.Ne(),a.be||this.removeTarget(s);break;case 3:this.je(s)&&(a.Le(),a.Ce(o.resumeToken));break;case 4:this.je(s)&&(this.He(s),a.Ce(o.resumeToken));break;default:fail()}})}forEachTarget(o,s){o.targetIds.length>0?o.targetIds.forEach(s):this.ke.forEach((a,c)=>{this.je(c)&&s(c)})}Je(o){const s=o.targetId,a=o.fe.count,c=this.Ye(s);if(c){const h=c.target;if(__PRIVATE_targetIsDocumentTarget(h))if(a===0){const g=new DocumentKey(h.path);this.We(s,g,MutableDocument.newNoDocument(g,SnapshotVersion.min()))}else __PRIVATE_hardAssert(a===1);else{const g=this.Ze(s);if(g!==a){const _=this.Xe(o),et=_?this.et(_,o,g):1;if(et!==0){this.He(s);const rt=et===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(s,rt)}}}}}Xe(o){const s=o.fe.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:c=0},hashCount:h=0}=s;let g,_;try{g=__PRIVATE_normalizeByteString(a).toUint8Array()}catch(et){if(et instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+et.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw et}try{_=new BloomFilter(g,c,h)}catch(et){return __PRIVATE_logWarn(et instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",et),null}return _.Te===0?null:_}et(o,s,a){return s.fe.count===a-this.rt(o,s.targetId)?0:2}rt(o,s){const a=this.Be.getRemoteKeysForTarget(s);let c=0;return a.forEach(h=>{const g=this.Be.nt(),_=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;o.mightContain(_)||(this.We(s,h,null),c++)}),c}it(o){const s=new Map;this.ke.forEach((h,g)=>{const _=this.Ye(g);if(_){if(h.current&&__PRIVATE_targetIsDocumentTarget(_.target)){const et=new DocumentKey(_.target.path);this.qe.get(et)!==null||this.st(g,et)||this.We(g,et,MutableDocument.newNoDocument(et,o))}h.De&&(s.set(g,h.ve()),h.Fe())}});let a=__PRIVATE_documentKeySet();this.Qe.forEach((h,g)=>{let _=!0;g.forEachWhile(et=>{const rt=this.Ye(et);return!rt||rt.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)}),_&&(a=a.add(h))}),this.qe.forEach((h,g)=>g.setReadTime(o));const c=new RemoteEvent(o,s,this.Ke,this.qe,a);return this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator),c}Ue(o,s){if(!this.je(o))return;const a=this.st(o,s.key)?2:0;this.ze(o).Me(s.key,a),this.qe=this.qe.insert(s.key,s),this.Qe=this.Qe.insert(s.key,this.ot(s.key).add(o))}We(o,s,a){if(!this.je(o))return;const c=this.ze(o);this.st(o,s)?c.Me(s,1):c.xe(s),this.Qe=this.Qe.insert(s,this.ot(s).delete(o)),a&&(this.qe=this.qe.insert(s,a))}removeTarget(o){this.ke.delete(o)}Ze(o){const s=this.ze(o).ve();return this.Be.getRemoteKeysForTarget(o).size+s.addedDocuments.size-s.removedDocuments.size}Oe(o){this.ze(o).Oe()}ze(o){let s=this.ke.get(o);return s||(s=new __PRIVATE_TargetState,this.ke.set(o,s)),s}ot(o){let s=this.Qe.get(o);return s||(s=new SortedSet(__PRIVATE_primitiveComparator),this.Qe=this.Qe.insert(o,s)),s}je(o){const s=this.Ye(o)!==null;return s||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",o),s}Ye(o){const s=this.ke.get(o);return s&&s.be?null:this.Be._t(o)}He(o){this.ke.set(o,new __PRIVATE_TargetState),this.Be.getRemoteKeysForTarget(o).forEach(s=>{this.We(o,s,null)})}st(o,s){return this.Be.getRemoteKeysForTarget(o).has(s)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Pe={asc:"ASCENDING",desc:"DESCENDING"},Ie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Te={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(o,s){this.databaseId=o,this.useProto3Json=s}}function __PRIVATE_toInt32Proto(e,o){return e.useProto3Json||__PRIVATE_isNullOrUndefined(o)?o:{value:o}}function toTimestamp(e,o){return e.useProto3Json?`${new Date(1e3*o.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+o.nanoseconds).slice(-9)}Z`:{seconds:""+o.seconds,nanos:o.nanoseconds}}function __PRIVATE_toBytes(e,o){return e.useProto3Json?o.toBase64():o.toUint8Array()}function __PRIVATE_toVersion(e,o){return toTimestamp(e,o.toTimestamp())}function __PRIVATE_fromVersion(e){return __PRIVATE_hardAssert(!!e),SnapshotVersion.fromTimestamp(function(s){const a=__PRIVATE_normalizeTimestamp(s);return new Timestamp(a.seconds,a.nanos)}(e))}function __PRIVATE_toResourceName(e,o){return __PRIVATE_toResourcePath(e,o).canonicalString()}function __PRIVATE_toResourcePath(e,o){const s=function(c){return new ResourcePath(["projects",c.projectId,"databases",c.database])}(e).child("documents");return o===void 0?s:s.child(o)}function __PRIVATE_fromResourceName(e){const o=ResourcePath.fromString(e);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(o)),o}function __PRIVATE_toName(e,o){return __PRIVATE_toResourceName(e.databaseId,o.path)}function fromName(e,o){const s=__PRIVATE_fromResourceName(o);if(s.get(1)!==e.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+e.databaseId.projectId);if(s.get(3)!==e.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+e.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(s))}function __PRIVATE_toQueryPath(e,o){return __PRIVATE_toResourceName(e.databaseId,o)}function __PRIVATE_fromQueryPath(e){const o=__PRIVATE_fromResourceName(e);return o.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(o)}function __PRIVATE_getEncodedDatabaseId(e){return new ResourcePath(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(e){return __PRIVATE_hardAssert(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function __PRIVATE_toMutationDocument(e,o,s){return{name:__PRIVATE_toName(e,o),fields:s.value.mapValue.fields}}function __PRIVATE_fromWatchChange(e,o){let s;if("targetChange"in o){o.targetChange;const a=function(rt){return rt==="NO_CHANGE"?0:rt==="ADD"?1:rt==="REMOVE"?2:rt==="CURRENT"?3:rt==="RESET"?4:fail()}(o.targetChange.targetChangeType||"NO_CHANGE"),c=o.targetChange.targetIds||[],h=function(rt,it){return rt.useProto3Json?(__PRIVATE_hardAssert(it===void 0||typeof it=="string"),ByteString.fromBase64String(it||"")):(__PRIVATE_hardAssert(it===void 0||it instanceof Buffer||it instanceof Uint8Array),ByteString.fromUint8Array(it||new Uint8Array))}(e,o.targetChange.resumeToken),g=o.targetChange.cause,_=g&&function(rt){const it=rt.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(rt.code);return new FirestoreError(it,rt.message||"")}(g);s=new __PRIVATE_WatchTargetChange(a,c,h,_||null)}else if("documentChange"in o){o.documentChange;const a=o.documentChange;a.document,a.document.name,a.document.updateTime;const c=fromName(e,a.document.name),h=__PRIVATE_fromVersion(a.document.updateTime),g=a.document.createTime?__PRIVATE_fromVersion(a.document.createTime):SnapshotVersion.min(),_=new ObjectValue({mapValue:{fields:a.document.fields}}),et=MutableDocument.newFoundDocument(c,h,g,_),rt=a.targetIds||[],it=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange(rt,it,et.key,et)}else if("documentDelete"in o){o.documentDelete;const a=o.documentDelete;a.document;const c=fromName(e,a.document),h=a.readTime?__PRIVATE_fromVersion(a.readTime):SnapshotVersion.min(),g=MutableDocument.newNoDocument(c,h),_=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],_,g.key,g)}else if("documentRemove"in o){o.documentRemove;const a=o.documentRemove;a.document;const c=fromName(e,a.document),h=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],h,c,null)}else{if(!("filter"in o))return fail();{o.filter;const a=o.filter;a.targetId;const{count:c=0,unchangedNames:h}=a,g=new ExistenceFilter(c,h),_=a.targetId;s=new __PRIVATE_ExistenceFilterChange(_,g)}}return s}function toMutation(e,o){let s;if(o instanceof __PRIVATE_SetMutation)s={update:__PRIVATE_toMutationDocument(e,o.key,o.value)};else if(o instanceof __PRIVATE_DeleteMutation)s={delete:__PRIVATE_toName(e,o.key)};else if(o instanceof __PRIVATE_PatchMutation)s={update:__PRIVATE_toMutationDocument(e,o.key,o.data),updateMask:__PRIVATE_toDocumentMask(o.fieldMask)};else{if(!(o instanceof __PRIVATE_VerifyMutation))return fail();s={verify:__PRIVATE_toName(e,o.key)}}return o.fieldTransforms.length>0&&(s.updateTransforms=o.fieldTransforms.map(a=>function(h,g){const _=g.transform;if(_ instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:g.field.canonicalString(),increment:_.Ie};throw fail()}(0,a))),o.precondition.isNone||(s.currentDocument=function(c,h){return h.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(c,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:fail()}(e,o.precondition)),s}function __PRIVATE_fromWriteResults(e,o){return e&&e.length>0?(__PRIVATE_hardAssert(o!==void 0),e.map(s=>function(c,h){let g=c.updateTime?__PRIVATE_fromVersion(c.updateTime):__PRIVATE_fromVersion(h);return g.isEqual(SnapshotVersion.min())&&(g=__PRIVATE_fromVersion(h)),new MutationResult(g,c.transformResults||[])}(s,o))):[]}function __PRIVATE_toDocumentsTarget(e,o){return{documents:[__PRIVATE_toQueryPath(e,o.path)]}}function __PRIVATE_toQueryTarget(e,o){const s={structuredQuery:{}},a=o.path;let c;o.collectionGroup!==null?(c=a,s.structuredQuery.from=[{collectionId:o.collectionGroup,allDescendants:!0}]):(c=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=__PRIVATE_toQueryPath(e,c);const h=function(rt){if(rt.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(rt,"and"))}(o.filters);h&&(s.structuredQuery.where=h);const g=function(rt){if(rt.length!==0)return rt.map(it=>function(st){return{field:__PRIVATE_toFieldPathReference(st.field),direction:__PRIVATE_toDirection(st.dir)}}(it))}(o.orderBy);g&&(s.structuredQuery.orderBy=g);const _=__PRIVATE_toInt32Proto(e,o.limit);return _!==null&&(s.structuredQuery.limit=_),o.startAt&&(s.structuredQuery.startAt=function(rt){return{before:rt.inclusive,values:rt.position}}(o.startAt)),o.endAt&&(s.structuredQuery.endAt=function(rt){return{before:!rt.inclusive,values:rt.position}}(o.endAt)),{ut:s,parent:c}}function __PRIVATE_convertQueryTargetToQuery(e){let o=__PRIVATE_fromQueryPath(e.parent);const s=e.structuredQuery,a=s.from?s.from.length:0;let c=null;if(a>0){__PRIVATE_hardAssert(a===1);const it=s.from[0];it.allDescendants?c=it.collectionId:o=o.child(it.collectionId)}let h=[];s.where&&(h=function(ot){const st=__PRIVATE_fromFilter(ot);return st instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(st)?st.getFilters():[st]}(s.where));let g=[];s.orderBy&&(g=function(ot){return ot.map(st=>function(dt){return new OrderBy(__PRIVATE_fromFieldPathReference(dt.field),function(Et){switch(Et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(dt.direction))}(st))}(s.orderBy));let _=null;s.limit&&(_=function(ot){let st;return st=typeof ot=="object"?ot.value:ot,__PRIVATE_isNullOrUndefined(st)?null:st}(s.limit));let et=null;s.startAt&&(et=function(ot){const st=!!ot.before,ct=ot.values||[];return new Bound(ct,st)}(s.startAt));let rt=null;return s.endAt&&(rt=function(ot){const st=!ot.before,ct=ot.values||[];return new Bound(ct,st)}(s.endAt)),__PRIVATE_newQuery(o,c,g,h,_,"F",et,rt)}function __PRIVATE_toListenRequestLabels(e,o){const s=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(o.purpose);return s==null?null:{"goog-listen-tags":s}}function __PRIVATE_fromFilter(e){return e.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(a,"==",{doubleValue:NaN});case"IS_NULL":const c=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(g,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(e):e.fieldFilter!==void 0?function(s){return FieldFilter.create(__PRIVATE_fromFieldPathReference(s.fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(s.fieldFilter.op),s.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(s){return CompositeFilter.create(s.compositeFilter.filters.map(a=>__PRIVATE_fromFilter(a)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return fail()}}(s.compositeFilter.op))}(e):fail()}function __PRIVATE_toDirection(e){return Pe[e]}function __PRIVATE_toOperatorName(e){return Ie[e]}function __PRIVATE_toCompositeOperatorName(e){return Te[e]}function __PRIVATE_toFieldPathReference(e){return{fieldPath:e.canonicalString()}}function __PRIVATE_fromFieldPathReference(e){return FieldPath$1.fromServerFormat(e.fieldPath)}function __PRIVATE_toFilter(e){return e instanceof FieldFilter?function(s){if(s.op==="=="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:__PRIVATE_toOperatorName(s.op),value:s.value}}}(e):e instanceof CompositeFilter?function(s){const a=s.getFilters().map(c=>__PRIVATE_toFilter(c));return a.length===1?a[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(s.op),filters:a}}}(e):fail()}function __PRIVATE_toDocumentMask(e){const o=[];return e.fields.forEach(s=>o.push(s.canonicalString())),{fieldPaths:o}}function __PRIVATE_isValidResourceName(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(o,s,a,c,h=SnapshotVersion.min(),g=SnapshotVersion.min(),_=ByteString.EMPTY_BYTE_STRING,et=null){this.target=o,this.targetId=s,this.purpose=a,this.sequenceNumber=c,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=_,this.expectedCount=et}withSequenceNumber(o){return new TargetData(this.target,this.targetId,this.purpose,o,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(o,s){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,o,null)}withExpectedCount(o){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,o)}withLastLimboFreeSnapshotVersion(o){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,o,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(o){this.ct=o}}function __PRIVATE_fromBundledQuery(e){const o=__PRIVATE_convertQueryTargetToQuery({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?__PRIVATE_queryWithLimit(o,o.limit,"L"):o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(o,s){return this._n.add(s),PersistencePromise.resolve()}getCollectionParents(o,s){return PersistencePromise.resolve(this._n.getEntries(s))}addFieldIndex(o,s){return PersistencePromise.resolve()}deleteFieldIndex(o,s){return PersistencePromise.resolve()}deleteAllFieldIndexes(o){return PersistencePromise.resolve()}createTargetIndexes(o,s){return PersistencePromise.resolve()}getDocumentsMatchingTarget(o,s){return PersistencePromise.resolve(null)}getIndexType(o,s){return PersistencePromise.resolve(0)}getFieldIndexes(o,s){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(o){return PersistencePromise.resolve(null)}getMinOffset(o,s){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(o,s){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(o,s,a){return PersistencePromise.resolve()}updateIndexEntries(o,s){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(o){const s=o.lastSegment(),a=o.popLast(),c=this.index[s]||new SortedSet(ResourcePath.comparator),h=!c.has(a);return this.index[s]=c.add(a),h}has(o){const s=o.lastSegment(),a=o.popLast(),c=this.index[s];return c&&c.has(a)}getEntries(o){return(this.index[o]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(o){this.On=o}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Ln(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(o=>o.toString(),(o,s)=>o.isEqual(s)),this.changesApplied=!1}addEntry(o){this.assertNotApplied(),this.changes.set(o.key,o)}removeEntry(o,s){this.assertNotApplied(),this.changes.set(o,MutableDocument.newInvalidDocument(o).setReadTime(s))}getEntry(o,s){this.assertNotApplied();const a=this.changes.get(s);return a!==void 0?PersistencePromise.resolve(a):this.getFromCache(o,s)}getEntries(o,s){return this.getAllFromCache(o,s)}apply(o){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(o)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(o,s){this.overlayedDocument=o,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(o,s,a,c){this.remoteDocumentCache=o,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=c}getDocument(o,s){let a=null;return this.documentOverlayCache.getOverlay(o,s).next(c=>(a=c,this.remoteDocumentCache.getEntry(o,s))).next(c=>(a!==null&&__PRIVATE_mutationApplyToLocalView(a.mutation,c,FieldMask.empty(),Timestamp.now()),c))}getDocuments(o,s){return this.remoteDocumentCache.getEntries(o,s).next(a=>this.getLocalViewOfDocuments(o,a,__PRIVATE_documentKeySet()).next(()=>a))}getLocalViewOfDocuments(o,s,a=__PRIVATE_documentKeySet()){const c=__PRIVATE_newOverlayMap();return this.populateOverlays(o,c,s).next(()=>this.computeViews(o,s,c,a).next(h=>{let g=documentMap();return h.forEach((_,et)=>{g=g.insert(_,et.overlayedDocument)}),g}))}getOverlayedDocuments(o,s){const a=__PRIVATE_newOverlayMap();return this.populateOverlays(o,a,s).next(()=>this.computeViews(o,s,a,__PRIVATE_documentKeySet()))}populateOverlays(o,s,a){const c=[];return a.forEach(h=>{s.has(h)||c.push(h)}),this.documentOverlayCache.getOverlays(o,c).next(h=>{h.forEach((g,_)=>{s.set(g,_)})})}computeViews(o,s,a,c){let h=__PRIVATE_mutableDocumentMap();const g=__PRIVATE_newDocumentKeyMap(),_=function(){return __PRIVATE_newDocumentKeyMap()}();return s.forEach((et,rt)=>{const it=a.get(rt.key);c.has(rt.key)&&(it===void 0||it.mutation instanceof __PRIVATE_PatchMutation)?h=h.insert(rt.key,rt):it!==void 0?(g.set(rt.key,it.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(it.mutation,rt,it.mutation.getFieldMask(),Timestamp.now())):g.set(rt.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(o,h).next(et=>(et.forEach((rt,it)=>g.set(rt,it)),s.forEach((rt,it)=>{var ot;return _.set(rt,new OverlayedDocument(it,(ot=g.get(rt))!==null&&ot!==void 0?ot:null))}),_))}recalculateAndSaveOverlays(o,s){const a=__PRIVATE_newDocumentKeyMap();let c=new SortedMap((g,_)=>g-_),h=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(o,s).next(g=>{for(const _ of g)_.keys().forEach(et=>{const rt=s.get(et);if(rt===null)return;let it=a.get(et)||FieldMask.empty();it=_.applyToLocalView(rt,it),a.set(et,it);const ot=(c.get(_.batchId)||__PRIVATE_documentKeySet()).add(et);c=c.insert(_.batchId,ot)})}).next(()=>{const g=[],_=c.getReverseIterator();for(;_.hasNext();){const et=_.getNext(),rt=et.key,it=et.value,ot=__PRIVATE_newMutationMap();it.forEach(st=>{if(!h.has(st)){const ct=__PRIVATE_calculateOverlayMutation(s.get(st),a.get(st));ct!==null&&ot.set(st,ct),h=h.add(st)}}),g.push(this.documentOverlayCache.saveOverlays(o,rt,ot))}return PersistencePromise.waitFor(g)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(o,s){return this.remoteDocumentCache.getEntries(o,s).next(a=>this.recalculateAndSaveOverlays(o,a))}getDocumentsMatchingQuery(o,s,a,c){return function(g){return DocumentKey.isDocumentKey(g.path)&&g.collectionGroup===null&&g.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(o,s.path):__PRIVATE_isCollectionGroupQuery(s)?this.getDocumentsMatchingCollectionGroupQuery(o,s,a,c):this.getDocumentsMatchingCollectionQuery(o,s,a,c)}getNextDocuments(o,s,a,c){return this.remoteDocumentCache.getAllFromCollectionGroup(o,s,a,c).next(h=>{const g=c-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(o,s,a.largestBatchId,c-h.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let _=-1,et=h;return g.next(rt=>PersistencePromise.forEach(rt,(it,ot)=>(_<ot.largestBatchId&&(_=ot.largestBatchId),h.get(it)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(o,it).next(st=>{et=et.insert(it,st)}))).next(()=>this.populateOverlays(o,rt,h)).next(()=>this.computeViews(o,et,rt,__PRIVATE_documentKeySet())).next(it=>({batchId:_,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(it)})))})}getDocumentsMatchingDocumentQuery(o,s){return this.getDocument(o,new DocumentKey(s)).next(a=>{let c=documentMap();return a.isFoundDocument()&&(c=c.insert(a.key,a)),c})}getDocumentsMatchingCollectionGroupQuery(o,s,a,c){const h=s.collectionGroup;let g=documentMap();return this.indexManager.getCollectionParents(o,h).next(_=>PersistencePromise.forEach(_,et=>{const rt=function(ot,st){return new __PRIVATE_QueryImpl(st,null,ot.explicitOrderBy.slice(),ot.filters.slice(),ot.limit,ot.limitType,ot.startAt,ot.endAt)}(s,et.child(h));return this.getDocumentsMatchingCollectionQuery(o,rt,a,c).next(it=>{it.forEach((ot,st)=>{g=g.insert(ot,st)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(o,s,a,c){let h;return this.documentOverlayCache.getOverlaysForCollection(o,s.path,a.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(o,s,a,h,c))).next(g=>{h.forEach((et,rt)=>{const it=rt.getKey();g.get(it)===null&&(g=g.insert(it,MutableDocument.newInvalidDocument(it)))});let _=documentMap();return g.forEach((et,rt)=>{const it=h.get(et);it!==void 0&&__PRIVATE_mutationApplyToLocalView(it.mutation,rt,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(s,rt)&&(_=_.insert(et,rt))}),_})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(o){this.serializer=o,this.cr=new Map,this.lr=new Map}getBundleMetadata(o,s){return PersistencePromise.resolve(this.cr.get(s))}saveBundleMetadata(o,s){return this.cr.set(s.id,function(c){return{id:c.id,version:c.version,createTime:__PRIVATE_fromVersion(c.createTime)}}(s)),PersistencePromise.resolve()}getNamedQuery(o,s){return PersistencePromise.resolve(this.lr.get(s))}saveNamedQuery(o,s){return this.lr.set(s.name,function(c){return{name:c.name,query:__PRIVATE_fromBundledQuery(c.bundledQuery),readTime:__PRIVATE_fromVersion(c.readTime)}}(s)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(o,s){return PersistencePromise.resolve(this.overlays.get(s))}getOverlays(o,s){const a=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(s,c=>this.getOverlay(o,c).next(h=>{h!==null&&a.set(c,h)})).next(()=>a)}saveOverlays(o,s,a){return a.forEach((c,h)=>{this.ht(o,s,h)}),PersistencePromise.resolve()}removeOverlaysForBatchId(o,s,a){const c=this.hr.get(a);return c!==void 0&&(c.forEach(h=>this.overlays=this.overlays.remove(h)),this.hr.delete(a)),PersistencePromise.resolve()}getOverlaysForCollection(o,s,a){const c=__PRIVATE_newOverlayMap(),h=s.length+1,g=new DocumentKey(s.child("")),_=this.overlays.getIteratorFrom(g);for(;_.hasNext();){const et=_.getNext().value,rt=et.getKey();if(!s.isPrefixOf(rt.path))break;rt.path.length===h&&et.largestBatchId>a&&c.set(et.getKey(),et)}return PersistencePromise.resolve(c)}getOverlaysForCollectionGroup(o,s,a,c){let h=new SortedMap((rt,it)=>rt-it);const g=this.overlays.getIterator();for(;g.hasNext();){const rt=g.getNext().value;if(rt.getKey().getCollectionGroup()===s&&rt.largestBatchId>a){let it=h.get(rt.largestBatchId);it===null&&(it=__PRIVATE_newOverlayMap(),h=h.insert(rt.largestBatchId,it)),it.set(rt.getKey(),rt)}}const _=__PRIVATE_newOverlayMap(),et=h.getIterator();for(;et.hasNext()&&(et.getNext().value.forEach((rt,it)=>_.set(rt,it)),!(_.size()>=c)););return PersistencePromise.resolve(_)}ht(o,s,a){const c=this.overlays.get(a.key);if(c!==null){const g=this.hr.get(c.largestBatchId).delete(a.key);this.hr.set(c.largestBatchId,g)}this.overlays=this.overlays.insert(a.key,new Overlay(s,a));let h=this.hr.get(s);h===void 0&&(h=__PRIVATE_documentKeySet(),this.hr.set(s,h)),this.hr.set(s,h.add(a.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(o,s){const a=new __PRIVATE_DocReference(o,s);this.Pr=this.Pr.add(a),this.Tr=this.Tr.add(a)}dr(o,s){o.forEach(a=>this.addReference(a,s))}removeReference(o,s){this.Ar(new __PRIVATE_DocReference(o,s))}Rr(o,s){o.forEach(a=>this.removeReference(a,s))}Vr(o){const s=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(s,o),c=new __PRIVATE_DocReference(s,o+1),h=[];return this.Tr.forEachInRange([a,c],g=>{this.Ar(g),h.push(g.key)}),h}mr(){this.Pr.forEach(o=>this.Ar(o))}Ar(o){this.Pr=this.Pr.delete(o),this.Tr=this.Tr.delete(o)}gr(o){const s=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(s,o),c=new __PRIVATE_DocReference(s,o+1);let h=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([a,c],g=>{h=h.add(g.key)}),h}containsKey(o){const s=new __PRIVATE_DocReference(o,0),a=this.Pr.firstAfterOrEqual(s);return a!==null&&o.isEqual(a.key)}}class __PRIVATE_DocReference{constructor(o,s){this.key=o,this.pr=s}static Ir(o,s){return DocumentKey.comparator(o.key,s.key)||__PRIVATE_primitiveComparator(o.pr,s.pr)}static Er(o,s){return __PRIVATE_primitiveComparator(o.pr,s.pr)||DocumentKey.comparator(o.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(o,s){this.indexManager=o,this.referenceDelegate=s,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(o){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(o,s,a,c){const h=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new MutationBatch(h,s,a,c);this.mutationQueue.push(g);for(const _ of c)this.wr=this.wr.add(new __PRIVATE_DocReference(_.key,h)),this.indexManager.addToCollectionParentIndex(o,_.key.path.popLast());return PersistencePromise.resolve(g)}lookupMutationBatch(o,s){return PersistencePromise.resolve(this.Sr(s))}getNextMutationBatchAfterBatchId(o,s){const a=s+1,c=this.br(a),h=c<0?0:c;return PersistencePromise.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(o){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(o,s){const a=new __PRIVATE_DocReference(s,0),c=new __PRIVATE_DocReference(s,Number.POSITIVE_INFINITY),h=[];return this.wr.forEachInRange([a,c],g=>{const _=this.Sr(g.pr);h.push(_)}),PersistencePromise.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(o,s){let a=new SortedSet(__PRIVATE_primitiveComparator);return s.forEach(c=>{const h=new __PRIVATE_DocReference(c,0),g=new __PRIVATE_DocReference(c,Number.POSITIVE_INFINITY);this.wr.forEachInRange([h,g],_=>{a=a.add(_.pr)})}),PersistencePromise.resolve(this.Dr(a))}getAllMutationBatchesAffectingQuery(o,s){const a=s.path,c=a.length+1;let h=a;DocumentKey.isDocumentKey(h)||(h=h.child(""));const g=new __PRIVATE_DocReference(new DocumentKey(h),0);let _=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile(et=>{const rt=et.key.path;return!!a.isPrefixOf(rt)&&(rt.length===c&&(_=_.add(et.pr)),!0)},g),PersistencePromise.resolve(this.Dr(_))}Dr(o){const s=[];return o.forEach(a=>{const c=this.Sr(a);c!==null&&s.push(c)}),s}removeMutationBatch(o,s){__PRIVATE_hardAssert(this.Cr(s.batchId,"removed")===0),this.mutationQueue.shift();let a=this.wr;return PersistencePromise.forEach(s.mutations,c=>{const h=new __PRIVATE_DocReference(c.key,s.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(o,c.key)}).next(()=>{this.wr=a})}Mn(o){}containsKey(o,s){const a=new __PRIVATE_DocReference(s,0),c=this.wr.firstAfterOrEqual(a);return PersistencePromise.resolve(s.isEqual(c&&c.key))}performConsistencyCheck(o){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(o,s){return this.br(o)}br(o){return this.mutationQueue.length===0?0:o-this.mutationQueue[0].batchId}Sr(o){const s=this.br(o);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(o){this.vr=o,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(o){this.indexManager=o}addEntry(o,s){const a=s.key,c=this.docs.get(a),h=c?c.size:0,g=this.vr(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(o,a.path.popLast())}removeEntry(o){const s=this.docs.get(o);s&&(this.docs=this.docs.remove(o),this.size-=s.size)}getEntry(o,s){const a=this.docs.get(s);return PersistencePromise.resolve(a?a.document.mutableCopy():MutableDocument.newInvalidDocument(s))}getEntries(o,s){let a=__PRIVATE_mutableDocumentMap();return s.forEach(c=>{const h=this.docs.get(c);a=a.insert(c,h?h.document.mutableCopy():MutableDocument.newInvalidDocument(c))}),PersistencePromise.resolve(a)}getDocumentsMatchingQuery(o,s,a,c){let h=__PRIVATE_mutableDocumentMap();const g=s.path,_=new DocumentKey(g.child("")),et=this.docs.getIteratorFrom(_);for(;et.hasNext();){const{key:rt,value:{document:it}}=et.getNext();if(!g.isPrefixOf(rt.path))break;rt.path.length>g.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(it),a)<=0||(c.has(it.key)||__PRIVATE_queryMatches(s,it))&&(h=h.insert(it.key,it.mutableCopy()))}return PersistencePromise.resolve(h)}getAllFromCollectionGroup(o,s,a,c){fail()}Fr(o,s){return PersistencePromise.forEach(this.docs,a=>s(a))}newChangeBuffer(o){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(o){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(o){super(),this.ar=o}applyChanges(o){const s=[];return this.changes.forEach((a,c)=>{c.isValidDocument()?s.push(this.ar.addEntry(o,c)):this.ar.removeEntry(a)}),PersistencePromise.waitFor(s)}getFromCache(o,s){return this.ar.getEntry(o,s)}getAllFromCache(o,s){return this.ar.getEntries(o,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(o){this.persistence=o,this.Mr=new ObjectMap(s=>__PRIVATE_canonifyTarget(s),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Lr=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(o,s){return this.Mr.forEach((a,c)=>s(c)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(o){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(o){return PersistencePromise.resolve(this.Or)}allocateTargetId(o){return this.highestTargetId=this.Lr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(o,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Or&&(this.Or=s),PersistencePromise.resolve()}qn(o){this.Mr.set(o.target,o);const s=o.targetId;s>this.highestTargetId&&(this.Lr=new __PRIVATE_TargetIdGenerator(s),this.highestTargetId=s),o.sequenceNumber>this.Or&&(this.Or=o.sequenceNumber)}addTargetData(o,s){return this.qn(s),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(o,s){return this.qn(s),PersistencePromise.resolve()}removeTargetData(o,s){return this.Mr.delete(s.target),this.Nr.Vr(s.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(o,s,a){let c=0;const h=[];return this.Mr.forEach((g,_)=>{_.sequenceNumber<=s&&a.get(_.targetId)===null&&(this.Mr.delete(g),h.push(this.removeMatchingKeysForTargetId(o,_.targetId)),c++)}),PersistencePromise.waitFor(h).next(()=>c)}getTargetCount(o){return PersistencePromise.resolve(this.targetCount)}getTargetData(o,s){const a=this.Mr.get(s)||null;return PersistencePromise.resolve(a)}addMatchingKeys(o,s,a){return this.Nr.dr(s,a),PersistencePromise.resolve()}removeMatchingKeys(o,s,a){this.Nr.Rr(s,a);const c=this.persistence.referenceDelegate,h=[];return c&&s.forEach(g=>{h.push(c.markPotentiallyOrphaned(o,g))}),PersistencePromise.waitFor(h)}removeMatchingKeysForTargetId(o,s){return this.Nr.Vr(s),PersistencePromise.resolve()}getMatchingKeysForTargetId(o,s){const a=this.Nr.gr(s);return PersistencePromise.resolve(a)}containsKey(o,s){return PersistencePromise.resolve(this.Nr.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(o,s){this.Br={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=o(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(c){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(c)}(a=>this.referenceDelegate.Kr(a)),this.serializer=new __PRIVATE_LocalSerializer(s),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(o){return this.indexManager}getDocumentOverlayCache(o){let s=this.overlays[o.toKey()];return s||(s=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[o.toKey()]=s),s}getMutationQueue(o,s){let a=this.Br[o.toKey()];return a||(a=new __PRIVATE_MemoryMutationQueue(s,this.referenceDelegate),this.Br[o.toKey()]=a),a}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(o,s,a){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",o);const c=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),a(c).next(h=>this.referenceDelegate.Wr(c).next(()=>h)).toPromise().then(h=>(c.raiseOnCommittedEvent(),h))}Gr(o,s){return PersistencePromise.or(Object.values(this.Br).map(a=>()=>a.containsKey(o,s)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(o){super(),this.currentSequenceNumber=o}}class __PRIVATE_MemoryEagerDelegate{constructor(o){this.persistence=o,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(o){return new __PRIVATE_MemoryEagerDelegate(o)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(o,s,a){return this.zr.addReference(a,s),this.Jr.delete(a.toString()),PersistencePromise.resolve()}removeReference(o,s,a){return this.zr.removeReference(a,s),this.Jr.add(a.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(o,s){return this.Jr.add(s.toString()),PersistencePromise.resolve()}removeTarget(o,s){this.zr.Vr(s.targetId).forEach(c=>this.Jr.add(c.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(o,s.targetId).next(c=>{c.forEach(h=>this.Jr.add(h.toString()))}).next(()=>a.removeTargetData(o,s))}Ur(){this.jr=new Set}Wr(o){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,a=>{const c=DocumentKey.fromPath(a);return this.Yr(o,c).next(h=>{h||s.removeEntry(c,SnapshotVersion.min())})}).next(()=>(this.jr=null,s.apply(o)))}updateLimboDocument(o,s){return this.Yr(o,s).next(a=>{a?this.Jr.delete(s.toString()):this.Jr.add(s.toString())})}Kr(o){return 0}Yr(o,s){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(o,s),()=>this.persistence.Gr(o,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(o,s,a,c){this.targetId=o,this.fromCache=s,this.qi=a,this.Qi=c}static Ki(o,s){let a=__PRIVATE_documentKeySet(),c=__PRIVATE_documentKeySet();for(const h of s.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:c=c.add(h.doc.key)}return new __PRIVATE_LocalViewChanges(o,s.fromCache,a,c)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(o){this._documentReadCount+=o}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return isSafari()?8:__PRIVATE_SimpleDb.v(getUA())>0?6:4}()}initialize(o,s){this.zi=o,this.indexManager=s,this.$i=!0}getDocumentsMatchingQuery(o,s,a,c){const h={result:null};return this.ji(o,s).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.Hi(o,s,c,a).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new QueryContext;return this.Ji(o,s,g).next(_=>{if(h.result=_,this.Ui)return this.Yi(o,s,g,_.size)})}).next(()=>h.result)}Yi(o,s,a,c){return a.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(s),"scans",a.documentReadCount,"local documents and returns",c,"documents as results."),a.documentReadCount>this.Gi*c?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(o,__PRIVATE_queryToTarget(s))):PersistencePromise.resolve())}ji(o,s){if(__PRIVATE_queryMatchesAllDocuments(s))return PersistencePromise.resolve(null);let a=__PRIVATE_queryToTarget(s);return this.indexManager.getIndexType(o,a).next(c=>c===0?null:(s.limit!==null&&c===1&&(s=__PRIVATE_queryWithLimit(s,null,"F"),a=__PRIVATE_queryToTarget(s)),this.indexManager.getDocumentsMatchingTarget(o,a).next(h=>{const g=__PRIVATE_documentKeySet(...h);return this.zi.getDocuments(o,g).next(_=>this.indexManager.getMinOffset(o,a).next(et=>{const rt=this.Zi(s,_);return this.Xi(s,rt,g,et.readTime)?this.ji(o,__PRIVATE_queryWithLimit(s,null,"F")):this.es(o,rt,s,et)}))})))}Hi(o,s,a,c){return __PRIVATE_queryMatchesAllDocuments(s)||c.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(o,a).next(h=>{const g=this.Zi(s,h);return this.Xi(s,g,a,c)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),__PRIVATE_stringifyQuery(s)),this.es(o,g,s,__PRIVATE_newIndexOffsetSuccessorFromReadTime(c,-1)).next(_=>_))})}Zi(o,s){let a=new SortedSet(__PRIVATE_newQueryComparator(o));return s.forEach((c,h)=>{__PRIVATE_queryMatches(o,h)&&(a=a.add(h))}),a}Xi(o,s,a,c){if(o.limit===null)return!1;if(a.size!==s.size)return!0;const h=o.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(c)>0)}Ji(o,s,a){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(s)),this.zi.getDocumentsMatchingQuery(o,s,IndexOffset.min(),a)}es(o,s,a,c){return this.zi.getDocumentsMatchingQuery(o,a,c).next(h=>(s.forEach(g=>{h=h.insert(g.key,g)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(o,s,a,c){this.persistence=o,this.ts=s,this.serializer=c,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap(h=>__PRIVATE_canonifyTarget(h),__PRIVATE_targetEquals),this.ss=new Map,this.os=o.getRemoteDocumentCache(),this.Qr=o.getTargetCache(),this.$r=o.getBundleCache(),this._s(a)}_s(o){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(o),this.indexManager=this.persistence.getIndexManager(o),this.mutationQueue=this.persistence.getMutationQueue(o,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(o){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>o.collect(s,this.ns))}}function __PRIVATE_newLocalStore(e,o,s,a){return new __PRIVATE_LocalStoreImpl(e,o,s,a)}async function __PRIVATE_localStoreHandleUserChange(e,o){const s=__PRIVATE_debugCast(e);return await s.persistence.runTransaction("Handle user change","readonly",a=>{let c;return s.mutationQueue.getAllMutationBatches(a).next(h=>(c=h,s._s(o),s.mutationQueue.getAllMutationBatches(a))).next(h=>{const g=[],_=[];let et=__PRIVATE_documentKeySet();for(const rt of c){g.push(rt.batchId);for(const it of rt.mutations)et=et.add(it.key)}for(const rt of h){_.push(rt.batchId);for(const it of rt.mutations)et=et.add(it.key)}return s.localDocuments.getDocuments(a,et).next(rt=>({us:rt,removedBatchIds:g,addedBatchIds:_}))})})}function __PRIVATE_localStoreAcknowledgeBatch(e,o){const s=__PRIVATE_debugCast(e);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const c=o.batch.keys(),h=s.os.newChangeBuffer({trackRemovals:!0});return function(_,et,rt,it){const ot=rt.batch,st=ot.keys();let ct=PersistencePromise.resolve();return st.forEach(dt=>{ct=ct.next(()=>it.getEntry(et,dt)).next(Tt=>{const Et=rt.docVersions.get(dt);__PRIVATE_hardAssert(Et!==null),Tt.version.compareTo(Et)<0&&(ot.applyToRemoteDocument(Tt,rt),Tt.isValidDocument()&&(Tt.setReadTime(rt.commitVersion),it.addEntry(Tt)))})}),ct.next(()=>_.mutationQueue.removeMutationBatch(et,ot))}(s,a,o,h).next(()=>h.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,c,o.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(_){let et=__PRIVATE_documentKeySet();for(let rt=0;rt<_.mutationResults.length;++rt)_.mutationResults[rt].transformResults.length>0&&(et=et.add(_.batch.mutations[rt].key));return et}(o))).next(()=>s.localDocuments.getDocuments(a,c))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e){const o=__PRIVATE_debugCast(e);return o.persistence.runTransaction("Get last remote snapshot version","readonly",s=>o.Qr.getLastRemoteSnapshotVersion(s))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(e,o){const s=__PRIVATE_debugCast(e),a=o.snapshotVersion;let c=s.ns;return s.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=s.os.newChangeBuffer({trackRemovals:!0});c=s.ns;const _=[];o.targetChanges.forEach((it,ot)=>{const st=c.get(ot);if(!st)return;_.push(s.Qr.removeMatchingKeys(h,it.removedDocuments,ot).next(()=>s.Qr.addMatchingKeys(h,it.addedDocuments,ot)));let ct=st.withSequenceNumber(h.currentSequenceNumber);o.targetMismatches.get(ot)!==null?ct=ct.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):it.resumeToken.approximateByteSize()>0&&(ct=ct.withResumeToken(it.resumeToken,a)),c=c.insert(ot,ct),function(Tt,Et,mt){return Tt.resumeToken.approximateByteSize()===0||Et.snapshotVersion.toMicroseconds()-Tt.snapshotVersion.toMicroseconds()>=3e8?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0}(st,ct,it)&&_.push(s.Qr.updateTargetData(h,ct))});let et=__PRIVATE_mutableDocumentMap(),rt=__PRIVATE_documentKeySet();if(o.documentUpdates.forEach(it=>{o.resolvedLimboDocuments.has(it)&&_.push(s.persistence.referenceDelegate.updateLimboDocument(h,it))}),_.push(__PRIVATE_populateDocumentChangeBuffer(h,g,o.documentUpdates).next(it=>{et=it.cs,rt=it.ls})),!a.isEqual(SnapshotVersion.min())){const it=s.Qr.getLastRemoteSnapshotVersion(h).next(ot=>s.Qr.setTargetsMetadata(h,h.currentSequenceNumber,a));_.push(it)}return PersistencePromise.waitFor(_).next(()=>g.apply(h)).next(()=>s.localDocuments.getLocalViewOfDocuments(h,et,rt)).next(()=>et)}).then(h=>(s.ns=c,h))}function __PRIVATE_populateDocumentChangeBuffer(e,o,s){let a=__PRIVATE_documentKeySet(),c=__PRIVATE_documentKeySet();return s.forEach(h=>a=a.add(h)),o.getEntries(e,a).next(h=>{let g=__PRIVATE_mutableDocumentMap();return s.forEach((_,et)=>{const rt=h.get(_);et.isFoundDocument()!==rt.isFoundDocument()&&(c=c.add(_)),et.isNoDocument()&&et.version.isEqual(SnapshotVersion.min())?(o.removeEntry(_,et.readTime),g=g.insert(_,et)):!rt.isValidDocument()||et.version.compareTo(rt.version)>0||et.version.compareTo(rt.version)===0&&rt.hasPendingWrites?(o.addEntry(et),g=g.insert(_,et)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",_,". Current version:",rt.version," Watch version:",et.version)}),{cs:g,ls:c}})}function __PRIVATE_localStoreGetNextMutationBatch(e,o){const s=__PRIVATE_debugCast(e);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(o===void 0&&(o=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,o)))}function __PRIVATE_localStoreAllocateTarget(e,o){const s=__PRIVATE_debugCast(e);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let c;return s.Qr.getTargetData(a,o).next(h=>h?(c=h,PersistencePromise.resolve(c)):s.Qr.allocateTargetId(a).next(g=>(c=new TargetData(o,g,"TargetPurposeListen",a.currentSequenceNumber),s.Qr.addTargetData(a,c).next(()=>c))))}).then(a=>{const c=s.ns.get(a.targetId);return(c===null||a.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(s.ns=s.ns.insert(a.targetId,a),s.rs.set(o,a.targetId)),a})}async function __PRIVATE_localStoreReleaseTarget(e,o,s){const a=__PRIVATE_debugCast(e),c=a.ns.get(o),h=s?"readwrite":"readwrite-primary";try{s||await a.persistence.runTransaction("Release target",h,g=>a.persistence.referenceDelegate.removeTarget(g,c))}catch(g){if(!__PRIVATE_isIndexedDbTransactionError(g))throw g;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${o}: ${g}`)}a.ns=a.ns.remove(o),a.rs.delete(c.target)}function __PRIVATE_localStoreExecuteQuery(e,o,s){const a=__PRIVATE_debugCast(e);let c=SnapshotVersion.min(),h=__PRIVATE_documentKeySet();return a.persistence.runTransaction("Execute query","readwrite",g=>function(et,rt,it){const ot=__PRIVATE_debugCast(et),st=ot.rs.get(it);return st!==void 0?PersistencePromise.resolve(ot.ns.get(st)):ot.Qr.getTargetData(rt,it)}(a,g,__PRIVATE_queryToTarget(o)).next(_=>{if(_)return c=_.lastLimboFreeSnapshotVersion,a.Qr.getMatchingKeysForTargetId(g,_.targetId).next(et=>{h=et})}).next(()=>a.ts.getDocumentsMatchingQuery(g,o,s?c:SnapshotVersion.min(),s?h:__PRIVATE_documentKeySet())).next(_=>(__PRIVATE_setMaxReadTime(a,__PRIVATE_queryCollectionGroup(o),_),{documents:_,hs:h})))}function __PRIVATE_setMaxReadTime(e,o,s){let a=e.ss.get(o)||SnapshotVersion.min();s.forEach((c,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),e.ss.set(o,a)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}As(o){this.activeTargetIds=this.activeTargetIds.add(o)}Rs(o){this.activeTargetIds=this.activeTargetIds.delete(o)}ds(){const o={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(o)}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(o){}updateMutationState(o,s,a){}addLocalQueryTarget(o){return this.no.As(o),this.ro[o]||"not-current"}updateQueryState(o,s,a){this.ro[o]=s}removeLocalQueryTarget(o){this.no.Rs(o)}isLocalQueryTarget(o){return this.no.activeTargetIds.has(o)}clearQueryState(o){delete this.ro[o]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(o){return this.no.activeTargetIds.has(o)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(o,s,a){}setOnlineState(o){}shutdown(){}writeSequenceNumber(o){}notifyBundleLoaded(o){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{io(o){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(o){this.uo.push(o)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const o of this.uo)o(0)}ao(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const o of this.uo)o(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Re=null;function __PRIVATE_generateUniqueDebugId(){return Re===null?Re=function(){return 268435456+Math.round(2147483648*Math.random())}():Re++,"0x"+Re.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(o){this.lo=o.lo,this.ho=o.ho}Po(o){this.Io=o}To(o){this.Eo=o}onMessage(o){this.Ao=o}close(){this.ho()}send(o){this.lo(o)}Ro(){this.Io()}Vo(o){this.Eo(o)}mo(o){this.Ao(o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const a=s.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.fo=a+"://"+s.host,this.po=`projects/${c}/databases/${h}`,this.yo=this.databaseId.database==="(default)"?`project_id=${c}`:`project_id=${c}&database_id=${h}`}get wo(){return!1}So(s,a,c,h,g){const _=__PRIVATE_generateUniqueDebugId(),et=this.bo(s,a.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${s}' ${_}:`,et,c);const rt={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(rt,h,g),this.Co(s,et,rt,c).then(it=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${s}' ${_}: `,it),it),it=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${s}' ${_} failed with error: `,it,"url: ",et,"request:",c),it})}vo(s,a,c,h,g,_){return this.So(s,a,c,h,g)}Do(s,a,c){s["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((h,g)=>s[g]=h),c&&c.headers.forEach((h,g)=>s[g]=h)}bo(s,a){const c=Ve[s];return`${this.fo}/v1/${a}:${c}`}terminate(){}}{constructor(o){super(o),this.forceLongPolling=o.forceLongPolling,this.autoDetectLongPolling=o.autoDetectLongPolling,this.useFetchStreams=o.useFetchStreams,this.longPollingOptions=o.longPollingOptions}Co(o,s,a,c){const h=__PRIVATE_generateUniqueDebugId();return new Promise((g,_)=>{const et=new XhrIo;et.setWithCredentials(!0),et.listenOnce(EventType.COMPLETE,()=>{try{switch(et.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const it=et.getResponseJson();__PRIVATE_logDebug(me,`XHR for RPC '${o}' ${h} received:`,JSON.stringify(it)),g(it);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(me,`RPC '${o}' ${h} timed out`),_(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const ot=et.getStatus();if(__PRIVATE_logDebug(me,`RPC '${o}' ${h} failed with status:`,ot,"response text:",et.getResponseText()),ot>0){let st=et.getResponseJson();Array.isArray(st)&&(st=st[0]);const ct=st==null?void 0:st.error;if(ct&&ct.status&&ct.message){const dt=function(Et){const mt=Et.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(mt)>=0?mt:D.UNKNOWN}(ct.status);_(new FirestoreError(dt,ct.message))}else _(new FirestoreError(D.UNKNOWN,"Server responded with status "+et.getStatus()))}else _(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(me,`RPC '${o}' ${h} completed.`)}});const rt=JSON.stringify(c);__PRIVATE_logDebug(me,`RPC '${o}' ${h} sending request:`,c),et.send(s,"POST",rt,a,15)})}Fo(o,s,a){const c=__PRIVATE_generateUniqueDebugId(),h=[this.fo,"/","google.firestore.v1.Firestore","/",o,"/channel"],g=createWebChannelTransport(),_=getStatEventTarget(),et={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},rt=this.longPollingOptions.timeoutSeconds;rt!==void 0&&(et.longPollingTimeout=Math.round(1e3*rt)),this.useFetchStreams&&(et.useFetchStreams=!0),this.Do(et.initMessageHeaders,s,a),et.encodeInitMessageHeaders=!0;const it=h.join("");__PRIVATE_logDebug(me,`Creating RPC '${o}' stream ${c}: ${it}`,et);const ot=g.createWebChannel(it,et);let st=!1,ct=!1;const dt=new __PRIVATE_StreamBridge({lo:Et=>{ct?__PRIVATE_logDebug(me,`Not sending because RPC '${o}' stream ${c} is closed:`,Et):(st||(__PRIVATE_logDebug(me,`Opening RPC '${o}' stream ${c} transport.`),ot.open(),st=!0),__PRIVATE_logDebug(me,`RPC '${o}' stream ${c} sending:`,Et),ot.send(Et))},ho:()=>ot.close()}),Tt=(Et,mt,gt)=>{Et.listen(mt,xt=>{try{gt(xt)}catch(bt){setTimeout(()=>{throw bt},0)}})};return Tt(ot,WebChannel.EventType.OPEN,()=>{ct||__PRIVATE_logDebug(me,`RPC '${o}' stream ${c} transport opened.`)}),Tt(ot,WebChannel.EventType.CLOSE,()=>{ct||(ct=!0,__PRIVATE_logDebug(me,`RPC '${o}' stream ${c} transport closed`),dt.Vo())}),Tt(ot,WebChannel.EventType.ERROR,Et=>{ct||(ct=!0,__PRIVATE_logWarn(me,`RPC '${o}' stream ${c} transport errored:`,Et),dt.Vo(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),Tt(ot,WebChannel.EventType.MESSAGE,Et=>{var mt;if(!ct){const gt=Et.data[0];__PRIVATE_hardAssert(!!gt);const xt=gt,bt=xt.error||((mt=xt[0])===null||mt===void 0?void 0:mt.error);if(bt){__PRIVATE_logDebug(me,`RPC '${o}' stream ${c} received error:`,bt);const It=bt.status;let Ut=function(cr){const Ht=ue[cr];if(Ht!==void 0)return __PRIVATE_mapCodeFromRpcCode(Ht)}(It),Ft=bt.message;Ut===void 0&&(Ut=D.INTERNAL,Ft="Unknown error status: "+It+" with message "+bt.message),ct=!0,dt.Vo(new FirestoreError(Ut,Ft)),ot.close()}else __PRIVATE_logDebug(me,`RPC '${o}' stream ${c} received:`,gt),dt.mo(gt)}}),Tt(_,Event$1.STAT_EVENT,Et=>{Et.stat===Stat.PROXY?__PRIVATE_logDebug(me,`RPC '${o}' stream ${c} detected buffering proxy`):Et.stat===Stat.NOPROXY&&__PRIVATE_logDebug(me,`RPC '${o}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{dt.Ro()},0),dt}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(e){return new JsonProtoSerializer(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(o,s,a=1e3,c=1.5,h=6e4){this.oi=o,this.timerId=s,this.Mo=a,this.xo=c,this.Oo=h,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(o){this.cancel();const s=Math.floor(this.No+this.Qo()),a=Math.max(0,Date.now()-this.Bo),c=Math.max(0,s-a);c>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.No} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,c,()=>(this.Bo=Date.now(),o())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(o,s,a,c,h,g,_,et){this.oi=o,this.$o=a,this.Uo=c,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=_,this.listener=et,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new __PRIVATE_ExponentialBackoff(o,s)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(o){this.n_(),this.stream.send(o)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(o,s){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,o!==4?this.jo.reset():s&&s.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(s.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):s&&s.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=o,await this.listener.To(s)}i_(){}auth(){this.state=1;const o=this.s_(this.Wo),s=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.Wo===s&&this.o_(a,c)},a=>{o(()=>{const c=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+a.message);return this.__(c)})})}o_(o,s){const a=this.s_(this.Wo);this.stream=this.a_(o,s),this.stream.Po(()=>{a(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(c=>{a(()=>this.__(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(o){return __PRIVATE_logDebug("PersistentStream",`close with error: ${o}`),this.stream=null,this.close(4,o)}s_(o){return s=>{this.oi.enqueueAndForget(()=>this.Wo===o?s():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(o,s,a,c,h,g){super(o,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,c,g),this.serializer=h}a_(o,s){return this.connection.Fo("Listen",o,s)}onMessage(o){this.jo.reset();const s=__PRIVATE_fromWatchChange(this.serializer,o),a=function(h){if(!("targetChange"in h))return SnapshotVersion.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?SnapshotVersion.min():g.readTime?__PRIVATE_fromVersion(g.readTime):SnapshotVersion.min()}(o);return this.listener.u_(s,a)}c_(o){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.addTarget=function(h,g){let _;const et=g.target;if(_=__PRIVATE_targetIsDocumentTarget(et)?{documents:__PRIVATE_toDocumentsTarget(h,et)}:{query:__PRIVATE_toQueryTarget(h,et).ut},_.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){_.resumeToken=__PRIVATE_toBytes(h,g.resumeToken);const rt=__PRIVATE_toInt32Proto(h,g.expectedCount);rt!==null&&(_.expectedCount=rt)}else if(g.snapshotVersion.compareTo(SnapshotVersion.min())>0){_.readTime=toTimestamp(h,g.snapshotVersion.toTimestamp());const rt=__PRIVATE_toInt32Proto(h,g.expectedCount);rt!==null&&(_.expectedCount=rt)}return _}(this.serializer,o);const a=__PRIVATE_toListenRequestLabels(this.serializer,o);a&&(s.labels=a),this.t_(s)}l_(o){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.removeTarget=o,this.t_(s)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(o,s,a,c,h,g){super(o,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,c,g),this.serializer=h,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(o,s){return this.connection.Fo("Write",o,s)}onMessage(o){if(__PRIVATE_hardAssert(!!o.streamToken),this.lastStreamToken=o.streamToken,this.h_){this.jo.reset();const s=__PRIVATE_fromWriteResults(o.writeResults,o.commitTime),a=__PRIVATE_fromVersion(o.commitTime);return this.listener.T_(a,s)}return __PRIVATE_hardAssert(!o.writeResults||o.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const o={};o.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.t_(o)}I_(o){const s={streamToken:this.lastStreamToken,writes:o.map(a=>toMutation(this.serializer,a))};this.t_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(o,s,a,c){super(),this.authCredentials=o,this.appCheckCredentials=s,this.connection=a,this.serializer=c,this.A_=!1}R_(){if(this.A_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(o,s,a,c){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.So(o,__PRIVATE_toResourcePath(s,a),c,h,g)).catch(h=>{throw h.name==="FirebaseError"?(h.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new FirestoreError(D.UNKNOWN,h.toString())})}vo(o,s,a,c,h){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,_])=>this.connection.vo(o,__PRIVATE_toResourcePath(s,a),c,g,_,h)).catch(g=>{throw g.name==="FirebaseError"?(g.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new FirestoreError(D.UNKNOWN,g.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(o,s){this.asyncQueue=o,this.onlineStateHandler=s,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(o){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${o.toString()}`),this.y_("Offline")))}set(o){this.b_(),this.m_=0,o==="Online"&&(this.g_=!1),this.y_(o)}y_(o){o!==this.state&&(this.state=o,this.onlineStateHandler(o))}w_(o){const s=`Could not reach Cloud Firestore backend. ${o}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(__PRIVATE_logError(s),this.g_=!1):__PRIVATE_logDebug("OnlineStateTracker",s)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(o,s,a,c,h){this.localStore=o,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=h,this.M_.io(g=>{a.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(et){const rt=__PRIVATE_debugCast(et);rt.v_.add(4),await __PRIVATE_disableNetworkInternal(rt),rt.x_.set("Unknown"),rt.v_.delete(4),await __PRIVATE_enableNetworkInternal(rt)}(this))})}),this.x_=new __PRIVATE_OnlineStateTracker(a,c)}}async function __PRIVATE_enableNetworkInternal(e){if(__PRIVATE_canUseNetwork(e))for(const o of e.F_)await o(!0)}async function __PRIVATE_disableNetworkInternal(e){for(const o of e.F_)await o(!1)}function __PRIVATE_remoteStoreListen(e,o){const s=__PRIVATE_debugCast(e);s.C_.has(o.targetId)||(s.C_.set(o.targetId,o),__PRIVATE_shouldStartWatchStream(s)?__PRIVATE_startWatchStream(s):__PRIVATE_ensureWatchStream(s).Jo()&&__PRIVATE_sendWatchRequest(s,o))}function __PRIVATE_remoteStoreUnlisten(e,o){const s=__PRIVATE_debugCast(e),a=__PRIVATE_ensureWatchStream(s);s.C_.delete(o),a.Jo()&&__PRIVATE_sendUnwatchRequest(s,o),s.C_.size===0&&(a.Jo()?a.Xo():__PRIVATE_canUseNetwork(s)&&s.x_.set("Unknown"))}function __PRIVATE_sendWatchRequest(e,o){if(e.O_.Oe(o.targetId),o.resumeToken.approximateByteSize()>0||o.snapshotVersion.compareTo(SnapshotVersion.min())>0){const s=e.remoteSyncer.getRemoteKeysForTarget(o.targetId).size;o=o.withExpectedCount(s)}__PRIVATE_ensureWatchStream(e).c_(o)}function __PRIVATE_sendUnwatchRequest(e,o){e.O_.Oe(o),__PRIVATE_ensureWatchStream(e).l_(o)}function __PRIVATE_startWatchStream(e){e.O_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:o=>e.remoteSyncer.getRemoteKeysForTarget(o),_t:o=>e.C_.get(o)||null,nt:()=>e.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(e).start(),e.x_.p_()}function __PRIVATE_shouldStartWatchStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWatchStream(e).Ho()&&e.C_.size>0}function __PRIVATE_canUseNetwork(e){return __PRIVATE_debugCast(e).v_.size===0}function __PRIVATE_cleanUpWatchStreamState(e){e.O_=void 0}async function __PRIVATE_onWatchStreamOpen(e){e.C_.forEach((o,s)=>{__PRIVATE_sendWatchRequest(e,o)})}async function __PRIVATE_onWatchStreamClose(e,o){__PRIVATE_cleanUpWatchStreamState(e),__PRIVATE_shouldStartWatchStream(e)?(e.x_.S_(o),__PRIVATE_startWatchStream(e)):e.x_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(e,o,s){if(e.x_.set("Online"),o instanceof __PRIVATE_WatchTargetChange&&o.state===2&&o.cause)try{await async function(c,h){const g=h.cause;for(const _ of h.targetIds)c.C_.has(_)&&(await c.remoteSyncer.rejectListen(_,g),c.C_.delete(_),c.O_.removeTarget(_))}(e,o)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",o.targetIds.join(","),a),await __PRIVATE_disableNetworkUntilRecovery(e,a)}else if(o instanceof __PRIVATE_DocumentWatchChange?e.O_.$e(o):o instanceof __PRIVATE_ExistenceFilterChange?e.O_.Je(o):e.O_.Ge(o),!s.isEqual(SnapshotVersion.min()))try{const a=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore);s.compareTo(a)>=0&&await function(h,g){const _=h.O_.it(g);return _.targetChanges.forEach((et,rt)=>{if(et.resumeToken.approximateByteSize()>0){const it=h.C_.get(rt);it&&h.C_.set(rt,it.withResumeToken(et.resumeToken,g))}}),_.targetMismatches.forEach((et,rt)=>{const it=h.C_.get(et);if(!it)return;h.C_.set(et,it.withResumeToken(ByteString.EMPTY_BYTE_STRING,it.snapshotVersion)),__PRIVATE_sendUnwatchRequest(h,et);const ot=new TargetData(it.target,et,rt,it.sequenceNumber);__PRIVATE_sendWatchRequest(h,ot)}),h.remoteSyncer.applyRemoteEvent(_)}(e,s)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",a),await __PRIVATE_disableNetworkUntilRecovery(e,a)}}async function __PRIVATE_disableNetworkUntilRecovery(e,o,s){if(!__PRIVATE_isIndexedDbTransactionError(o))throw o;e.v_.add(1),await __PRIVATE_disableNetworkInternal(e),e.x_.set("Offline"),s||(s=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await s(),e.v_.delete(1),await __PRIVATE_enableNetworkInternal(e)})}function __PRIVATE_executeWithRecovery(e,o){return o().catch(s=>__PRIVATE_disableNetworkUntilRecovery(e,s,o))}async function __PRIVATE_fillWritePipeline(e){const o=__PRIVATE_debugCast(e),s=__PRIVATE_ensureWriteStream(o);let a=o.D_.length>0?o.D_[o.D_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(o);)try{const c=await __PRIVATE_localStoreGetNextMutationBatch(o.localStore,a);if(c===null){o.D_.length===0&&s.Xo();break}a=c.batchId,__PRIVATE_addToWritePipeline(o,c)}catch(c){await __PRIVATE_disableNetworkUntilRecovery(o,c)}__PRIVATE_shouldStartWriteStream(o)&&__PRIVATE_startWriteStream(o)}function __PRIVATE_canAddToWritePipeline(e){return __PRIVATE_canUseNetwork(e)&&e.D_.length<10}function __PRIVATE_addToWritePipeline(e,o){e.D_.push(o);const s=__PRIVATE_ensureWriteStream(e);s.Jo()&&s.P_&&s.I_(o.mutations)}function __PRIVATE_shouldStartWriteStream(e){return __PRIVATE_canUseNetwork(e)&&!__PRIVATE_ensureWriteStream(e).Ho()&&e.D_.length>0}function __PRIVATE_startWriteStream(e){__PRIVATE_ensureWriteStream(e).start()}async function __PRIVATE_onWriteStreamOpen(e){__PRIVATE_ensureWriteStream(e).d_()}async function __PRIVATE_onWriteHandshakeComplete(e){const o=__PRIVATE_ensureWriteStream(e);for(const s of e.D_)o.I_(s.mutations)}async function __PRIVATE_onMutationResult(e,o,s){const a=e.D_.shift(),c=MutationBatchResult.from(a,o,s);await __PRIVATE_executeWithRecovery(e,()=>e.remoteSyncer.applySuccessfulWrite(c)),await __PRIVATE_fillWritePipeline(e)}async function __PRIVATE_onWriteStreamClose(e,o){o&&__PRIVATE_ensureWriteStream(e).P_&&await async function(a,c){if(function(g){return __PRIVATE_isPermanentError(g)&&g!==D.ABORTED}(c.code)){const h=a.D_.shift();__PRIVATE_ensureWriteStream(a).Zo(),await __PRIVATE_executeWithRecovery(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,c)),await __PRIVATE_fillWritePipeline(a)}}(e,o),__PRIVATE_shouldStartWriteStream(e)&&__PRIVATE_startWriteStream(e)}async function __PRIVATE_remoteStoreHandleCredentialChange(e,o){const s=__PRIVATE_debugCast(e);s.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const a=__PRIVATE_canUseNetwork(s);s.v_.add(3),await __PRIVATE_disableNetworkInternal(s),a&&s.x_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(o),s.v_.delete(3),await __PRIVATE_enableNetworkInternal(s)}async function __PRIVATE_remoteStoreApplyPrimaryState(e,o){const s=__PRIVATE_debugCast(e);o?(s.v_.delete(2),await __PRIVATE_enableNetworkInternal(s)):o||(s.v_.add(2),await __PRIVATE_disableNetworkInternal(s),s.x_.set("Unknown"))}function __PRIVATE_ensureWatchStream(e){return e.N_||(e.N_=function(s,a,c){const h=__PRIVATE_debugCast(s);return h.R_(),new __PRIVATE_PersistentListenStream(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(e.datastore,e.asyncQueue,{Po:__PRIVATE_onWatchStreamOpen.bind(null,e),To:__PRIVATE_onWatchStreamClose.bind(null,e),u_:__PRIVATE_onWatchStreamChange.bind(null,e)}),e.F_.push(async o=>{o?(e.N_.Zo(),__PRIVATE_shouldStartWatchStream(e)?__PRIVATE_startWatchStream(e):e.x_.set("Unknown")):(await e.N_.stop(),__PRIVATE_cleanUpWatchStreamState(e))})),e.N_}function __PRIVATE_ensureWriteStream(e){return e.L_||(e.L_=function(s,a,c){const h=__PRIVATE_debugCast(s);return h.R_(),new __PRIVATE_PersistentWriteStream(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,c)}(e.datastore,e.asyncQueue,{Po:__PRIVATE_onWriteStreamOpen.bind(null,e),To:__PRIVATE_onWriteStreamClose.bind(null,e),E_:__PRIVATE_onWriteHandshakeComplete.bind(null,e),T_:__PRIVATE_onMutationResult.bind(null,e)}),e.F_.push(async o=>{o?(e.L_.Zo(),await __PRIVATE_fillWritePipeline(e)):(await e.L_.stop(),e.D_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(o,s,a,c,h){this.asyncQueue=o,this.timerId=s,this.targetTimeMs=a,this.op=c,this.removalCallback=h,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(o,s,a,c,h){const g=Date.now()+a,_=new DelayedOperation(o,s,g,c,h);return _.start(a),_}start(o){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),o)}skipDelay(){return this.handleDelayElapsed()}cancel(o){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(o?": "+o:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(o=>this.deferred.resolve(o))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(e,o){if(__PRIVATE_logError("AsyncQueue",`${o}: ${e}`),__PRIVATE_isIndexedDbTransactionError(e))return new FirestoreError(D.UNAVAILABLE,`${o}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(o){this.comparator=o?(s,a)=>o(s,a)||DocumentKey.comparator(s.key,a.key):(s,a)=>DocumentKey.comparator(s.key,a.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(o){return new DocumentSet(o.comparator)}has(o){return this.keyedMap.get(o)!=null}get(o){return this.keyedMap.get(o)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(o){const s=this.keyedMap.get(o);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(o){this.sortedSet.inorderTraversal((s,a)=>(o(s),!1))}add(o){const s=this.delete(o.key);return s.copy(s.keyedMap.insert(o.key,o),s.sortedSet.insert(o,null))}delete(o){const s=this.get(o);return s?this.copy(this.keyedMap.remove(o),this.sortedSet.remove(s)):this}isEqual(o){if(!(o instanceof DocumentSet)||this.size!==o.size)return!1;const s=this.sortedSet.getIterator(),a=o.sortedSet.getIterator();for(;s.hasNext();){const c=s.getNext().key,h=a.getNext().key;if(!c.isEqual(h))return!1}return!0}toString(){const o=[];return this.forEach(s=>{o.push(s.toString())}),o.length===0?"DocumentSet ()":`DocumentSet (
  `+o.join(`  
`)+`
)`}copy(o,s){const a=new DocumentSet;return a.comparator=this.comparator,a.keyedMap=o,a.sortedSet=s,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.B_=new SortedMap(DocumentKey.comparator)}track(o){const s=o.doc.key,a=this.B_.get(s);a?o.type!==0&&a.type===3?this.B_=this.B_.insert(s,o):o.type===3&&a.type!==1?this.B_=this.B_.insert(s,{type:a.type,doc:o.doc}):o.type===2&&a.type===2?this.B_=this.B_.insert(s,{type:2,doc:o.doc}):o.type===2&&a.type===0?this.B_=this.B_.insert(s,{type:0,doc:o.doc}):o.type===1&&a.type===0?this.B_=this.B_.remove(s):o.type===1&&a.type===2?this.B_=this.B_.insert(s,{type:1,doc:a.doc}):o.type===0&&a.type===1?this.B_=this.B_.insert(s,{type:2,doc:o.doc}):fail():this.B_=this.B_.insert(s,o)}k_(){const o=[];return this.B_.inorderTraversal((s,a)=>{o.push(a)}),o}}class ViewSnapshot{constructor(o,s,a,c,h,g,_,et,rt){this.query=o,this.docs=s,this.oldDocs=a,this.docChanges=c,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=_,this.excludesMetadataChanges=et,this.hasCachedResults=rt}static fromInitialDocuments(o,s,a,c,h){const g=[];return s.forEach(_=>{g.push({type:0,doc:_})}),new ViewSnapshot(o,s,DocumentSet.emptySet(s),g,a,c,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(o){if(!(this.fromCache===o.fromCache&&this.hasCachedResults===o.hasCachedResults&&this.syncStateChanged===o.syncStateChanged&&this.mutatedKeys.isEqual(o.mutatedKeys)&&__PRIVATE_queryEquals(this.query,o.query)&&this.docs.isEqual(o.docs)&&this.oldDocs.isEqual(o.oldDocs)))return!1;const s=this.docChanges,a=o.docChanges;if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++)if(s[c].type!==a[c].type||!s[c].doc.isEqual(a[c].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(o=>o.U_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap(o=>__PRIVATE_canonifyQuery(o),__PRIVATE_queryEquals),this.onlineState="Unknown",this.W_=new Set}}async function __PRIVATE_eventManagerListen(e,o){const s=__PRIVATE_debugCast(e);let a=3;const c=o.query;let h=s.queries.get(c);h?!h.K_()&&o.U_()&&(a=2):(h=new __PRIVATE_QueryListenersInfo,a=o.U_()?0:1);try{switch(a){case 0:h.q_=await s.onListen(c,!0);break;case 1:h.q_=await s.onListen(c,!1);break;case 2:await s.onFirstRemoteStoreListen(c)}}catch(g){const _=__PRIVATE_wrapInUserErrorIfRecoverable(g,`Initialization of query '${__PRIVATE_stringifyQuery(o.query)}' failed`);return void o.onError(_)}s.queries.set(c,h),h.Q_.push(o),o.G_(s.onlineState),h.q_&&o.z_(h.q_)&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}async function __PRIVATE_eventManagerUnlisten(e,o){const s=__PRIVATE_debugCast(e),a=o.query;let c=3;const h=s.queries.get(a);if(h){const g=h.Q_.indexOf(o);g>=0&&(h.Q_.splice(g,1),h.Q_.length===0?c=o.U_()?0:1:!h.K_()&&o.U_()&&(c=2))}switch(c){case 0:return s.queries.delete(a),s.onUnlisten(a,!0);case 1:return s.queries.delete(a),s.onUnlisten(a,!1);case 2:return s.onLastRemoteStoreUnlisten(a);default:return}}function __PRIVATE_eventManagerOnWatchChange(e,o){const s=__PRIVATE_debugCast(e);let a=!1;for(const c of o){const h=c.query,g=s.queries.get(h);if(g){for(const _ of g.Q_)_.z_(c)&&(a=!0);g.q_=c}}a&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}function __PRIVATE_eventManagerOnWatchError(e,o,s){const a=__PRIVATE_debugCast(e),c=a.queries.get(o);if(c)for(const h of c.Q_)h.onError(s);a.queries.delete(o)}function __PRIVATE_raiseSnapshotsInSyncEvent(e){e.W_.forEach(o=>{o.next()})}var fe,ge;(ge=fe||(fe={})).j_="default",ge.Cache="cache";class __PRIVATE_QueryListener{constructor(o,s,a){this.query=o,this.H_=s,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=a||{}}z_(o){if(!this.options.includeMetadataChanges){const a=[];for(const c of o.docChanges)c.type!==3&&a.push(c);o=new ViewSnapshot(o.query,o.docs,o.oldDocs,a,o.mutatedKeys,o.fromCache,o.syncStateChanged,!0,o.hasCachedResults)}let s=!1;return this.J_?this.Z_(o)&&(this.H_.next(o),s=!0):this.X_(o,this.onlineState)&&(this.ea(o),s=!0),this.Y_=o,s}onError(o){this.H_.error(o)}G_(o){this.onlineState=o;let s=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,o)&&(this.ea(this.Y_),s=!0),s}X_(o,s){if(!o.fromCache||!this.U_())return!0;const a=s!=="Offline";return(!this.options.ta||!a)&&(!o.docs.isEmpty()||o.hasCachedResults||s==="Offline")}Z_(o){if(o.docChanges.length>0)return!0;const s=this.Y_&&this.Y_.hasPendingWrites!==o.hasPendingWrites;return!(!o.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ea(o){o=ViewSnapshot.fromInitialDocuments(o.query,o.docs,o.mutatedKeys,o.fromCache,o.hasCachedResults),this.J_=!0,this.H_.next(o)}U_(){return this.options.source!==fe.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(o){this.key=o}}class __PRIVATE_RemovedLimboDocument{constructor(o){this.key=o}}class __PRIVATE_View{constructor(o,s){this.query=o,this.ua=s,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ha=__PRIVATE_newQueryComparator(o),this.Pa=new DocumentSet(this.ha)}get Ia(){return this.ua}Ta(o,s){const a=s?s.Ea:new __PRIVATE_DocumentChangeSet,c=s?s.Pa:this.Pa;let h=s?s.mutatedKeys:this.mutatedKeys,g=c,_=!1;const et=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,rt=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(o.inorderTraversal((it,ot)=>{const st=c.get(it),ct=__PRIVATE_queryMatches(this.query,ot)?ot:null,dt=!!st&&this.mutatedKeys.has(st.key),Tt=!!ct&&(ct.hasLocalMutations||this.mutatedKeys.has(ct.key)&&ct.hasCommittedMutations);let Et=!1;st&&ct?st.data.isEqual(ct.data)?dt!==Tt&&(a.track({type:3,doc:ct}),Et=!0):this.da(st,ct)||(a.track({type:2,doc:ct}),Et=!0,(et&&this.ha(ct,et)>0||rt&&this.ha(ct,rt)<0)&&(_=!0)):!st&&ct?(a.track({type:0,doc:ct}),Et=!0):st&&!ct&&(a.track({type:1,doc:st}),Et=!0,(et||rt)&&(_=!0)),Et&&(ct?(g=g.add(ct),h=Tt?h.add(it):h.delete(it)):(g=g.delete(it),h=h.delete(it)))}),this.query.limit!==null)for(;g.size>this.query.limit;){const it=this.query.limitType==="F"?g.last():g.first();g=g.delete(it.key),h=h.delete(it.key),a.track({type:1,doc:it})}return{Pa:g,Ea:a,Xi:_,mutatedKeys:h}}da(o,s){return o.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(o,s,a,c){const h=this.Pa;this.Pa=o.Pa,this.mutatedKeys=o.mutatedKeys;const g=o.Ea.k_();g.sort((it,ot)=>function(ct,dt){const Tt=Et=>{switch(Et){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return Tt(ct)-Tt(dt)}(it.type,ot.type)||this.ha(it.doc,ot.doc)),this.Aa(a),c=c!=null&&c;const _=s&&!c?this.Ra():[],et=this.la.size===0&&this.current&&!c?1:0,rt=et!==this.ca;return this.ca=et,g.length!==0||rt?{snapshot:new ViewSnapshot(this.query,o.Pa,h,g,o.mutatedKeys,et===0,rt,!1,!!a&&a.resumeToken.approximateByteSize()>0),Va:_}:{Va:_}}G_(o){return this.current&&o==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(o){return!this.ua.has(o)&&!!this.Pa.has(o)&&!this.Pa.get(o).hasLocalMutations}Aa(o){o&&(o.addedDocuments.forEach(s=>this.ua=this.ua.add(s)),o.modifiedDocuments.forEach(s=>{}),o.removedDocuments.forEach(s=>this.ua=this.ua.delete(s)),this.current=o.current)}Ra(){if(!this.current)return[];const o=this.la;this.la=__PRIVATE_documentKeySet(),this.Pa.forEach(a=>{this.ma(a.key)&&(this.la=this.la.add(a.key))});const s=[];return o.forEach(a=>{this.la.has(a)||s.push(new __PRIVATE_RemovedLimboDocument(a))}),this.la.forEach(a=>{o.has(a)||s.push(new __PRIVATE_AddedLimboDocument(a))}),s}fa(o){this.ua=o.hs,this.la=__PRIVATE_documentKeySet();const s=this.Ta(o.documents);return this.applyChanges(s,!0)}ga(){return ViewSnapshot.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(o,s,a){this.query=o,this.targetId=s,this.view=a}}class LimboResolution{constructor(o){this.key=o,this.pa=!1}}class __PRIVATE_SyncEngineImpl{constructor(o,s,a,c,h,g){this.localStore=o,this.remoteStore=s,this.eventManager=a,this.sharedClientState=c,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.ya={},this.wa=new ObjectMap(_=>__PRIVATE_canonifyQuery(_),__PRIVATE_queryEquals),this.Sa=new Map,this.ba=new Set,this.Da=new SortedMap(DocumentKey.comparator),this.Ca=new Map,this.va=new __PRIVATE_ReferenceSet,this.Fa={},this.Ma=new Map,this.xa=__PRIVATE_TargetIdGenerator.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function __PRIVATE_syncEngineListen(e,o,s=!0){const a=__PRIVATE_ensureWatchCallbacks(e);let c;const h=a.wa.get(o);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),c=h.view.ga()):c=await __PRIVATE_allocateTargetAndMaybeListen(a,o,s,!0),c}async function __PRIVATE_triggerRemoteStoreListen(e,o){const s=__PRIVATE_ensureWatchCallbacks(e);await __PRIVATE_allocateTargetAndMaybeListen(s,o,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(e,o,s,a){const c=await __PRIVATE_localStoreAllocateTarget(e.localStore,__PRIVATE_queryToTarget(o)),h=c.targetId,g=s?e.sharedClientState.addLocalQueryTarget(h):"not-current";let _;return a&&(_=await __PRIVATE_initializeViewAndComputeSnapshot(e,o,h,g==="current",c.resumeToken)),e.isPrimaryClient&&s&&__PRIVATE_remoteStoreListen(e.remoteStore,c),_}async function __PRIVATE_initializeViewAndComputeSnapshot(e,o,s,a,c){e.Na=(ot,st,ct)=>async function(Tt,Et,mt,gt){let xt=Et.view.Ta(mt);xt.Xi&&(xt=await __PRIVATE_localStoreExecuteQuery(Tt.localStore,Et.query,!1).then(({documents:Ft})=>Et.view.Ta(Ft,xt)));const bt=gt&&gt.targetChanges.get(Et.targetId),It=gt&&gt.targetMismatches.get(Et.targetId)!=null,Ut=Et.view.applyChanges(xt,Tt.isPrimaryClient,bt,It);return __PRIVATE_updateTrackedLimbos(Tt,Et.targetId,Ut.Va),Ut.snapshot}(e,ot,st,ct);const h=await __PRIVATE_localStoreExecuteQuery(e.localStore,o,!0),g=new __PRIVATE_View(o,h.hs),_=g.Ta(h.documents),et=TargetChange.createSynthesizedTargetChangeForCurrentChange(s,a&&e.onlineState!=="Offline",c),rt=g.applyChanges(_,e.isPrimaryClient,et);__PRIVATE_updateTrackedLimbos(e,s,rt.Va);const it=new __PRIVATE_QueryView(o,s,g);return e.wa.set(o,it),e.Sa.has(s)?e.Sa.get(s).push(o):e.Sa.set(s,[o]),rt.snapshot}async function __PRIVATE_syncEngineUnlisten(e,o,s){const a=__PRIVATE_debugCast(e),c=a.wa.get(o),h=a.Sa.get(c.targetId);if(h.length>1)return a.Sa.set(c.targetId,h.filter(g=>!__PRIVATE_queryEquals(g,o))),void a.wa.delete(o);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||await __PRIVATE_localStoreReleaseTarget(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),s&&__PRIVATE_remoteStoreUnlisten(a.remoteStore,c.targetId),__PRIVATE_removeAndCleanupTarget(a,c.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(a,c.targetId),await __PRIVATE_localStoreReleaseTarget(a.localStore,c.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(e,o){const s=__PRIVATE_debugCast(e),a=s.wa.get(o),c=s.Sa.get(a.targetId);s.isPrimaryClient&&c.length===1&&(s.sharedClientState.removeLocalQueryTarget(a.targetId),__PRIVATE_remoteStoreUnlisten(s.remoteStore,a.targetId))}async function __PRIVATE_syncEngineWrite(e,o,s){const a=__PRIVATE_syncEngineEnsureWriteCallbacks(e);try{const c=await function(g,_){const et=__PRIVATE_debugCast(g),rt=Timestamp.now(),it=_.reduce((ct,dt)=>ct.add(dt.key),__PRIVATE_documentKeySet());let ot,st;return et.persistence.runTransaction("Locally write mutations","readwrite",ct=>{let dt=__PRIVATE_mutableDocumentMap(),Tt=__PRIVATE_documentKeySet();return et.os.getEntries(ct,it).next(Et=>{dt=Et,dt.forEach((mt,gt)=>{gt.isValidDocument()||(Tt=Tt.add(mt))})}).next(()=>et.localDocuments.getOverlayedDocuments(ct,dt)).next(Et=>{ot=Et;const mt=[];for(const gt of _){const xt=__PRIVATE_mutationExtractBaseValue(gt,ot.get(gt.key).overlayedDocument);xt!=null&&mt.push(new __PRIVATE_PatchMutation(gt.key,xt,__PRIVATE_extractFieldMask(xt.value.mapValue),Precondition.exists(!0)))}return et.mutationQueue.addMutationBatch(ct,rt,mt,_)}).next(Et=>{st=Et;const mt=Et.applyToLocalDocumentSet(ot,Tt);return et.documentOverlayCache.saveOverlays(ct,Et.batchId,mt)})}).then(()=>({batchId:st.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(ot)}))}(a.localStore,o);a.sharedClientState.addPendingMutation(c.batchId),function(g,_,et){let rt=g.Fa[g.currentUser.toKey()];rt||(rt=new SortedMap(__PRIVATE_primitiveComparator)),rt=rt.insert(_,et),g.Fa[g.currentUser.toKey()]=rt}(a,c.batchId,s),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,c.changes),await __PRIVATE_fillWritePipeline(a.remoteStore)}catch(c){const h=__PRIVATE_wrapInUserErrorIfRecoverable(c,"Failed to persist write");s.reject(h)}}async function __PRIVATE_syncEngineApplyRemoteEvent(e,o){const s=__PRIVATE_debugCast(e);try{const a=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(s.localStore,o);o.targetChanges.forEach((c,h)=>{const g=s.Ca.get(h);g&&(__PRIVATE_hardAssert(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.pa=!0:c.modifiedDocuments.size>0?__PRIVATE_hardAssert(g.pa):c.removedDocuments.size>0&&(__PRIVATE_hardAssert(g.pa),g.pa=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,a,o)}catch(a){await __PRIVATE_ignoreIfPrimaryLeaseLoss(a)}}function __PRIVATE_syncEngineApplyOnlineStateChange(e,o,s){const a=__PRIVATE_debugCast(e);if(a.isPrimaryClient&&s===0||!a.isPrimaryClient&&s===1){const c=[];a.wa.forEach((h,g)=>{const _=g.view.G_(o);_.snapshot&&c.push(_.snapshot)}),function(g,_){const et=__PRIVATE_debugCast(g);et.onlineState=_;let rt=!1;et.queries.forEach((it,ot)=>{for(const st of ot.Q_)st.G_(_)&&(rt=!0)}),rt&&__PRIVATE_raiseSnapshotsInSyncEvent(et)}(a.eventManager,o),c.length&&a.ya.u_(c),a.onlineState=o,a.isPrimaryClient&&a.sharedClientState.setOnlineState(o)}}async function __PRIVATE_syncEngineRejectListen(e,o,s){const a=__PRIVATE_debugCast(e);a.sharedClientState.updateQueryState(o,"rejected",s);const c=a.Ca.get(o),h=c&&c.key;if(h){let g=new SortedMap(DocumentKey.comparator);g=g.insert(h,MutableDocument.newNoDocument(h,SnapshotVersion.min()));const _=__PRIVATE_documentKeySet().add(h),et=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),g,_);await __PRIVATE_syncEngineApplyRemoteEvent(a,et),a.Da=a.Da.remove(h),a.Ca.delete(o),__PRIVATE_pumpEnqueuedLimboResolutions(a)}else await __PRIVATE_localStoreReleaseTarget(a.localStore,o,!1).then(()=>__PRIVATE_removeAndCleanupTarget(a,o,s)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(e,o){const s=__PRIVATE_debugCast(e),a=o.batch.batchId;try{const c=await __PRIVATE_localStoreAcknowledgeBatch(s.localStore,o);__PRIVATE_processUserCallback(s,a,null),__PRIVATE_triggerPendingWritesCallbacks(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,c)}catch(c){await __PRIVATE_ignoreIfPrimaryLeaseLoss(c)}}async function __PRIVATE_syncEngineRejectFailedWrite(e,o,s){const a=__PRIVATE_debugCast(e);try{const c=await function(g,_){const et=__PRIVATE_debugCast(g);return et.persistence.runTransaction("Reject batch","readwrite-primary",rt=>{let it;return et.mutationQueue.lookupMutationBatch(rt,_).next(ot=>(__PRIVATE_hardAssert(ot!==null),it=ot.keys(),et.mutationQueue.removeMutationBatch(rt,ot))).next(()=>et.mutationQueue.performConsistencyCheck(rt)).next(()=>et.documentOverlayCache.removeOverlaysForBatchId(rt,it,_)).next(()=>et.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(rt,it)).next(()=>et.localDocuments.getDocuments(rt,it))})}(a.localStore,o);__PRIVATE_processUserCallback(a,o,s),__PRIVATE_triggerPendingWritesCallbacks(a,o),a.sharedClientState.updateMutationState(o,"rejected",s),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,c)}catch(c){await __PRIVATE_ignoreIfPrimaryLeaseLoss(c)}}function __PRIVATE_triggerPendingWritesCallbacks(e,o){(e.Ma.get(o)||[]).forEach(s=>{s.resolve()}),e.Ma.delete(o)}function __PRIVATE_processUserCallback(e,o,s){const a=__PRIVATE_debugCast(e);let c=a.Fa[a.currentUser.toKey()];if(c){const h=c.get(o);h&&(s?h.reject(s):h.resolve(),c=c.remove(o)),a.Fa[a.currentUser.toKey()]=c}}function __PRIVATE_removeAndCleanupTarget(e,o,s=null){e.sharedClientState.removeLocalQueryTarget(o);for(const a of e.Sa.get(o))e.wa.delete(a),s&&e.ya.La(a,s);e.Sa.delete(o),e.isPrimaryClient&&e.va.Vr(o).forEach(a=>{e.va.containsKey(a)||__PRIVATE_removeLimboTarget(e,a)})}function __PRIVATE_removeLimboTarget(e,o){e.ba.delete(o.path.canonicalString());const s=e.Da.get(o);s!==null&&(__PRIVATE_remoteStoreUnlisten(e.remoteStore,s),e.Da=e.Da.remove(o),e.Ca.delete(s),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_updateTrackedLimbos(e,o,s){for(const a of s)a instanceof __PRIVATE_AddedLimboDocument?(e.va.addReference(a.key,o),__PRIVATE_trackLimboChange(e,a)):a instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+a.key),e.va.removeReference(a.key,o),e.va.containsKey(a.key)||__PRIVATE_removeLimboTarget(e,a.key)):fail()}function __PRIVATE_trackLimboChange(e,o){const s=o.key,a=s.path.canonicalString();e.Da.get(s)||e.ba.has(a)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+s),e.ba.add(a),__PRIVATE_pumpEnqueuedLimboResolutions(e))}function __PRIVATE_pumpEnqueuedLimboResolutions(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const o=e.ba.values().next().value;e.ba.delete(o);const s=new DocumentKey(ResourcePath.fromString(o)),a=e.xa.next();e.Ca.set(a,new LimboResolution(s)),e.Da=e.Da.insert(s,a),__PRIVATE_remoteStoreListen(e.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(s.path)),a,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence._e))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(e,o,s){const a=__PRIVATE_debugCast(e),c=[],h=[],g=[];a.wa.isEmpty()||(a.wa.forEach((_,et)=>{g.push(a.Na(et,o,s).then(rt=>{if((rt||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(et.targetId,rt!=null&&rt.fromCache?"not-current":"current"),rt){c.push(rt);const it=__PRIVATE_LocalViewChanges.Ki(et.targetId,rt);h.push(it)}}))}),await Promise.all(g),a.ya.u_(c),await async function(et,rt){const it=__PRIVATE_debugCast(et);try{await it.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>PersistencePromise.forEach(rt,st=>PersistencePromise.forEach(st.qi,ct=>it.persistence.referenceDelegate.addReference(ot,st.targetId,ct)).next(()=>PersistencePromise.forEach(st.Qi,ct=>it.persistence.referenceDelegate.removeReference(ot,st.targetId,ct)))))}catch(ot){if(!__PRIVATE_isIndexedDbTransactionError(ot))throw ot;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of rt){const st=ot.targetId;if(!ot.fromCache){const ct=it.ns.get(st),dt=ct.snapshotVersion,Tt=ct.withLastLimboFreeSnapshotVersion(dt);it.ns=it.ns.insert(st,Tt)}}}(a.localStore,h))}async function __PRIVATE_syncEngineHandleCredentialChange(e,o){const s=__PRIVATE_debugCast(e);if(!s.currentUser.isEqual(o)){__PRIVATE_logDebug("SyncEngine","User change. New user:",o.toKey());const a=await __PRIVATE_localStoreHandleUserChange(s.localStore,o);s.currentUser=o,function(h,g){h.Ma.forEach(_=>{_.forEach(et=>{et.reject(new FirestoreError(D.CANCELLED,g))})}),h.Ma.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(o,a.removedBatchIds,a.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,a.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(e,o){const s=__PRIVATE_debugCast(e),a=s.Ca.get(o);if(a&&a.pa)return __PRIVATE_documentKeySet().add(a.key);{let c=__PRIVATE_documentKeySet();const h=s.Sa.get(o);if(!h)return c;for(const g of h){const _=s.wa.get(g);c=c.unionWith(_.view.Ia)}return c}}function __PRIVATE_ensureWatchCallbacks(e){const o=__PRIVATE_debugCast(e);return o.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,o),o.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,o),o.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,o),o.ya.u_=__PRIVATE_eventManagerOnWatchChange.bind(null,o.eventManager),o.ya.La=__PRIVATE_eventManagerOnWatchError.bind(null,o.eventManager),o}function __PRIVATE_syncEngineEnsureWriteCallbacks(e){const o=__PRIVATE_debugCast(e);return o.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,o),o.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,o),o}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(o){this.serializer=__PRIVATE_newSerializer(o.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(o),this.persistence=this.createPersistence(o),await this.persistence.start(),this.localStore=this.createLocalStore(o),this.gcScheduler=this.createGarbageCollectionScheduler(o,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(o,this.localStore)}createGarbageCollectionScheduler(o,s){return null}createIndexBackfillerScheduler(o,s){return null}createLocalStore(o){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,o.initialUser,this.serializer)}createPersistence(o){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(o){return new __PRIVATE_MemorySharedClientState}async terminate(){var o,s;(o=this.gcScheduler)===null||o===void 0||o.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(o,s){this.localStore||(this.localStore=o.localStore,this.sharedClientState=o.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!o.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(o){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(o){const s=__PRIVATE_newSerializer(o.databaseInfo.databaseId),a=function(h){return new __PRIVATE_WebChannelConnection(h)}(o.databaseInfo);return function(h,g,_,et){return new __PRIVATE_DatastoreImpl(h,g,_,et)}(o.authCredentials,o.appCheckCredentials,a,s)}createRemoteStore(o){return function(a,c,h,g,_){return new __PRIVATE_RemoteStoreImpl(a,c,h,g,_)}(this.localStore,this.datastore,o.asyncQueue,s=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,s,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(o,s){return function(c,h,g,_,et,rt,it){const ot=new __PRIVATE_SyncEngineImpl(c,h,g,_,et,rt);return it&&(ot.Oa=!0),ot}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,o.initialUser,o.maxConcurrentLimboResolutions,s)}async terminate(){var o;await async function(a){const c=__PRIVATE_debugCast(a);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),c.v_.add(5),await __PRIVATE_disableNetworkInternal(c),c.M_.shutdown(),c.x_.set("Unknown")}(this.remoteStore),(o=this.datastore)===null||o===void 0||o.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(o){this.observer=o,this.muted=!1}next(o){this.observer.next&&this.qa(this.observer.next,o)}error(o){this.observer.error?this.qa(this.observer.error,o):__PRIVATE_logError("Uncaught Error in snapshot listener:",o.toString())}Qa(){this.muted=!0}qa(o,s){this.muted||setTimeout(()=>{this.muted||o(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(o,s,a,c){this.authCredentials=o,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=c,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,async h=>{__PRIVATE_logDebug("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(o){this.authCredentialListener=o}setAppCheckTokenChangeListener(o){this.appCheckCredentialListener=o}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const o=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),o.resolve()}catch(s){const a=__PRIVATE_wrapInUserErrorIfRecoverable(s,"Failed to shutdown persistence");o.reject(a)}}),o.promise}}async function __PRIVATE_setOfflineComponentProvider(e,o){e.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const s=e.configuration;await o.initialize(s);let a=s.initialUser;e.setCredentialChangeListener(async c=>{a.isEqual(c)||(await __PRIVATE_localStoreHandleUserChange(o.localStore,c),a=c)}),o.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=o}async function __PRIVATE_setOnlineComponentProvider(e,o){e.asyncQueue.verifyOperationInProgress();const s=await __PRIVATE_ensureOfflineComponents(e);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await o.initialize(s,e.configuration),e.setCredentialChangeListener(a=>__PRIVATE_remoteStoreHandleCredentialChange(o.remoteStore,a)),e.setAppCheckTokenChangeListener((a,c)=>__PRIVATE_remoteStoreHandleCredentialChange(o.remoteStore,c)),e._onlineComponents=o}function __PRIVATE_canFallbackFromIndexedDbError(e){return e.name==="FirebaseError"?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function __PRIVATE_ensureOfflineComponents(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(e,e._uninitializedComponentsProvider._offline)}catch(o){const s=o;if(!__PRIVATE_canFallbackFromIndexedDbError(s))throw s;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+s),await __PRIVATE_setOfflineComponentProvider(e,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(e,new MemoryOfflineComponentProvider);return e._offlineComponents}async function __PRIVATE_ensureOnlineComponents(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,e._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(e,new OnlineComponentProvider))),e._onlineComponents}function __PRIVATE_getSyncEngine(e){return __PRIVATE_ensureOnlineComponents(e).then(o=>o.syncEngine)}async function __PRIVATE_getEventManager(e){const o=await __PRIVATE_ensureOnlineComponents(e),s=o.eventManager;return s.onListen=__PRIVATE_syncEngineListen.bind(null,o.syncEngine),s.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,o.syncEngine),s.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,o.syncEngine),s.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,o.syncEngine),s}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(e,o,s={}){const a=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget(async()=>function(h,g,_,et,rt){const it=new __PRIVATE_AsyncObserver({next:st=>{g.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(h,ot));const ct=st.docs.has(_);!ct&&st.fromCache?rt.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):ct&&st.fromCache&&et&&et.source==="server"?rt.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):rt.resolve(st)},error:st=>rt.reject(st)}),ot=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(_.path),it,{includeMetadataChanges:!0,ta:!0});return __PRIVATE_eventManagerListen(h,ot)}(await __PRIVATE_getEventManager(e),e.asyncQueue,o,s,a)),a.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(e,o,s={}){const a=new __PRIVATE_Deferred;return e.asyncQueue.enqueueAndForget(async()=>function(h,g,_,et,rt){const it=new __PRIVATE_AsyncObserver({next:st=>{g.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(h,ot)),st.fromCache&&et.source==="server"?rt.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):rt.resolve(st)},error:st=>rt.reject(st)}),ot=new __PRIVATE_QueryListener(_,it,{includeMetadataChanges:!0,ta:!0});return __PRIVATE_eventManagerListen(h,ot)}(await __PRIVATE_getEventManager(e),e.asyncQueue,o,s,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(e){const o={};return e.timeoutSeconds!==void 0&&(o.timeoutSeconds=e.timeoutSeconds),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(e,o,s){if(!s)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${o}.`)}function __PRIVATE_validateIsNotUsedTogether(e,o,s,a){if(o===!0&&a===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${e} and ${s} cannot be used together.`)}function __PRIVATE_validateDocumentPath(e){if(!DocumentKey.isDocumentKey(e))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_validateCollectionPath(e){if(DocumentKey.isDocumentKey(e))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function __PRIVATE_valueDescription(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const o=function(a){return a.constructor?a.constructor.name:null}(e);return o?`a custom ${o} object`:"an object"}}return typeof e=="function"?"a function":fail()}function __PRIVATE_cast(e,o){if("_delegate"in e&&(e=e._delegate),!(e instanceof o)){if(o.name===e.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=__PRIVATE_valueDescription(e);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${o.name}', but it was: ${s}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(o){var s,a;if(o.host===void 0){if(o.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=o.host,this.ssl=(s=o.ssl)===null||s===void 0||s;if(this.credentials=o.credentials,this.ignoreUndefinedProperties=!!o.ignoreUndefinedProperties,this.localCache=o.localCache,o.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(o.cacheSizeBytes!==-1&&o.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=o.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",o.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",o.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!o.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:o.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!o.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((a=o.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!o.useFetchStreams}isEqual(o){return this.host===o.host&&this.ssl===o.ssl&&this.credentials===o.credentials&&this.cacheSizeBytes===o.cacheSizeBytes&&this.experimentalForceLongPolling===o.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===o.experimentalAutoDetectLongPolling&&function(a,c){return a.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,o.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===o.ignoreUndefinedProperties&&this.useFetchStreams===o.useFetchStreams}}class Firestore$1{constructor(o,s,a,c){this._authCredentials=o,this._appCheckCredentials=s,this._databaseId=a,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(o){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(o),o.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(a.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(o.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const a=pe.get(s);a&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),pe.delete(s),a.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(e,o,s,a={}){var c;const h=(e=__PRIVATE_cast(e,Firestore$1))._getSettings(),g=`${o}:${s}`;if(h.host!=="firestore.googleapis.com"&&h.host!==g&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},h),{host:g,ssl:!1})),a.mockUserToken){let _,et;if(typeof a.mockUserToken=="string")_=a.mockUserToken,et=User.MOCK_USER;else{_=createMockUserToken(a.mockUserToken,(c=e._app)===null||c===void 0?void 0:c.options.projectId);const rt=a.mockUserToken.sub||a.mockUserToken.user_id;if(!rt)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");et=new User(rt)}e._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(_,et))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(o,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=o}withConverter(o){return new Query(this.firestore,o,this._query)}}class DocumentReference{constructor(o,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=o}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(o){return new DocumentReference(this.firestore,o,this._key)}}class CollectionReference extends Query{constructor(o,s,a){super(o,s,__PRIVATE_newQueryForPath(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const o=this._path.popLast();return o.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(o))}withConverter(o){return new CollectionReference(this.firestore,o,this._path)}}function collection(e,o,...s){if(e=getModularInstance(e),__PRIVATE_validateNonEmptyArgument("collection","path",o),e instanceof Firestore$1){const a=ResourcePath.fromString(o,...s);return __PRIVATE_validateCollectionPath(a),new CollectionReference(e,null,a)}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=e._path.child(ResourcePath.fromString(o,...s));return __PRIVATE_validateCollectionPath(a),new CollectionReference(e.firestore,null,a)}}function doc(e,o,...s){if(e=getModularInstance(e),arguments.length===1&&(o=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",o),e instanceof Firestore$1){const a=ResourcePath.fromString(o,...s);return __PRIVATE_validateDocumentPath(a),new DocumentReference(e,null,new DocumentKey(a))}{if(!(e instanceof DocumentReference||e instanceof CollectionReference))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=e._path.child(ResourcePath.fromString(o,...s));return __PRIVATE_validateDocumentPath(a),new DocumentReference(e.firestore,e instanceof CollectionReference?e.converter:null,new DocumentKey(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.cu=()=>{const s=getDocument();s&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+s.visibilityState),this.jo.Ko()};const o=getDocument();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(o){this.enqueue(o)}enqueueAndForgetEvenWhileRestricted(o){this.lu(),this.hu(o)}enterRestrictedMode(o){if(!this.iu){this.iu=!0,this.au=o||!1;const s=getDocument();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.cu)}}enqueue(o){if(this.lu(),this.iu)return new Promise(()=>{});const s=new __PRIVATE_Deferred;return this.hu(()=>this.iu&&this.au?Promise.resolve():(o().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(o){this.enqueueAndForget(()=>(this.ru.push(o),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(o){if(!__PRIVATE_isIndexedDbTransactionError(o))throw o;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+o)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(o){const s=this.nu.then(()=>(this._u=!0,o().catch(a=>{this.ou=a,this._u=!1;const c=function(g){let _=g.message||"";return g.stack&&(_=g.stack.includes(g.message)?g.stack:g.message+`
`+g.stack),_}(a);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",c),a}).then(a=>(this._u=!1,a))));return this.nu=s,s}enqueueAfterDelay(o,s,a){this.lu(),this.uu.indexOf(o)>-1&&(s=0);const c=DelayedOperation.createAndSchedule(this,o,s,a,h=>this.Iu(h));return this.su.push(c),c}lu(){this.ou&&fail()}verifyOperationInProgress(){}async Tu(){let o;do o=this.nu,await o;while(o!==this.nu)}Eu(o){for(const s of this.su)if(s.timerId===o)return!0;return!1}du(o){return this.Tu().then(()=>{this.su.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.su)if(s.skipDelay(),o!=="all"&&s.timerId===o)break;return this.Tu()})}Au(o){this.uu.push(o)}Iu(o){const s=this.su.indexOf(o);this.su.splice(s,1)}}class Firestore extends Firestore$1{constructor(o,s,a,c){super(o,s,a,c),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore(e,o){const s=typeof e=="object"?e:getApp(),a=typeof e=="string"?e:o||"(default)",c=_getProvider(s,"firestore").getImmediate({identifier:a});if(!c._initialized){const h=getDefaultEmulatorHostnameAndPort("firestore");h&&connectFirestoreEmulator(c,...h)}return c}function ensureFirestoreConfigured(e){return e._firestoreClient||__PRIVATE_configureFirestore(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function __PRIVATE_configureFirestore(e){var o,s,a;const c=e._freezeSettings(),h=function(_,et,rt,it){return new DatabaseInfo(_,et,rt,it.host,it.ssl,it.experimentalForceLongPolling,it.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(it.experimentalLongPollingOptions),it.useFetchStreams)}(e._databaseId,((o=e._app)===null||o===void 0?void 0:o.options.appId)||"",e._persistenceKey,c);e._firestoreClient=new FirestoreClient(e._authCredentials,e._appCheckCredentials,e._queue,h),!((s=c.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((a=c.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(o){this._byteString=o}static fromBase64String(o){try{return new Bytes(ByteString.fromBase64String(o))}catch(s){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(o){return new Bytes(ByteString.fromUint8Array(o))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(o){return this._byteString.isEqual(o._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...o){for(let s=0;s<o.length;++s)if(o[s].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(o)}isEqual(o){return this._internalPath.isEqual(o._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(o){this._methodName=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(o,s){if(!isFinite(o)||o<-90||o>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+o);if(!isFinite(s)||s<-180||s>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=o,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(o){return this._lat===o._lat&&this._long===o._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(o){return __PRIVATE_primitiveComparator(this._lat,o._lat)||__PRIVATE_primitiveComparator(this._long,o._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we=/^__.*__$/;class ParsedSetData{constructor(o,s,a){this.data=o,this.fieldMask=s,this.fieldTransforms=a}toMutation(o,s){return this.fieldMask!==null?new __PRIVATE_PatchMutation(o,this.data,this.fieldMask,s,this.fieldTransforms):new __PRIVATE_SetMutation(o,this.data,s,this.fieldTransforms)}}class ParsedUpdateData{constructor(o,s,a){this.data=o,this.fieldMask=s,this.fieldTransforms=a}toMutation(o,s){return new __PRIVATE_PatchMutation(o,this.data,this.fieldMask,s,this.fieldTransforms)}}function __PRIVATE_isWrite(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(o,s,a,c,h,g){this.settings=o,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=c,h===void 0&&this.Ru(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(o){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),o),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(o){var s;const a=(s=this.path)===null||s===void 0?void 0:s.child(o),c=this.mu({path:a,gu:!1});return c.pu(o),c}yu(o){var s;const a=(s=this.path)===null||s===void 0?void 0:s.child(o),c=this.mu({path:a,gu:!1});return c.Ru(),c}wu(o){return this.mu({path:void 0,gu:!0})}Su(o){return __PRIVATE_createError(o,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(o){return this.fieldMask.find(s=>o.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>o.isPrefixOf(s.field))!==void 0}Ru(){if(this.path)for(let o=0;o<this.path.length;o++)this.pu(this.path.get(o))}pu(o){if(o.length===0)throw this.Su("Document fields must not be empty");if(__PRIVATE_isWrite(this.Vu)&&we.test(o))throw this.Su('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(o,s,a){this.databaseId=o,this.ignoreUndefinedProperties=s,this.serializer=a||__PRIVATE_newSerializer(o)}Cu(o,s,a,c=!1){return new __PRIVATE_ParseContextImpl({Vu:o,methodName:s,Du:a,path:FieldPath$1.emptyPath(),gu:!1,bu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(e){const o=e._freezeSettings(),s=__PRIVATE_newSerializer(e._databaseId);return new __PRIVATE_UserDataReader(e._databaseId,!!o.ignoreUndefinedProperties,s)}function __PRIVATE_parseSetData(e,o,s,a,c,h={}){const g=e.Cu(h.merge||h.mergeFields?2:0,o,s,c);__PRIVATE_validatePlainObject("Data must be an object, but it was:",g,a);const _=__PRIVATE_parseObject(a,g);let et,rt;if(h.merge)et=new FieldMask(g.fieldMask),rt=g.fieldTransforms;else if(h.mergeFields){const it=[];for(const ot of h.mergeFields){const st=__PRIVATE_fieldPathFromArgument$1(o,ot,s);if(!g.contains(st))throw new FirestoreError(D.INVALID_ARGUMENT,`Field '${st}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(it,st)||it.push(st)}et=new FieldMask(it),rt=g.fieldTransforms.filter(ot=>et.covers(ot.field))}else et=null,rt=g.fieldTransforms;return new ParsedSetData(new ObjectValue(_),et,rt)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(o){if(o.Vu!==2)throw o.Vu===1?o.Su(`${this._methodName}() can only appear at the top level of your update data`):o.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return o.fieldMask.push(o.path),null}isEqual(o){return o instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_parseUpdateData(e,o,s,a){const c=e.Cu(1,o,s);__PRIVATE_validatePlainObject("Data must be an object, but it was:",c,a);const h=[],g=ObjectValue.empty();forEach(a,(et,rt)=>{const it=__PRIVATE_fieldPathFromDotSeparatedString(o,et,s);rt=getModularInstance(rt);const ot=c.yu(it);if(rt instanceof __PRIVATE_DeleteFieldValueImpl)h.push(it);else{const st=__PRIVATE_parseData(rt,ot);st!=null&&(h.push(it),g.set(it,st))}});const _=new FieldMask(h);return new ParsedUpdateData(g,_,c.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(e,o,s,a,c,h){const g=e.Cu(1,o,s),_=[__PRIVATE_fieldPathFromArgument$1(o,a,s)],et=[c];if(h.length%2!=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${o}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let st=0;st<h.length;st+=2)_.push(__PRIVATE_fieldPathFromArgument$1(o,h[st])),et.push(h[st+1]);const rt=[],it=ObjectValue.empty();for(let st=_.length-1;st>=0;--st)if(!__PRIVATE_fieldMaskContains(rt,_[st])){const ct=_[st];let dt=et[st];dt=getModularInstance(dt);const Tt=g.yu(ct);if(dt instanceof __PRIVATE_DeleteFieldValueImpl)rt.push(ct);else{const Et=__PRIVATE_parseData(dt,Tt);Et!=null&&(rt.push(ct),it.set(ct,Et))}}const ot=new FieldMask(rt);return new ParsedUpdateData(it,ot,g.fieldTransforms)}function __PRIVATE_parseData(e,o){if(__PRIVATE_looksLikeJsonObject(e=getModularInstance(e)))return __PRIVATE_validatePlainObject("Unsupported field value:",o,e),__PRIVATE_parseObject(e,o);if(e instanceof FieldValue)return function(a,c){if(!__PRIVATE_isWrite(c.Vu))throw c.Su(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Su(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(e,o),null;if(e===void 0&&o.ignoreUndefinedProperties)return null;if(o.path&&o.fieldMask.push(o.path),e instanceof Array){if(o.settings.gu&&o.Vu!==4)throw o.Su("Nested arrays are not supported");return function(a,c){const h=[];let g=0;for(const _ of a){let et=__PRIVATE_parseData(_,c.wu(g));et==null&&(et={nullValue:"NULL_VALUE"}),h.push(et),g++}return{arrayValue:{values:h}}}(e,o)}return function(a,c){if((a=getModularInstance(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return toNumber(c.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Timestamp.fromDate(a);return{timestampValue:toTimestamp(c.serializer,h)}}if(a instanceof Timestamp){const h=new Timestamp(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:toTimestamp(c.serializer,h)}}if(a instanceof GeoPoint)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(c.serializer,a._byteString)};if(a instanceof DocumentReference){const h=c.databaseId,g=a.firestore._databaseId;if(!g.isEqual(h))throw c.Su(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:__PRIVATE_toResourceName(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Su(`Unsupported field value: ${__PRIVATE_valueDescription(a)}`)}(e,o)}function __PRIVATE_parseObject(e,o){const s={};return isEmpty(e)?o.path&&o.path.length>0&&o.fieldMask.push(o.path):forEach(e,(a,c)=>{const h=__PRIVATE_parseData(c,o.fu(a));h!=null&&(s[a]=h)}),{mapValue:{fields:s}}}function __PRIVATE_looksLikeJsonObject(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Timestamp||e instanceof GeoPoint||e instanceof Bytes||e instanceof DocumentReference||e instanceof FieldValue)}function __PRIVATE_validatePlainObject(e,o,s){if(!__PRIVATE_looksLikeJsonObject(s)||!function(c){return typeof c=="object"&&c!==null&&(Object.getPrototypeOf(c)===Object.prototype||Object.getPrototypeOf(c)===null)}(s)){const a=__PRIVATE_valueDescription(s);throw a==="an object"?o.Su(e+" a custom object"):o.Su(e+" "+a)}}function __PRIVATE_fieldPathFromArgument$1(e,o,s){if((o=getModularInstance(o))instanceof FieldPath)return o._internalPath;if(typeof o=="string")return __PRIVATE_fieldPathFromDotSeparatedString(e,o);throw __PRIVATE_createError("Field path arguments must be of type string or ",e,!1,void 0,s)}const Se=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(e,o,s){if(o.search(Se)>=0)throw __PRIVATE_createError(`Invalid field path (${o}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,s);try{return new FieldPath(...o.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${o}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,s)}}function __PRIVATE_createError(e,o,s,a,c){const h=a&&!a.isEmpty(),g=c!==void 0;let _=`Function ${o}() called with invalid data`;s&&(_+=" (via `toFirestore()`)"),_+=". ";let et="";return(h||g)&&(et+=" (found",h&&(et+=` in field ${a}`),g&&(et+=` in document ${c}`),et+=")"),new FirestoreError(D.INVALID_ARGUMENT,_+e+et)}function __PRIVATE_fieldMaskContains(e,o){return e.some(s=>s.isEqual(o))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(o,s,a,c,h){this._firestore=o,this._userDataWriter=s,this._key=a,this._document=c,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const o=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(o)}return this._userDataWriter.convertValue(this._document.data.value)}}get(o){if(this._document){const s=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",o));if(s!==null)return this._userDataWriter.convertValue(s)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(e,o){return typeof o=="string"?__PRIVATE_fieldPathFromDotSeparatedString(e,o):o instanceof FieldPath?o._internalPath:o._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new FirestoreError(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AbstractUserDataWriter{convertValue(o,s="none"){switch(__PRIVATE_typeOrder(o)){case 0:return null;case 1:return o.booleanValue;case 2:return __PRIVATE_normalizeNumber(o.integerValue||o.doubleValue);case 3:return this.convertTimestamp(o.timestampValue);case 4:return this.convertServerTimestamp(o,s);case 5:return o.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(o.bytesValue));case 7:return this.convertReference(o.referenceValue);case 8:return this.convertGeoPoint(o.geoPointValue);case 9:return this.convertArray(o.arrayValue,s);case 10:return this.convertObject(o.mapValue,s);default:throw fail()}}convertObject(o,s){return this.convertObjectMap(o.fields,s)}convertObjectMap(o,s="none"){const a={};return forEach(o,(c,h)=>{a[c]=this.convertValue(h,s)}),a}convertGeoPoint(o){return new GeoPoint(__PRIVATE_normalizeNumber(o.latitude),__PRIVATE_normalizeNumber(o.longitude))}convertArray(o,s){return(o.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(o,s){switch(s){case"previous":const a=__PRIVATE_getPreviousValue(o);return a==null?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(o));default:return null}}convertTimestamp(o){const s=__PRIVATE_normalizeTimestamp(o);return new Timestamp(s.seconds,s.nanos)}convertDocumentKey(o,s){const a=ResourcePath.fromString(o);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(a));const c=new DatabaseId(a.get(1),a.get(3)),h=new DocumentKey(a.popFirst(5));return c.isEqual(s)||__PRIVATE_logError(`Document ${h} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(e,o,s){let a;return a=e?s&&(s.merge||s.mergeFields)?e.toFirestore(o,s):e.toFirestore(o):o,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(o,s){this.hasPendingWrites=o,this.fromCache=s}isEqual(o){return this.hasPendingWrites===o.hasPendingWrites&&this.fromCache===o.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(o,s,a,c,h,g){super(o,s,a,c,g),this._firestore=o,this._firestoreImpl=o,this.metadata=h}exists(){return super.exists()}data(o={}){if(this._document){if(this._converter){const s=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,o)}return this._userDataWriter.convertValue(this._document.data.value,o.serverTimestamps)}}get(o,s={}){if(this._document){const a=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",o));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(o={}){return super.data(o)}}class QuerySnapshot{constructor(o,s,a,c){this._firestore=o,this._userDataWriter=s,this._snapshot=c,this.metadata=new SnapshotMetadata(c.hasPendingWrites,c.fromCache),this.query=a}get docs(){const o=[];return this.forEach(s=>o.push(s)),o}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(o,s){this._snapshot.docs.forEach(a=>{o.call(s,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,a.key,a,new SnapshotMetadata(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(o={}){const s=!!o.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let g=0;return c._snapshot.docChanges.map(_=>{const et=new QueryDocumentSnapshot(c._firestore,c._userDataWriter,_.doc.key,_.doc,new SnapshotMetadata(c._snapshot.mutatedKeys.has(_.doc.key),c._snapshot.fromCache),c.query.converter);return _.doc,{type:"added",doc:et,oldIndex:-1,newIndex:g++}})}{let g=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(_=>h||_.type!==3).map(_=>{const et=new QueryDocumentSnapshot(c._firestore,c._userDataWriter,_.doc.key,_.doc,new SnapshotMetadata(c._snapshot.mutatedKeys.has(_.doc.key),c._snapshot.fromCache),c.query.converter);let rt=-1,it=-1;return _.type!==0&&(rt=g.indexOf(_.doc.key),g=g.delete(_.doc.key)),_.type!==1&&(g=g.add(_.doc),it=g.indexOf(_.doc.key)),{type:__PRIVATE_resultChangeType(_.type),doc:et,oldIndex:rt,newIndex:it}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function __PRIVATE_resultChangeType(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(e){e=__PRIVATE_cast(e,DocumentReference);const o=__PRIVATE_cast(e.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(o),e._key).then(s=>__PRIVATE_convertToDocSnapshot(o,e,s))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(o){super(),this.firestore=o}convertBytes(o){return new Bytes(o)}convertReference(o){const s=this.convertDocumentKey(o,this.firestore._databaseId);return new DocumentReference(this.firestore,null,s)}}function getDocs(e){e=__PRIVATE_cast(e,Query);const o=__PRIVATE_cast(e.firestore,Firestore),s=ensureFirestoreConfigured(o),a=new __PRIVATE_ExpUserDataWriter(o);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(e._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(s,e._query).then(c=>new QuerySnapshot(o,a,e,c))}function updateDoc(e,o,s,...a){e=__PRIVATE_cast(e,DocumentReference);const c=__PRIVATE_cast(e.firestore,Firestore),h=__PRIVATE_newUserDataReader(c);let g;return g=typeof(o=getModularInstance(o))=="string"||o instanceof FieldPath?__PRIVATE_parseUpdateVarargs(h,"updateDoc",e._key,o,s,a):__PRIVATE_parseUpdateData(h,"updateDoc",e._key,o),executeWrite(c,[g.toMutation(e._key,Precondition.exists(!0))])}function deleteDoc(e){return executeWrite(__PRIVATE_cast(e.firestore,Firestore),[new __PRIVATE_DeleteMutation(e._key,Precondition.none())])}function addDoc(e,o){const s=__PRIVATE_cast(e.firestore,Firestore),a=doc(e),c=__PRIVATE_applyFirestoreDataConverter(e.converter,o);return executeWrite(s,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(e.firestore),"addDoc",a._key,c,e.converter!==null,{}).toMutation(a._key,Precondition.exists(!1))]).then(()=>a)}function executeWrite(e,o){return function(a,c){const h=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(a),c,h)),h.promise}(ensureFirestoreConfigured(e),o)}function __PRIVATE_convertToDocSnapshot(e,o,s){const a=s.docs.get(o._key),c=new __PRIVATE_ExpUserDataWriter(e);return new DocumentSnapshot(e,c,o._key,a,new SnapshotMetadata(s.hasPendingWrites,s.fromCache),o.converter)}(function e(o,s=!0){(function(c){S=c})(SDK_VERSION),_registerComponent(new Component("firestore",(a,{instanceIdentifier:c,options:h})=>{const g=a.getProvider("app").getImmediate(),_=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(a.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(a.getProvider("app-check-internal")),function(rt,it){if(!Object.prototype.hasOwnProperty.apply(rt.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(rt.options.projectId,it)}(g,c),g);return h=Object.assign({useFetchStreams:s},h),_._setSettings(h),_},"PUBLIC").setMultipleInstances(!0)),registerVersion(w,"4.6.0",o),registerVersion(w,"4.6.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(o,s,a=0){super(prependCode(o),`Firebase Storage: ${s} (${prependCode(o)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(o){this.status_=o}_codeEquals(o){return prependCode(o)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(o){this.customData.serverResponse=o,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(e){return"storage/"+e}function unknown(){const e="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,e)}function objectNotFound(e){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function quotaExceeded(e){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,e)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(e){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(e){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+e+"'.")}function invalidDefaultBucket(e){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(e){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(e){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,e)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(e){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(e,o){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+e+"': "+o)}function internalError(e){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(o,s){this.bucket=o,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const o=encodeURIComponent;return"/b/"+o(this.bucket)+"/o/"+o(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(o,s){let a;try{a=Location.makeFromUrl(o,s)}catch{return new Location(o,"")}if(a.path==="")return a;throw invalidDefaultBucket(o)}static makeFromUrl(o,s){let a=null;const c="([A-Za-z0-9.\\-_]+)";function h(bt){bt.path.charAt(bt.path.length-1)==="/"&&(bt.path_=bt.path_.slice(0,-1))}const g="(/(.*))?$",_=new RegExp("^gs://"+c+g,"i"),et={bucket:1,path:3};function rt(bt){bt.path_=decodeURIComponent(bt.path)}const it="v[A-Za-z0-9_]+",ot=s.replace(/[.]/g,"\\."),st="(/([^?#]*).*)?$",ct=new RegExp(`^https?://${ot}/${it}/b/${c}/o${st}`,"i"),dt={bucket:1,path:3},Tt=s===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":s,Et="([^?#]*)",mt=new RegExp(`^https?://${Tt}/${c}/${Et}`,"i"),xt=[{regex:_,indices:et,postModify:h},{regex:ct,indices:dt,postModify:rt},{regex:mt,indices:{bucket:1,path:2},postModify:rt}];for(let bt=0;bt<xt.length;bt++){const It=xt[bt],Ut=It.regex.exec(o);if(Ut){const Ft=Ut[It.indices.bucket];let Bt=Ut[It.indices.path];Bt||(Bt=""),a=new Location(Ft,Bt),It.postModify(a);break}}if(a==null)throw invalidUrl(o);return a}}class FailRequest{constructor(o){this.promise_=Promise.reject(o)}getPromise(){return this.promise_}cancel(o=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(e,o,s){let a=1,c=null,h=null,g=!1,_=0;function et(){return _===2}let rt=!1;function it(...Et){rt||(rt=!0,o.apply(null,Et))}function ot(Et){c=setTimeout(()=>{c=null,e(ct,et())},Et)}function st(){h&&clearTimeout(h)}function ct(Et,...mt){if(rt){st();return}if(Et){st(),it.call(null,Et,...mt);return}if(et()||g){st(),it.call(null,Et,...mt);return}a<64&&(a*=2);let xt;_===1?(_=2,xt=0):xt=(a+Math.random())*1e3,ot(xt)}let dt=!1;function Tt(Et){dt||(dt=!0,st(),!rt&&(c!==null?(Et||(_=2),clearTimeout(c),ot(0)):Et||(_=1)))}return ot(0),h=setTimeout(()=>{g=!0,Tt(!0)},s),Tt}function stop(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(e){return e!==void 0}function isNonArrayObject(e){return typeof e=="object"&&!Array.isArray(e)}function isString(e){return typeof e=="string"||e instanceof String}function isNativeBlob(e){return isNativeBlobDefined()&&e instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(e,o,s,a){if(a<o)throw invalidArgument(`Invalid value for '${e}'. Expected ${o} or greater.`);if(a>s)throw invalidArgument(`Invalid value for '${e}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(e,o,s){let a=o;return s==null&&(a=`https://${o}`),`${s}://${a}/v0${e}`}function makeQueryString(e){const o=encodeURIComponent;let s="?";for(const a in e)if(e.hasOwnProperty(a)){const c=o(a)+"="+o(e[a]);s=s+c+"&"}return s=s.slice(0,-1),s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(e,o){const s=e>=500&&e<600,c=[408,429].indexOf(e)!==-1,h=o.indexOf(e)!==-1;return s||c||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(o,s,a,c,h,g,_,et,rt,it,ot,st=!0){this.url_=o,this.method_=s,this.headers_=a,this.body_=c,this.successCodes_=h,this.additionalRetryCodes_=g,this.callback_=_,this.errorCallback_=et,this.timeout_=rt,this.progressCallback_=it,this.connectionFactory_=ot,this.retry=st,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ct,dt)=>{this.resolve_=ct,this.reject_=dt,this.start_()})}start_(){const o=(a,c)=>{if(c){a(!1,new RequestEndStatus(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const g=_=>{const et=_.loaded,rt=_.lengthComputable?_.total:-1;this.progressCallback_!==null&&this.progressCallback_(et,rt)};this.progressCallback_!==null&&h.addUploadProgressListener(g),h.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(g),this.pendingConnection_=null;const _=h.getErrorCode()===ErrorCode.NO_ERROR,et=h.getStatus();if(!_||isRetryStatusCode(et,this.additionalRetryCodes_)&&this.retry){const it=h.getErrorCode()===ErrorCode.ABORT;a(!1,new RequestEndStatus(!1,null,it));return}const rt=this.successCodes_.indexOf(et)!==-1;a(!0,new RequestEndStatus(rt,h))})},s=(a,c)=>{const h=this.resolve_,g=this.reject_,_=c.connection;if(c.wasSuccessCode)try{const et=this.callback_(_,_.getResponse());isJustDef(et)?h(et):h()}catch(et){g(et)}else if(_!==null){const et=unknown();et.serverResponse=_.getErrorText(),this.errorCallback_?g(this.errorCallback_(_,et)):g(et)}else if(c.canceled){const et=this.appDelete_?appDeleted():canceled();g(et)}else{const et=retryLimitExceeded();g(et)}};this.canceled_?s(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(o,s,this.timeout_)}getPromise(){return this.promise_}cancel(o){this.canceled_=!0,this.appDelete_=o||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(o,s,a){this.wasSuccessCode=o,this.connection=s,this.canceled=!!a}}function addAuthHeader_(e,o){o!==null&&o.length>0&&(e.Authorization="Firebase "+o)}function addVersionHeader_(e,o){e["X-Firebase-Storage-Version"]="webjs/"+(o??"AppManager")}function addGmpidHeader_(e,o){o&&(e["X-Firebase-GMPID"]=o)}function addAppCheckHeader_(e,o){o!==null&&(e["X-Firebase-AppCheck"]=o)}function makeRequest(e,o,s,a,c,h,g=!0){const _=makeQueryString(e.urlParams),et=e.url+_,rt=Object.assign({},e.headers);return addGmpidHeader_(rt,o),addAuthHeader_(rt,s),addVersionHeader_(rt,h),addAppCheckHeader_(rt,a),new NetworkRequest(et,e.method,rt,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,c,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...e){const o=getBlobBuilder();if(o!==void 0){const s=new o;for(let a=0;a<e.length;a++)s.append(e[a]);return s.getBlob()}else{if(isNativeBlobDefined())return new Blob(e);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(e,o,s){return e.webkitSlice?e.webkitSlice(o,s):e.mozSlice?e.mozSlice(o,s):e.slice?e.slice(o,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(e){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(o,s){this.data=o,this.contentType=s||null}}function dataFromString(e,o){switch(e){case StringFormat.RAW:return new StringData(utf8Bytes_(o));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(e,o));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(o),dataURLContentType_(o))}throw unknown()}function utf8Bytes_(e){const o=[];for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);if(a<=127)o.push(a);else if(a<=2047)o.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(s<e.length-1&&(e.charCodeAt(s+1)&64512)===56320))o.push(239,191,189);else{const h=a,g=e.charCodeAt(++s);a=65536|(h&1023)<<10|g&1023,o.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?o.push(239,191,189):o.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(o)}function percentEncodedBytes_(e){let o;try{o=decodeURIComponent(e)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(o)}function base64Bytes_(e,o){switch(e){case StringFormat.BASE64:{const c=o.indexOf("-")!==-1,h=o.indexOf("_")!==-1;if(c||h)throw invalidFormat(e,"Invalid character '"+(c?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const c=o.indexOf("+")!==-1,h=o.indexOf("/")!==-1;if(c||h)throw invalidFormat(e,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");o=o.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=decodeBase64(o)}catch(c){throw c.message.includes("polyfill")?c:invalidFormat(e,"Invalid character found")}const a=new Uint8Array(s.length);for(let c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}class DataURLParts{constructor(o){this.base64=!1,this.contentType=null;const s=o.match(/^data:([^,]+)?,/);if(s===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=s[1]||null;a!=null&&(this.base64=endsWith(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=o.substring(o.indexOf(",")+1)}}function dataURLBytes_(e){const o=new DataURLParts(e);return o.base64?base64Bytes_(StringFormat.BASE64,o.rest):percentEncodedBytes_(o.rest)}function dataURLContentType_(e){return new DataURLParts(e).contentType}function endsWith(e,o){return e.length>=o.length?e.substring(e.length-o.length)===o:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(o,s){let a=0,c="";isNativeBlob(o)?(this.data_=o,a=o.size,c=o.type):o instanceof ArrayBuffer?(s?this.data_=new Uint8Array(o):(this.data_=new Uint8Array(o.byteLength),this.data_.set(new Uint8Array(o))),a=this.data_.length):o instanceof Uint8Array&&(s?this.data_=o:(this.data_=new Uint8Array(o.length),this.data_.set(o)),a=o.length),this.size_=a,this.type_=c}size(){return this.size_}type(){return this.type_}slice(o,s){if(isNativeBlob(this.data_)){const a=this.data_,c=sliceBlob(a,o,s);return c===null?null:new FbsBlob(c)}else{const a=new Uint8Array(this.data_.buffer,o,s-o);return new FbsBlob(a,!0)}}static getBlob(...o){if(isNativeBlobDefined()){const s=o.map(a=>a instanceof FbsBlob?a.data_:a);return new FbsBlob(getBlob$1.apply(null,s))}else{const s=o.map(g=>isString(g)?dataFromString(StringFormat.RAW,g).data:g.data_);let a=0;s.forEach(g=>{a+=g.byteLength});const c=new Uint8Array(a);let h=0;return s.forEach(g=>{for(let _=0;_<g.length;_++)c[h++]=g[_]}),new FbsBlob(c,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(e){let o;try{o=JSON.parse(e)}catch{return null}return isNonArrayObject(o)?o:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(e){if(e.length===0)return null;const o=e.lastIndexOf("/");return o===-1?"":e.slice(0,o)}function child(e,o){const s=o.split("/").filter(a=>a.length>0).join("/");return e.length===0?s:e+"/"+s}function lastComponent(e){const o=e.lastIndexOf("/",e.length-2);return o===-1?e:e.slice(o+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(e,o){return o}class Mapping{constructor(o,s,a,c){this.server=o,this.local=s||o,this.writable=!!a,this.xform=c||noXform_}}let mappings_=null;function xformPath(e){return!isString(e)||e.length<2?e:lastComponent(e)}function getMappings(){if(mappings_)return mappings_;const e=[];e.push(new Mapping("bucket")),e.push(new Mapping("generation")),e.push(new Mapping("metageneration")),e.push(new Mapping("name","fullPath",!0));function o(h,g){return xformPath(g)}const s=new Mapping("name");s.xform=o,e.push(s);function a(h,g){return g!==void 0?Number(g):g}const c=new Mapping("size");return c.xform=a,e.push(c),e.push(new Mapping("timeCreated")),e.push(new Mapping("updated")),e.push(new Mapping("md5Hash",null,!0)),e.push(new Mapping("cacheControl",null,!0)),e.push(new Mapping("contentDisposition",null,!0)),e.push(new Mapping("contentEncoding",null,!0)),e.push(new Mapping("contentLanguage",null,!0)),e.push(new Mapping("contentType",null,!0)),e.push(new Mapping("metadata","customMetadata",!0)),mappings_=e,mappings_}function addRef(e,o){function s(){const a=e.bucket,c=e.fullPath,h=new Location(a,c);return o._makeStorageReference(h)}Object.defineProperty(e,"ref",{get:s})}function fromResource(e,o,s){const a={};a.type="file";const c=s.length;for(let h=0;h<c;h++){const g=s[h];a[g.local]=g.xform(a,o[g.server])}return addRef(a,e),a}function fromResourceString(e,o,s){const a=jsonObjectOrNull(o);return a===null?null:fromResource(e,a,s)}function downloadUrlFromResourceString(e,o,s,a){const c=jsonObjectOrNull(o);if(c===null||!isString(c.downloadTokens))return null;const h=c.downloadTokens;if(h.length===0)return null;const g=encodeURIComponent;return h.split(",").map(rt=>{const it=e.bucket,ot=e.fullPath,st="/b/"+g(it)+"/o/"+g(ot),ct=makeUrl(st,s,a),dt=makeQueryString({alt:"media",token:rt});return ct+dt})[0]}function toResourceString(e,o){const s={},a=o.length;for(let c=0;c<a;c++){const h=o[c];h.writable&&(s[h.server]=e[h.local])}return JSON.stringify(s)}class RequestInfo{constructor(o,s,a,c){this.url=o,this.method=s,this.handler=a,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(e){if(!e)throw unknown()}function metadataHandler(e,o){function s(a,c){const h=fromResourceString(e,c,o);return handlerCheck(h!==null),h}return s}function downloadUrlHandler(e,o){function s(a,c){const h=fromResourceString(e,c,o);return handlerCheck(h!==null),downloadUrlFromResourceString(h,c,e.host,e._protocol)}return s}function sharedErrorHandler(e){function o(s,a){let c;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?c=unauthorizedApp():c=unauthenticated():s.getStatus()===402?c=quotaExceeded(e.bucket):s.getStatus()===403?c=unauthorized(e.path):c=a,c.status=s.getStatus(),c.serverResponse=a.serverResponse,c}return o}function objectErrorHandler(e){const o=sharedErrorHandler(e);function s(a,c){let h=o(a,c);return a.getStatus()===404&&(h=objectNotFound(e.path)),h.serverResponse=c.serverResponse,h}return s}function getDownloadUrl(e,o,s){const a=o.fullServerUrl(),c=makeUrl(a,e.host,e._protocol),h="GET",g=e.maxOperationRetryTime,_=new RequestInfo(c,h,downloadUrlHandler(e,s),g);return _.errorHandler=objectErrorHandler(o),_}function deleteObject$2(e,o){const s=o.fullServerUrl(),a=makeUrl(s,e.host,e._protocol),c="DELETE",h=e.maxOperationRetryTime;function g(et,rt){}const _=new RequestInfo(a,c,g,h);return _.successCodes=[200,204],_.errorHandler=objectErrorHandler(o),_}function determineContentType_(e,o){return e&&e.contentType||o&&o.type()||"application/octet-stream"}function metadataForUpload_(e,o,s){const a=Object.assign({},s);return a.fullPath=e.path,a.size=o.size(),a.contentType||(a.contentType=determineContentType_(null,o)),a}function multipartUpload(e,o,s,a,c){const h=o.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"};function _(){let xt="";for(let bt=0;bt<2;bt++)xt=xt+Math.random().toString().slice(2);return xt}const et=_();g["Content-Type"]="multipart/related; boundary="+et;const rt=metadataForUpload_(o,a,c),it=toResourceString(rt,s),ot="--"+et+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+it+`\r
--`+et+`\r
Content-Type: `+rt.contentType+`\r
\r
`,st=`\r
--`+et+"--",ct=FbsBlob.getBlob(ot,a,st);if(ct===null)throw cannotSliceBlob();const dt={name:rt.fullPath},Tt=makeUrl(h,e.host,e._protocol),Et="POST",mt=e.maxUploadRetryTime,gt=new RequestInfo(Tt,Et,metadataHandler(e,s),mt);return gt.urlParams=dt,gt.headers=g,gt.body=ct.uploadData(),gt.errorHandler=sharedErrorHandler(o),gt}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(o=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,o()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,o()}),this.xhr_.addEventListener("load",()=>{o()})})}send(o,s,a,c){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,o,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(o){return this.xhr_.getResponseHeader(o)}addUploadProgressListener(o){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",o)}removeUploadProgressListener(o){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",o)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(o,s){this._service=o,s instanceof Location?this._location=s:this._location=Location.makeFromUrl(s,o.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(o,s){return new Reference(o,s)}get root(){const o=new Location(this._location.bucket,"");return this._newRef(this._service,o)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const o=parent(this._location.path);if(o===null)return null;const s=new Location(this._location.bucket,o);return new Reference(this._service,s)}_throwIfRoot(o){if(this._location.path==="")throw invalidRootOperation(o)}}function uploadBytes$1(e,o,s){e._throwIfRoot("uploadBytes");const a=multipartUpload(e.storage,e._location,getMappings(),new FbsBlob(o,!0),s);return e.storage.makeRequestWithTokens(a,newTextConnection).then(c=>({metadata:c,ref:e}))}function getDownloadURL$1(e){e._throwIfRoot("getDownloadURL");const o=getDownloadUrl(e.storage,e._location,getMappings());return e.storage.makeRequestWithTokens(o,newTextConnection).then(s=>{if(s===null)throw noDownloadURL();return s})}function deleteObject$1(e){e._throwIfRoot("deleteObject");const o=deleteObject$2(e.storage,e._location);return e.storage.makeRequestWithTokens(o,newTextConnection)}function _getChild$1(e,o){const s=child(e._location.path,o),a=new Location(e._location.bucket,s);return new Reference(e.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(e){return/^[A-Za-z]+:\/\//.test(e)}function refFromURL(e,o){return new Reference(e,o)}function refFromPath(e,o){if(e instanceof FirebaseStorageImpl){const s=e;if(s._bucket==null)throw noDefaultBucket();const a=new Reference(s,s._bucket);return o!=null?refFromPath(a,o):a}else return o!==void 0?_getChild$1(e,o):e}function ref$1(e,o){if(o&&isUrl(o)){if(e instanceof FirebaseStorageImpl)return refFromURL(e,o);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(e,o)}function extractBucket(e,o){const s=o==null?void 0:o[CONFIG_STORAGE_BUCKET_KEY];return s==null?null:Location.makeFromBucketSpec(s,e)}function connectStorageEmulator$1(e,o,s,a={}){e.host=`${o}:${s}`,e._protocol="http";const{mockUserToken:c}=a;c&&(e._overrideAuthToken=typeof c=="string"?c:createMockUserToken(c,e.app.options.projectId))}class FirebaseStorageImpl{constructor(o,s,a,c,h){this.app=o,this._authProvider=s,this._appCheckProvider=a,this._url=c,this._firebaseVersion=h,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,c!=null?this._bucket=Location.makeFromBucketSpec(c,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(o){this._host=o,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,o):this._bucket=extractBucket(o,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(o){validateNumber("time",0,Number.POSITIVE_INFINITY,o),this._maxUploadRetryTime=o}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(o){validateNumber("time",0,Number.POSITIVE_INFINITY,o),this._maxOperationRetryTime=o}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const o=this._authProvider.getImmediate({optional:!0});if(o){const s=await o.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){const o=this._appCheckProvider.getImmediate({optional:!0});return o?(await o.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(o=>o.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(o){return new Reference(this,o)}_makeRequest(o,s,a,c,h=!0){if(this._deleted)return new FailRequest(appDeleted());{const g=makeRequest(o,this._appId,a,c,s,this._firebaseVersion,h);return this._requests.add(g),g.getPromise().then(()=>this._requests.delete(g),()=>this._requests.delete(g)),g}}async makeRequestWithTokens(o,s){const[a,c]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(o,s,a,c).getPromise()}}const name$3="@firebase/storage",version$3="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(e,o,s){return e=getModularInstance(e),uploadBytes$1(e,o,s)}function getDownloadURL(e){return e=getModularInstance(e),getDownloadURL$1(e)}function deleteObject(e){return e=getModularInstance(e),deleteObject$1(e)}function ref(e,o){return e=getModularInstance(e),ref$1(e,o)}function getStorage(e=getApp(),o){e=getModularInstance(e);const a=_getProvider(e,STORAGE_TYPE).getImmediate({identifier:o}),c=getDefaultEmulatorHostnameAndPort("storage");return c&&connectStorageEmulator(a,...c),a}function connectStorageEmulator(e,o,s,a={}){connectStorageEmulator$1(e,o,s,a)}function factory$1(e,{instanceIdentifier:o}){const s=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return new FirebaseStorageImpl(s,a,c,o,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory$1,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$3,version$3,""),registerVersion(name$3,version$3,"esm2017")}registerStorage();var name$2="firebase",version$2="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");const name$1="@firebase/installations",version$1="0.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_TIMEOUT_MS=1e4,PACKAGE_VERSION=`w:${version$1}`,INTERNAL_AUTH_VERSION="FIS_v2",INSTALLATIONS_API_URL="https://firebaseinstallations.googleapis.com/v1",TOKEN_EXPIRATION_BUFFER=60*60*1e3,SERVICE="installations",SERVICE_NAME="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_DESCRIPTION_MAP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ERROR_FACTORY$1=new ErrorFactory(SERVICE,SERVICE_NAME,ERROR_DESCRIPTION_MAP);function isServerError(e){return e instanceof FirebaseError&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:e}){return`${INSTALLATIONS_API_URL}/projects/${e}/installations`}function extractAuthTokenInfoFromResponse(e){return{token:e.token,requestStatus:2,expiresIn:getExpiresInFromResponseExpiresIn(e.expiresIn),creationTime:Date.now()}}async function getErrorFromResponse(e,o){const a=(await o.json()).error;return ERROR_FACTORY$1.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function getHeaders$1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function getHeadersWithAuth(e,{refreshToken:o}){const s=getHeaders$1(e);return s.append("Authorization",getAuthorizationHeader(o)),s}async function retryIfServerError(e){const o=await e();return o.status>=500&&o.status<600?e():o}function getExpiresInFromResponseExpiresIn(e){return Number(e.replace("s","000"))}function getAuthorizationHeader(e){return`${INTERNAL_AUTH_VERSION} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:e,heartbeatServiceProvider:o},{fid:s}){const a=getInstallationsEndpoint(e),c=getHeaders$1(e),h=o.getImmediate({optional:!0});if(h){const rt=await h.getHeartbeatsHeader();rt&&c.append("x-firebase-client",rt)}const g={fid:s,authVersion:INTERNAL_AUTH_VERSION,appId:e.appId,sdkVersion:PACKAGE_VERSION},_={method:"POST",headers:c,body:JSON.stringify(g)},et=await retryIfServerError(()=>fetch(a,_));if(et.ok){const rt=await et.json();return{fid:rt.fid||s,registrationStatus:2,refreshToken:rt.refreshToken,authToken:extractAuthTokenInfoFromResponse(rt.authToken)}}else throw await getErrorFromResponse("Create Installation",et)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(e){return new Promise(o=>{setTimeout(o,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bufferToBase64UrlSafe(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VALID_FID_PATTERN=/^[cdef][\w-]{21}$/,INVALID_FID="";function generateFid(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const s=encode(e);return VALID_FID_PATTERN.test(s)?s:INVALID_FID}catch{return INVALID_FID}}function encode(e){return bufferToBase64UrlSafe(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fidChangeCallbacks=new Map;function fidChanged(e,o){const s=getKey(e);callFidChangeCallbacks(s,o),broadcastFidChange(s,o)}function callFidChangeCallbacks(e,o){const s=fidChangeCallbacks.get(e);if(s)for(const a of s)a(o)}function broadcastFidChange(e,o){const s=getBroadcastChannel();s&&s.postMessage({key:e,fid:o}),closeBroadcastChannel()}let broadcastChannel=null;function getBroadcastChannel(){return!broadcastChannel&&"BroadcastChannel"in self&&(broadcastChannel=new BroadcastChannel("[Firebase] FID Change"),broadcastChannel.onmessage=e=>{callFidChangeCallbacks(e.data.key,e.data.fid)}),broadcastChannel}function closeBroadcastChannel(){fidChangeCallbacks.size===0&&broadcastChannel&&(broadcastChannel.close(),broadcastChannel=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DATABASE_NAME="firebase-installations-database",DATABASE_VERSION=1,OBJECT_STORE_NAME="firebase-installations-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DATABASE_NAME,DATABASE_VERSION,{upgrade:(e,o)=>{switch(o){case 0:e.createObjectStore(OBJECT_STORE_NAME)}}})),dbPromise}async function set(e,o){const s=getKey(e),c=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),h=c.objectStore(OBJECT_STORE_NAME),g=await h.get(s);return await h.put(o,s),await c.done,(!g||g.fid!==o.fid)&&fidChanged(e,o.fid),o}async function remove(e){const o=getKey(e),a=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite");await a.objectStore(OBJECT_STORE_NAME).delete(o),await a.done}async function update(e,o){const s=getKey(e),c=(await getDbPromise()).transaction(OBJECT_STORE_NAME,"readwrite"),h=c.objectStore(OBJECT_STORE_NAME),g=await h.get(s),_=o(g);return _===void 0?await h.delete(s):await h.put(_,s),await c.done,_&&(!g||g.fid!==_.fid)&&fidChanged(e,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(e){let o;const s=await update(e.appConfig,a=>{const c=updateOrCreateInstallationEntry(a),h=triggerRegistrationIfNecessary(e,c);return o=h.registrationPromise,h.installationEntry});return s.fid===INVALID_FID?{installationEntry:await o}:{installationEntry:s,registrationPromise:o}}function updateOrCreateInstallationEntry(e){const o=e||{fid:generateFid(),registrationStatus:0};return clearTimedOutRequest(o)}function triggerRegistrationIfNecessary(e,o){if(o.registrationStatus===0){if(!navigator.onLine){const c=Promise.reject(ERROR_FACTORY$1.create("app-offline"));return{installationEntry:o,registrationPromise:c}}const s={fid:o.fid,registrationStatus:1,registrationTime:Date.now()},a=registerInstallation(e,s);return{installationEntry:s,registrationPromise:a}}else return o.registrationStatus===1?{installationEntry:o,registrationPromise:waitUntilFidRegistration(e)}:{installationEntry:o}}async function registerInstallation(e,o){try{const s=await createInstallationRequest(e,o);return set(e.appConfig,s)}catch(s){throw isServerError(s)&&s.customData.serverCode===409?await remove(e.appConfig):await set(e.appConfig,{fid:o.fid,registrationStatus:0}),s}}async function waitUntilFidRegistration(e){let o=await updateInstallationRequest(e.appConfig);for(;o.registrationStatus===1;)await sleep(100),o=await updateInstallationRequest(e.appConfig);if(o.registrationStatus===0){const{installationEntry:s,registrationPromise:a}=await getInstallationEntry(e);return a||s}return o}function updateInstallationRequest(e){return update(e,o=>{if(!o)throw ERROR_FACTORY$1.create("installation-not-found");return clearTimedOutRequest(o)})}function clearTimedOutRequest(e){return hasInstallationRequestTimedOut(e)?{fid:e.fid,registrationStatus:0}:e}function hasInstallationRequestTimedOut(e){return e.registrationStatus===1&&e.registrationTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:e,heartbeatServiceProvider:o},s){const a=getGenerateAuthTokenEndpoint(e,s),c=getHeadersWithAuth(e,s),h=o.getImmediate({optional:!0});if(h){const rt=await h.getHeartbeatsHeader();rt&&c.append("x-firebase-client",rt)}const g={installation:{sdkVersion:PACKAGE_VERSION,appId:e.appId}},_={method:"POST",headers:c,body:JSON.stringify(g)},et=await retryIfServerError(()=>fetch(a,_));if(et.ok){const rt=await et.json();return extractAuthTokenInfoFromResponse(rt)}else throw await getErrorFromResponse("Generate Auth Token",et)}function getGenerateAuthTokenEndpoint(e,{fid:o}){return`${getInstallationsEndpoint(e)}/${o}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(e,o=!1){let s;const a=await update(e.appConfig,h=>{if(!isEntryRegistered(h))throw ERROR_FACTORY$1.create("not-registered");const g=h.authToken;if(!o&&isAuthTokenValid(g))return h;if(g.requestStatus===1)return s=waitUntilAuthTokenRequest(e,o),h;{if(!navigator.onLine)throw ERROR_FACTORY$1.create("app-offline");const _=makeAuthTokenRequestInProgressEntry(h);return s=fetchAuthTokenFromServer(e,_),_}});return s?await s:a.authToken}async function waitUntilAuthTokenRequest(e,o){let s=await updateAuthTokenRequest(e.appConfig);for(;s.authToken.requestStatus===1;)await sleep(100),s=await updateAuthTokenRequest(e.appConfig);const a=s.authToken;return a.requestStatus===0?refreshAuthToken(e,o):a}function updateAuthTokenRequest(e){return update(e,o=>{if(!isEntryRegistered(o))throw ERROR_FACTORY$1.create("not-registered");const s=o.authToken;return hasAuthTokenRequestTimedOut(s)?Object.assign(Object.assign({},o),{authToken:{requestStatus:0}}):o})}async function fetchAuthTokenFromServer(e,o){try{const s=await generateAuthTokenRequest(e,o),a=Object.assign(Object.assign({},o),{authToken:s});return await set(e.appConfig,a),s}catch(s){if(isServerError(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await remove(e.appConfig);else{const a=Object.assign(Object.assign({},o),{authToken:{requestStatus:0}});await set(e.appConfig,a)}throw s}}function isEntryRegistered(e){return e!==void 0&&e.registrationStatus===2}function isAuthTokenValid(e){return e.requestStatus===2&&!isAuthTokenExpired(e)}function isAuthTokenExpired(e){const o=Date.now();return o<e.creationTime||e.creationTime+e.expiresIn<o+TOKEN_EXPIRATION_BUFFER}function makeAuthTokenRequestInProgressEntry(e){const o={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:o})}function hasAuthTokenRequestTimedOut(e){return e.requestStatus===1&&e.requestTime+PENDING_TIMEOUT_MS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(e){const o=e,{installationEntry:s,registrationPromise:a}=await getInstallationEntry(o);return a?a.catch(console.error):refreshAuthToken(o).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(e,o=!1){const s=e;return await completeInstallationRegistration(s),(await refreshAuthToken(s,o)).token}async function completeInstallationRegistration(e){const{registrationPromise:o}=await getInstallationEntry(e);o&&await o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function extractAppConfig(e){if(!e||!e.options)throw getMissingValueError("App Configuration");if(!e.name)throw getMissingValueError("App Name");const o=["projectId","apiKey","appId"];for(const s of o)if(!e.options[s])throw getMissingValueError(s);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function getMissingValueError(e){return ERROR_FACTORY$1.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INSTALLATIONS_NAME="installations",INSTALLATIONS_NAME_INTERNAL="installations-internal",publicFactory=e=>{const o=e.getProvider("app").getImmediate(),s=extractAppConfig(o),a=_getProvider(o,"heartbeat");return{app:o,appConfig:s,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},internalFactory=e=>{const o=e.getProvider("app").getImmediate(),s=_getProvider(o,INSTALLATIONS_NAME).getImmediate();return{getId:()=>getId(s),getToken:c=>getToken(s,c)}};function registerInstallations(){_registerComponent(new Component(INSTALLATIONS_NAME,publicFactory,"PUBLIC")),_registerComponent(new Component(INSTALLATIONS_NAME_INTERNAL,internalFactory,"PRIVATE"))}registerInstallations();registerVersion(name$1,version$1);registerVersion(name$1,version$1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ANALYTICS_TYPE="analytics",GA_FID_KEY="firebase_id",ORIGIN_KEY="origin",FETCH_TIMEOUT_MILLIS=60*1e3,DYNAMIC_CONFIG_URL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GTAG_URL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ERROR_FACTORY=new ErrorFactory("analytics","Analytics",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(e){if(!e.startsWith(GTAG_URL)){const o=ERROR_FACTORY.create("invalid-gtag-resource",{gtagURL:e});return logger.warn(o.message),""}return e}function promiseAllSettled(e){return Promise.all(e.map(o=>o.catch(s=>s)))}function createTrustedTypesPolicy(e,o){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(e,o)),s}function insertScriptTag(e,o){const s=createTrustedTypesPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL}),a=document.createElement("script"),c=`${GTAG_URL}?l=${e}&id=${o}`;a.src=s?s==null?void 0:s.createScriptURL(c):c,a.async=!0,document.head.appendChild(a)}function getOrCreateDataLayer(e){let o=[];return Array.isArray(window[e])?o=window[e]:window[e]=o,o}async function gtagOnConfig(e,o,s,a,c,h){const g=a[c];try{if(g)await o[g];else{const et=(await promiseAllSettled(s)).find(rt=>rt.measurementId===c);et&&await o[et.appId]}}catch(_){logger.error(_)}e("config",c,h)}async function gtagOnEvent(e,o,s,a,c){try{let h=[];if(c&&c.send_to){let g=c.send_to;Array.isArray(g)||(g=[g]);const _=await promiseAllSettled(s);for(const et of g){const rt=_.find(ot=>ot.measurementId===et),it=rt&&o[rt.appId];if(it)h.push(it);else{h=[];break}}}h.length===0&&(h=Object.values(o)),await Promise.all(h),e("event",a,c||{})}catch(h){logger.error(h)}}function wrapGtag(e,o,s,a){async function c(h,...g){try{if(h==="event"){const[_,et]=g;await gtagOnEvent(e,o,s,_,et)}else if(h==="config"){const[_,et]=g;await gtagOnConfig(e,o,s,a,_,et)}else if(h==="consent"){const[_]=g;e("consent","update",_)}else if(h==="get"){const[_,et,rt]=g;e("get",_,et,rt)}else if(h==="set"){const[_]=g;e("set",_)}else e(h,...g)}catch(_){logger.error(_)}}return c}function wrapOrCreateGtag(e,o,s,a,c){let h=function(...g){window[a].push(arguments)};return window[c]&&typeof window[c]=="function"&&(h=window[c]),window[c]=wrapGtag(h,e,o,s),{gtagCore:h,wrappedGtag:window[c]}}function findGtagScriptOnPage(e){const o=window.document.getElementsByTagName("script");for(const s of Object.values(o))if(s.src&&s.src.includes(GTAG_URL)&&s.src.includes(e))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_RETRY_FACTOR=30,BASE_INTERVAL_MILLIS=1e3;class RetryData{constructor(o={},s=BASE_INTERVAL_MILLIS){this.throttleMetadata=o,this.intervalMillis=s}getThrottleMetadata(o){return this.throttleMetadata[o]}setThrottleMetadata(o,s){this.throttleMetadata[o]=s}deleteThrottleMetadata(o){delete this.throttleMetadata[o]}}const defaultRetryData=new RetryData;function getHeaders(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fetchDynamicConfig(e){var o;const{appId:s,apiKey:a}=e,c={method:"GET",headers:getHeaders(a)},h=DYNAMIC_CONFIG_URL.replace("{app-id}",s),g=await fetch(h,c);if(g.status!==200&&g.status!==304){let _="";try{const et=await g.json();!((o=et.error)===null||o===void 0)&&o.message&&(_=et.error.message)}catch{}throw ERROR_FACTORY.create("config-fetch-failed",{httpStatus:g.status,responseMessage:_})}return g.json()}async function fetchDynamicConfigWithRetry(e,o=defaultRetryData,s){const{appId:a,apiKey:c,measurementId:h}=e.options;if(!a)throw ERROR_FACTORY.create("no-app-id");if(!c){if(h)return{measurementId:h,appId:a};throw ERROR_FACTORY.create("no-api-key")}const g=o.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new AnalyticsAbortSignal;return setTimeout(async()=>{_.abort()},s!==void 0?s:FETCH_TIMEOUT_MILLIS),attemptFetchDynamicConfigWithRetry({appId:a,apiKey:c,measurementId:h},g,_,o)}async function attemptFetchDynamicConfigWithRetry(e,{throttleEndTimeMillis:o,backoffCount:s},a,c=defaultRetryData){var h;const{appId:g,measurementId:_}=e;try{await setAbortableTimeout(a,o)}catch(et){if(_)return logger.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${et==null?void 0:et.message}]`),{appId:g,measurementId:_};throw et}try{const et=await fetchDynamicConfig(e);return c.deleteThrottleMetadata(g),et}catch(et){const rt=et;if(!isRetriableError(rt)){if(c.deleteThrottleMetadata(g),_)return logger.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${rt==null?void 0:rt.message}]`),{appId:g,measurementId:_};throw et}const it=Number((h=rt==null?void 0:rt.customData)===null||h===void 0?void 0:h.httpStatus)===503?calculateBackoffMillis(s,c.intervalMillis,LONG_RETRY_FACTOR):calculateBackoffMillis(s,c.intervalMillis),ot={throttleEndTimeMillis:Date.now()+it,backoffCount:s+1};return c.setThrottleMetadata(g,ot),logger.debug(`Calling attemptFetch again in ${it} millis`),attemptFetchDynamicConfigWithRetry(e,ot,a,c)}}function setAbortableTimeout(e,o){return new Promise((s,a)=>{const c=Math.max(o-Date.now(),0),h=setTimeout(s,c);e.addEventListener(()=>{clearTimeout(h),a(ERROR_FACTORY.create("fetch-throttle",{throttleEndTimeMillis:o}))})})}function isRetriableError(e){if(!(e instanceof FirebaseError)||!e.customData)return!1;const o=Number(e.customData.httpStatus);return o===429||o===500||o===503||o===504}class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(o){this.listeners.push(o)}abort(){this.listeners.forEach(o=>o())}}async function logEvent$1(e,o,s,a,c){if(c&&c.global){e("event",s,a);return}else{const h=await o,g=Object.assign(Object.assign({},a),{send_to:h});e("event",s,g)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(isIndexedDBAvailable())try{await validateIndexedDBOpenable()}catch(e){return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return logger.warn(ERROR_FACTORY.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _initializeAnalytics(e,o,s,a,c,h,g){var _;const et=fetchDynamicConfigWithRetry(e);et.then(ct=>{s[ct.measurementId]=ct.appId,e.options.measurementId&&ct.measurementId!==e.options.measurementId&&logger.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${ct.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ct=>logger.error(ct)),o.push(et);const rt=validateIndexedDB().then(ct=>{if(ct)return a.getId()}),[it,ot]=await Promise.all([et,rt]);findGtagScriptOnPage(h)||insertScriptTag(h,it.measurementId),c("js",new Date);const st=(_=g==null?void 0:g.config)!==null&&_!==void 0?_:{};return st[ORIGIN_KEY]="firebase",st.update=!0,ot!=null&&(st[GA_FID_KEY]=ot),c("config",it.measurementId,st),it.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AnalyticsService{constructor(o){this.app=o}_delete(){return delete initializationPromisesMap[this.app.options.appId],Promise.resolve()}}let initializationPromisesMap={},dynamicConfigPromisesList=[];const measurementIdToAppId={};let dataLayerName="dataLayer",gtagName="gtag",gtagCoreFunction,wrappedGtagFunction,globalInitDone=!1;function warnOnBrowserContextMismatch(){const e=[];if(isBrowserExtension()&&e.push("This is a browser extension environment."),areCookiesEnabled()||e.push("Cookies are not available."),e.length>0){const o=e.map((a,c)=>`(${c+1}) ${a}`).join(" "),s=ERROR_FACTORY.create("invalid-analytics-context",{errorInfo:o});logger.warn(s.message)}}function factory(e,o,s){warnOnBrowserContextMismatch();const a=e.options.appId;if(!a)throw ERROR_FACTORY.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)logger.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ERROR_FACTORY.create("no-api-key");if(initializationPromisesMap[a]!=null)throw ERROR_FACTORY.create("already-exists",{id:a});if(!globalInitDone){getOrCreateDataLayer(dataLayerName);const{wrappedGtag:h,gtagCore:g}=wrapOrCreateGtag(initializationPromisesMap,dynamicConfigPromisesList,measurementIdToAppId,dataLayerName,gtagName);wrappedGtagFunction=h,gtagCoreFunction=g,globalInitDone=!0}return initializationPromisesMap[a]=_initializeAnalytics(e,dynamicConfigPromisesList,measurementIdToAppId,o,gtagCoreFunction,dataLayerName,s),new AnalyticsService(e)}function getAnalytics(e=getApp()){e=getModularInstance(e);const o=_getProvider(e,ANALYTICS_TYPE);return o.isInitialized()?o.getImmediate():initializeAnalytics(e)}function initializeAnalytics(e,o={}){const s=_getProvider(e,ANALYTICS_TYPE);if(s.isInitialized()){const c=s.getImmediate();if(deepEqual(o,s.getOptions()))return c;throw ERROR_FACTORY.create("already-initialized")}return s.initialize({options:o})}function logEvent(e,o,s,a){e=getModularInstance(e),logEvent$1(wrappedGtagFunction,initializationPromisesMap[e.app.options.appId],o,s,a).catch(c=>logger.error(c))}const name="@firebase/analytics",version="0.10.2";function registerAnalytics(){_registerComponent(new Component(ANALYTICS_TYPE,(o,{options:s})=>{const a=o.getProvider("app").getImmediate(),c=o.getProvider("installations-internal").getImmediate();return factory(a,c,s)},"PUBLIC")),_registerComponent(new Component("analytics-internal",e,"PRIVATE")),registerVersion(name,version),registerVersion(name,version,"esm2017");function e(o){try{const s=o.getProvider(ANALYTICS_TYPE).getImmediate();return{logEvent:(a,c,h)=>logEvent(s,a,c,h)}}catch(s){throw ERROR_FACTORY.create("interop-component-reg-failed",{reason:s})}}}registerAnalytics();const firebaseConfig={apiKey:"AIzaSyC5w2WdLa5m46QVtFhTgxjocj_uMXXA3nw",authDomain:"webproduction-2d0a9.firebaseapp.com",projectId:"webproduction-2d0a9",storageBucket:"webproduction-2d0a9.appspot.com",messagingSenderId:"482736894823",appId:"1:482736894823:web:9f9f2773dc2491eaafb5c2",measurementId:"G-1WWS1MS019"},app=initializeApp(firebaseConfig);getAnalytics(app);const storage=getStorage(),db=getFirestore(app);let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let e=0;e<256;++e)byteToHex.push((e+256).toString(16).slice(1));function unsafeStringify(e,o=0){return byteToHex[e[o+0]]+byteToHex[e[o+1]]+byteToHex[e[o+2]]+byteToHex[e[o+3]]+"-"+byteToHex[e[o+4]]+byteToHex[e[o+5]]+"-"+byteToHex[e[o+6]]+byteToHex[e[o+7]]+"-"+byteToHex[e[o+8]]+byteToHex[e[o+9]]+"-"+byteToHex[e[o+10]]+byteToHex[e[o+11]]+byteToHex[e[o+12]]+byteToHex[e[o+13]]+byteToHex[e[o+14]]+byteToHex[e[o+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(e,o,s){if(native.randomUUID&&!o&&!e)return native.randomUUID();e=e||{};const a=e.random||(e.rng||rng)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,o){s=s||0;for(let c=0;c<16;++c)o[s+c]=a[c];return o}return unsafeStringify(a)}class ProductRepository{constructor(){Er(this,"GroupsRef",collection(db,"Group"))}async ProductById(o){const s=doc(db,"Product",o);try{const a=await getDoc(s);if(a.exists()){const c=a.data();return new Product(o,c.ProductName,c.Date.toDate(),c.Quantity,c.Group,c.Price,c.Collection,!1,c.Tags,c.Cost,c.Images)}throw Error("Error")}catch(a){throw a}}async UploadImages(o){return await Promise.all(o.map(async a=>{const c=await uploadBytes(ref(storage,`products/${v4()}`),a);return getDownloadURL(c.ref)}))}async Create(o){try{let s={...o};return delete s.IdProduct,delete s.Select,(await addDoc(collection(db,"Product"),s)).id}catch(s){throw s}}async Update(o){const s=doc(db,"Product",o.IdProduct);try{const a={ProductName:o.ProductName,Date:o.Date,Quantity:o.Quantity,Group:o.Group,Price:o.Price,Collection:o.Collection,Tags:o.Tags,Cost:o.Cost,Images:o.Images};return await updateDoc(s,a),!0}catch(a){return console.error("Error updating document: ",a),!1}}async Read(){let o=[];return(await getDocs(collection(db,"Product"))).docs.map(s=>{let a=s.data();o.push(new Product(s.id,a.ProductName,a.Date.toDate(),a.Quantity,a.Group,a.Price,a.Collection,!1,a.Tags,a.Cost,a.Images))}),o}async Delete(o){console.log(o);const s=async()=>{const c=o.Images.map(h=>{const g=ref(storage,h);return deleteObject(g)});try{return await Promise.all(c),!0}catch(h){return console.error("Error deleting images:",h),!1}},a=async()=>{const c=doc(db,"Product",o.IdProduct);try{return await deleteDoc(c),!0}catch(h){return console.error("Error deleting product document:",h),!1}};try{let c=!0;o.Images.length>0&&(c=await s());const h=await a();return!(!c||!h)}catch(c){return console.error("Error during deletion process:",c),!1}}}class CollectionRepository{constructor(){Er(this,"collectionsRef",collection(db,"Collection"))}async Create(o){try{let s={...o};return delete s.CollectionId,delete s.Select,(await addDoc(collection(db,"Collection"),s)).id}catch(s){throw s}}async Update(o){const s=doc(db,"Collection",o.CollectionId);try{const a={CollectionName:o.CollectionName};return await updateDoc(s,a),!0}catch(a){return console.error("Error updating document: ",a),!1}}async Read(){let o=[];return(await getDocs(collection(db,"Collection"))).docs.map(s=>{let a=s.data();o.push(new Collection(s.id,a.CollectionName))}),o}Delete(o){throw new Error("Method not implemented.")}}class GroupRepository{constructor(){Er(this,"productsRef",collection(db,"Collection"))}async Create(o){try{let s={...o};return delete s.GroupId,delete s.Select,(await addDoc(collection(db,"Group"),s)).id}catch(s){throw s}}async Update(o){const s=doc(db,"Collection",o.GroupId);try{const a={GroupName:o.GroupName};return await updateDoc(s,a),!0}catch(a){return console.error("Error updating document: ",a),!1}}async Read(){let o=[];return(await getDocs(collection(db,"Group"))).docs.map(s=>{let a=s.data();o.push(new Group(s.id,a.GroupName))}),o}Delete(o){throw new Error("Method not implemented.")}}class ComponentServices{constructor(o){Er(this,"iComponentModel");this.iComponentModel=o}async Create(o){return await this.iComponentModel.Create(o)}async Update(o){return await this.iComponentModel.Update(o)}async Read(){return await this.iComponentModel.Read()}async Delete(o){return await this.iComponentModel.Delete(o)}}class ComponentRepository{async Create(o){try{let s={...o};return delete s.IdComponent,(await addDoc(collection(db,"Component"),s)).id}catch(s){throw s}}async Update(o){const s=doc(db,"Component",o.IdComponent);console.log(s);try{const a={Name:o.Name,Quantity:o.Quantity};return await updateDoc(s,a),!0}catch(a){return console.error("Error updating document: ",a),!1}}async Read(){let o=[];return(await getDocs(collection(db,"Component"))).docs.map(s=>{let a=s.data();o.push(new Component$1(s.id,a.Name,a.Quantity))}),o}async Delete(o){const s=doc(db,"Component",o.IdComponent);try{return await deleteDoc(s),!0}catch{return!1}}}class TreeComponentRepository{async Create(o){try{let s={...o};return delete s.IdTreeComponent,(await addDoc(collection(db,"TreeComponent"),s)).id}catch(s){throw s}}async Update(o){const s=doc(db,"TreeComponent",o.IdTreeComponent);try{const a={IdTreeComponent:o.IdTreeComponent,IdParent:o.IdParent,Quantity:o.Quantity};return await updateDoc(s,a),!0}catch{return!1}}async Read(){let o=[];return(await getDocs(collection(db,"TreeComponent"))).docs.map(s=>{let a=s.data();o.push(new TreeComponent(s.id,a.IdParent,a.Quantity))}),o}async Delete(o){const s=doc(db,"TreeComponent",o.IdTreeComponent);try{return await deleteDoc(s),!0}catch{return!1}}}class TreeComponentServices{constructor(o){Er(this,"iTreeComponentModel");this.iTreeComponentModel=o}async Create(o){return await this.iTreeComponentModel.Create(o)}async Update(o){return await this.iTreeComponentModel.Update(o)}async Read(){return await this.iTreeComponentModel.Read()}async Delete(o){return await this.iTreeComponentModel.Delete(o)}}class ProductComponentsServices{constructor(o){Er(this,"iProductComponentsModel");this.iProductComponentsModel=o}async Create(o){return await this.iProductComponentsModel.Create(o)}async Update(o){return await this.iProductComponentsModel.Update(o)}async Read(){return await this.iProductComponentsModel.Read()}async Delete(o){return await this.iProductComponentsModel.Delete(o)}}class ProductComponentsRepository{async Create(o){try{console.log(ProductComponents);let s={...o};return delete s.IdProductComponents,(await addDoc(collection(db,"ProductComponent"),s)).id}catch(s){throw s}}async Update(o){const s=doc(db,"ProductComponent",o.IdProductComponents);try{const a={IdComponents:o.IdComponents};return await updateDoc(s,a),!0}catch{return!1}}async Read(){let o=[];return(await getDocs(collection(db,"ProductComponent"))).docs.map(s=>{let a=s.data();o.push(new ProductComponents(s.id,a.IdComponents,a.IdProduct))}),o}async Delete(o){const s=doc(db,"ProductComponent",o.IdProductComponents);try{return await deleteDoc(s),!0}catch{return!1}}}class TreeComponentDetailServices{constructor(o){Er(this,"iTreeComponentDetailModel");this.iTreeComponentDetailModel=o}async Create(o){return await this.iTreeComponentDetailModel.Create(o)}async Update(o){return await this.iTreeComponentDetailModel.Update(o)}async Read(){return await this.iTreeComponentDetailModel.Read()}async Delete(o){return await this.iTreeComponentDetailModel.Delete(o)}}class TreeComponentDetail{constructor(o,s,a,c){Er(this,"IdTreeComponentDetail");Er(this,"IdComponent");Er(this,"IdTreeComponent");Er(this,"Quantity");this.IdTreeComponentDetail=o,this.IdComponent=s,this.IdTreeComponent=a,this.Quantity=c}}class TreeComponentDetailRepository{async Create(o){try{let s={...o};return delete s.IdTreeComponentDetail,(await addDoc(collection(db,"TreeComponentDetail"),s)).id}catch(s){throw s}}async Update(o){const s=doc(db,"TreeComponentDetail",o.IdTreeComponentDetail);try{const a={IdTreeComponentDetail:o.IdTreeComponentDetail,IdTreeComponent:o.IdTreeComponent,IdComponent:o.IdComponent,Quantity:o.Quantity};return await updateDoc(s,a),!0}catch{return!1}}async Read(){let o=[];return(await getDocs(collection(db,"TreeComponentDetail"))).docs.map(s=>{let a=s.data();o.push(new TreeComponentDetail(s.id,a.IdComponent,a.IdTreeComponent,a.Quantity))}),o}async Delete(o){const s=doc(db,"TreeComponentDetail",o.IdTreeComponentDetail);try{return await deleteDoc(s),!0}catch{return!1}}}const InventoryProvider=({children:e})=>{reactExports.useState("");const o=new ProductServices(new ProductRepository,new CollectionRepository,new GroupRepository),s=new ComponentServices(new ComponentRepository),a=new TreeComponentServices(new TreeComponentRepository),c=new ProductComponentsServices(new ProductComponentsRepository),h=new TreeComponentDetailServices(new TreeComponentDetailRepository),[g,_]=reactExports.useState(null),[et,rt]=reactExports.useState(null),[it,ot]=reactExports.useState(null),[st,ct]=reactExports.useState(null),[dt,Tt]=reactExports.useState(null),[Et,mt]=reactExports.useState(null),[gt,xt]=reactExports.useState(null);return jsxRuntimeExports.jsx(InventoryContext.Provider,{value:{productServices:o,Collections:g,useCollection:_,Groups:et,useGroup:rt,Products:it,useProduct:ot,Components:st,useComponent:ct,componentServices:s,TreesComponent:dt,useTreesComponent:Tt,treeComponentServices:a,ProductsComponents:Et,useProductsComponents:mt,productComponentsServices:c,TreesComponentDetail:gt,useTreesComponentDetail:xt,treeComponentDetailServices:h},children:e})},ProductionLayout=()=>jsxRuntimeExports.jsx(InventoryProvider,{children:jsxRuntimeExports.jsx("main",{style:{display:"flex",flexDirection:"row",overflow:"hidden"},children:jsxRuntimeExports.jsx(Outlet,{})})});function App(){return reactExports.useState(0),jsxRuntimeExports.jsx(UserProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(InventoryLayout,{})}),jsxRuntimeExports.jsxs(Route,{path:"/production",element:jsxRuntimeExports.jsx(ProductionLayout,{}),children:[jsxRuntimeExports.jsxs(Route,{path:"",element:jsxRuntimeExports.jsx(InventoryLayout,{}),children:[jsxRuntimeExports.jsx(Route,{path:"inventory",element:jsxRuntimeExports.jsx(Inventory,{})}),jsxRuntimeExports.jsx(Route,{path:"equation",element:jsxRuntimeExports.jsx(CalculatorPage,{})})]}),jsxRuntimeExports.jsx(Route,{path:"inventory/component/:productId",element:jsxRuntimeExports.jsx(Component$2,{})})]}),jsxRuntimeExports.jsx(Route,{path:"/auth",element:jsxRuntimeExports.jsx(AuthLayout,{}),children:jsxRuntimeExports.jsx(Route,{index:!0,element:jsxRuntimeExports.jsx(Login,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(ErrorPage,{})})]})})}createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(Jn,{richColors:!0}),jsxRuntimeExports.jsx(App,{})]})}));export{getThemeVariables$2 as $,isPlainObject as A,isFunction as B,utils$1 as C,rgba as D,unsafeStringify as E,setDiagramTitle as F,getDiagramTitle as G,clear as H,curveBasis as I,parseGenericTypes as J,setupGraphViewbox as K,random as L,define as M,extend$1 as N,Color$1 as O,rgbConvert as P,nogamma as Q,Rgb as R,Selection$2 as S,hue as T,commonjsGlobal$1 as U,dayjs as V,selectSvgElement as W,tau as X,defaultConfig$2 as Y,cleanAndMerge as Z,parseFontSize as _,getAccTitle as a,cloneBuffer as a$,getConfig$1 as a0,constant$1 as a1,interpolateNumber as a2,color as a3,interpolateRgb as a4,interpolateString as a5,hasKatex as a6,calculateMathMLDimensions as a7,ZERO_WIDTH_SPACE as a8,generateId as a9,sin as aA,halfPi as aB,epsilon as aC,sqrt as aD,min as aE,abs$1 as aF,atan2 as aG,asin as aH,acos as aI,max as aJ,Utils as aK,Color as aL,isObjectLike as aM,baseGetTag as aN,Symbol$1 as aO,arrayLikeKeys as aP,baseKeys as aQ,memoize as aR,isArguments$1 as aS,copyObject as aT,getPrototype$1 as aU,cloneArrayBuffer as aV,cloneTypedArray as aW,getTag$1 as aX,nodeUtil as aY,copyArray as aZ,isBuffer$1 as a_,isObject$2 as aa,setToString as ab,overRest as ac,root as ad,baseRest as ae,isIterateeCall as af,keysIn as ag,eq as ah,isArrayLike as ai,isArray$1 as aj,baseFor as ak,baseAssignValue as al,identity as am,isIndex as an,assignValue as ao,baseUnary as ap,constant as aq,merge$1 as ar,lineBreakRegex as as,defaultConfig as at,commonDb as au,isDark as av,lighten as aw,darken as ax,pi as ay,cos as az,getAccDescription as b,initCloneObject as b0,Stack as b1,MapCache as b2,Uint8Array$1 as b3,isTypedArray$1 as b4,isLength as b5,Set$1 as b6,isArrayLikeObject as b7,isEmpty$1 as b8,decodeEntities as b9,dedent as ba,setAccDescription as c,getConfig as d,sanitizeText$2 as e,assignWithDepth$1 as f,getDefaultExportFromCjs as g,calculateTextWidth as h,select$1 as i,configureSvgSize as j,common$1 as k,log$1 as l,calculateTextHeight as m,dist$1 as n,curveLinear as o,getStylesFromArray as p,evaluate as q,requireKatex as r,setAccTitle as s,renderKatex as t,interpolateToCurve as u,setupGraphViewbox$1 as v,wrapLabel as w,setConfig as x,root$1 as y,array as z};
